!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";function i(t){if(t){if(t instanceof HTMLElement)return t;if(Array.isArray(t.element)){for(let e=0;e<t.element.length;++e){let n=i(t.element[e]);if(n)return n}return null}return i(t.element)}return null}function s(t){return t?t instanceof HTMLElement?t:Array.isArray(t.element)?s(t.__parent):s(t.element):null}function o(t,e){if(t){if(!e&&t instanceof HTMLElement)return t;{let n=e?t.__nextSibling:t;for(;n;){let t=i(n);if(t)return t;n=n.__nextSibling}let s=t.__parent;for(;s&&Array.isArray(s.element);){let t=o(s.__nextSibling);if(t)return t;s=s.__parent}}}return null}function r(t,...e){e.forEach(e=>{e instanceof HTMLElement?s(t).append(e):Array.isArray(e.element)?e.element.forEach(e=>r(t,e)):e.element&&r(t,e.element)})}function c(t,e,n){e instanceof HTMLElement?s(t).insertBefore(e,o(n)):Array.isArray(e.element)?e.element.forEach(e=>c(t,e,n)):c(t,e.element,n)}function l(t){return t instanceof Function?t():t}function a(t){t.remove instanceof Function?t.remove():Array.isArray(t)?t.forEach(t=>a(t)):t.element&&a(t.element)}n.d(e,"m",(function(){return l})),n.d(e,"a",(function(){return h})),n.d(e,"k",(function(){return m})),n.d(e,"j",(function(){return f})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return O})),n.d(e,"b",(function(){return v})),n.d(e,"l",(function(){return g}));class h{constructor(t,e,n){this.context=e,this.awake(),this.children=n||this.component(e),Array.isArray(this.children)||(this.children=[this.children]);for(let t=0;t<this.children.length;++t){let n=this.children[t];Array.isArray(n)?(this.children.splice(t,1,...n),--t):n instanceof Function?(n=n(e),n?this.children[t]=new h(null,e,n):(this.children.splice(t,1),--t)):n instanceof h||(this.children.splice(t,1),--t)}if(t){t instanceof HTMLElement?(this.element=t,r(this.element,...this.children)):(this.element=document.createElement(t),r(this.element,...this.children)),this.__backedContext=[];let e=Object.keys(this.context);for(let t=0;t<e.length;++t){let n=e[t];n.startsWith("on")?this.element[n]=this.context[n]:n.startsWith("_")||void 0!==this.element[n]&&this.__backedContext.push(()=>{let t=l(this.context[n]);this.element[n]!==t&&(this.element[n]=t)})}this.__applyHtmlContext()}else this.element=this.children;for(let t=0;t<this.children.length;++t){let e=this.children[t];e instanceof h&&(e.__parent=this,e.__nextSibling=this.children[t+1])}}component(t){return[]}__reset(){this.children.forEach(t=>t.__reset()),Array.isArray(this.element)&&this.element.forEach(t=>t.__reset()),this.element instanceof h&&this.element.__reset(),this.__started=!1,this.awake(),this.__applyHtmlContext()}awake(){}__start(){return this.__started=!0,this.start()}start(){}__stop(){this.children.forEach(t=>t.__stop()),Array.isArray(this.element)&&this.element.forEach(t=>t.__stop()),this.stop(),this.__started=!1}stop(){}async update(){this.__started||await this.__start();try{this.__applyHtmlContext(),this.children.forEach(t=>function(t,e){t.update instanceof Function?t.update(e):t.element&&t.element.update instanceof Function&&t.element.update(e)}(t))}catch(t){throw t.componentStack||(t.componentStack=[]),t.componentStack.push(this),t}}__applyHtmlContext(){this.element instanceof HTMLElement&&this.__backedContext.forEach(t=>t())}remove(){this.__started&&this.__stop(),a(this.element)}}function u(t,e,...n){return new h(t,e,n)}class d{constructor(t){this.__pool=[],this.__component=t}push(t){t.__pool&&this.__pool.push(t)}pop(t){let e=this.__pool.pop();if(e)return e.__pool.__context=t,e.__reset(),e;{let n={__context:t};return t&&Object.keys(t).forEach(t=>{Object.defineProperty(n,t,{get:function(){return this.__context[t]},set:function(e){this.__context[t]=e}})}),e=new h(null,n,this.__component(n)),e.__pool=n,e.__remove=e.remove,e.remove=()=>{e.__remove(),this.push(e)},e}}}function p(t,e){return u("input",Object.assign(t,{type:e}))}function m(...t){return void 0!==t[0].items?x({data:()=>t[0].items.filter(t=>l(t.active)).slice(0,t[1]||1),component:t=>(t.createElement||t.component)()}):x({data:()=>t.filter(t=>l(t.active)).slice(0,1),component:t=>t.component()})}function f(...t){return m(...t.map(t=>({active:t.active,component:y(t.component)})))}let _=0;class b extends h{constructor(t){let e=[];super(null,t,e),t.component||(t.component=t.createElement),this.oldData=[],this.elements=e,this.dict={},this.__updateList()}__insertAt(t,e){this.__started&&(t<this.elements.length?c(this.__parent,e,this.elements[t]):c(this.__parent,e,o(this,!0)))}update(){this.__updateList(),super.update()}__updateList(){let t=l(this.context.data),e={},n={};for(let i=0;i<t.length;++i){let s=t[i],o=this.oldData[i],r=s instanceof Object;if(r&&s==o)continue;let c=r?s.__key||(s.__key=++_):s,l=this.dict[c];if(l){if(!r){let t=n[c];if(t&&t.length>=l.length){let t=new h(null,s,this.context.component(s));l.__parent=this,l.push(t),l=t;let e=n[c];e?e.push(l):n[c]=[l]}else{let t=l.shift();l.push(t),l=t;let e=n[c];if(e?e.push(l):n[c]=[l],s==o)continue}}let t=e[c];t&&(r?delete e[c]:t.splice(t.indexOf(l),1)),r&&(n[c]=l)}else if(l=new h(null,s,this.context.component(s)),l.__parent=this,r)this.dict[c]=l;else{let t=this.dict[c];t?t.push(l):this.dict[c]=[l];let e=n[c];e?e.push(l):n[c]=[l]}let a=this.elements[i],u=i+1;for(;u<this.elements.length;++u){let t=this.oldData[u];if(r){if(n[t.__key])continue;break}{let e=n[t];if(e){let t=this.elements[u];if(e.indexOf(t)>-1)continue}break}}if(this.__insertAt(u,l),u-1>0&&(this.elements[u-2].__nextSibling=l),a)if(r)n[o.__key]||(e[o.__key]=a);else{let t=n[o];if(!t||t.indexOf(a)<0){let t=e[o];t?t.push(a):e[o]=[a]}}this.elements[i]=l,this.oldData[i]=s}if(Object.keys(e).forEach(t=>{let n=e[t],i=this.dict[t];Array.isArray(n)?(n.forEach(t=>{a(t),i.splice(i.indexOf(element),1)}),0===i.length&&delete this.dict[t]):(a(n),delete this.dict[t])}),this.oldData.length>t.length){for(let e=t.length;e<this.oldData.length;++e){let t=this.elements[e],i=this.oldData[e],s=i instanceof Object,o=s?i.__key:i;if(!s||!n[i.__key]){{let e=n[i];if(e&&e.indexOf(t)>-1)continue}if(s)delete this.dict[o];else{let e=this.dict[o];e.splice(e.indexOf(t),1),0===e.length&&delete this.dict[o]}a(t)}}this.elements.splice(t.length,this.elements.length),this.oldData.splice(t.length,this.oldData.length),this.elements.length>0&&(this.elements[this.elements.length-1].__nextSibling=null)}}}function x(t){return new b(t)}function O(t){let e=new d(t.component);return x({data:t.data,component:t=>e.pop(t)})}function y(t){let e=new d(t);return()=>e.pop()}class v{constructor(t,e){this.__element=null,this.__mounted=!1,this.__siblingAppContexts=e||[],this.data=t;let n=t=>{Object.keys(t).forEach(e=>{if(e.startsWith("on")){let n=t[e];t[e]=async(...t)=>{let e=n(...t);for(;e instanceof Promise;)e=await e;return this.update(),e}}})};this.div=function(t,...e){return n(t),function(t,...e){return u("div",t,...e)}(t,...e)},this.span=function(t,...e){return n(t),function(t,...e){return u("span",t,...e)}(t,...e)},this.inputText=function(t){return n(t),function(t){return p(t,"text")}(t)},this.select=function(t){return n(t),function(t){let e=t.options;if(delete t.options,e instanceof Function){let t=e,n=[];e=()=>{let e=t();if(n===e)return n;for(let t=0;t<n.length;++t){let i=n[t];if(!e.includes(i)){let t=e.findIndex(t=>t.value===i.value&&t.text===i.text);t>-1&&(e[t]=i)}}}}return u("select",t,O({data:e,component:e=>u("option",{innerText:()=>e.text,value:()=>e.value,selected:()=>e.value===l(t.value)})}))}(t)},this.button=function(t){return n(t),function(t){return u("button",t)}(t)},this.p=function(t,...e){return n(t),function(t,...e){return u("p",t,...e)}(t,...e)},this.label=function(t,...e){return n(t),function(t,...e){return u("label",t,...e)}(t,...e)},this.a=function(t,...e){return n(t),function(t,...e){return u("a",t,...e)}(t,...e)},this.iframe=function(t,...e){return n(t),function(t,...e){let n=u("iframe",t),s=(n.update.bind(n.update),i(n)),o=setInterval(()=>{if(s.contentDocument){clearInterval(o);let i=u(s.contentDocument.body,t,...e);n.update=()=>{i.update()}}},30);return n}(t,...e)},this.mount=this.mount.bind(this),this.component=this.component.bind(this),this.update=this.update.bind(this),this.error=this.error.bind(this)}mount(t,...e){if(this.__mounted)throw new Error("context is already mounted");return this.__element=u(t,{},...e),this.__mounted=!0,this.update(),this.__element}component(t){if(!this.__mounted){let e=t.update;t.update=()=>{this.__mounted||(this.__mounted=!0),t.update=e,t.update()},this.__element=t}return t}update(){let t=Date.now();try{this.__element.update(),this.__siblingAppContexts.forEach(t=>{t.update()})}catch(t){this.error(t)}console.log("update time",Date.now()-t)}error(t){t.componentStack?console.error(t,t.componentStack):console.error(t)}}function g(t,e){return{...e||t,component:t.component,data:t}}},function(t,e,n){"use strict";n.r(e);var i=n(0);class s extends i.a{constructor(t){super(null,t,[]),this.element=Object(i.div)({},Object(i.inputText)({value:this.context.value,onkeyup:t=>this.context.onchange(t),onchange:t=>this.context.onchange(t),onfocus:()=>{this.focus=!0,this.update()},onblur:()=>{this.focus=!1,this.update()}}),Object(i.div)({style:()=>`${this.focus?"":"display: none;"}`},Object(i.h)({data:()=>Object(i.m)(this.context.suggestions).filter(t=>t.startsWith(Object(i.m)(this.context.value))),createElement:t=>Object(i.div)({innerText:t,setState:function(t){this.innerText=t}})})))}update(){this.element.update()}}class o{constructor(t){this.context=t,this.element=Object(i.body)(function(t){return new s(t)}({value:()=>this.searchValue||"",onchange:t=>{this.searchValue=t.target.value,this.update()},suggestions:["wall","stay","love","feel","be","do"]}),Object(i.div)({},Object(i.h)({data:["item 1","item 2"],createElement:t=>Object(i.div)({innerText:t})},Object(i.div)({}))))}update(){this.element.update()}}class r{constructor(){this.items=["1","2","3"],this.buttonClicked=!1,this.count=0,this.tags="",this.leftright=[{value:1,side:!1},{value:2,side:!1},{value:3,side:!1},{value:4,side:!0}]}}new class{constructor(t){this.parent=t,this.context=new r,this.element=Object(i.component)(t,{style:"color: blue;"},Object(i.body)(Object(i.div)({style:"position: relative;"},Object(i.component)("h1",{innerText:()=>"No no no"}),Object(i.inputText)({value:()=>this.context.tags,onchange:t=>{this.context.tags=t.target.value,this.update()},onkeyup:t=>{this.context.tags=t.target.value,this.update()}}),Object(i.h)({data:()=>this.context.tags.split(" ").filter(t=>t),createElement:t=>Object(i.div)({style:`color: ${t};`,innerText:t+" "})})),Object(i.div)({innerHTML:"<strong>AAA</strong>aaa!"}),(()=>{let t={items1:["List 1","Item 1","Item 2"],items2:["List 2","Item 1","Item 2"],items3:["List 3","Item 1","Item 2"]};return Object(i.body)(Object(i.button)({innerText:"Add to list 1",onclick:()=>{t.items1.push(0===t.items1.length?"List 1":`Item ${t.items1.length}`),this.update()}}),Object(i.button)({innerText:"Add to list 2",onclick:()=>{t.items2.push(0===t.items2.length?"List 2":`Item ${t.items2.length}`),this.update()}}),Object(i.button)({innerText:"Add to list 3",onclick:()=>{t.items3.push(0===t.items3.length?"List 3":`Item ${t.items3.length}`),this.update()}}),Object(i.h)({data:()=>t.items1,createElement:e=>Object(i.body)(Object(i.div)({innerText:e}),Object(i.button)({innerText:`remove ${e}`,onclick:()=>{t.items1.splice(t.items1.indexOf(e),1),this.update()}}))}),Object(i.h)({data:()=>t.items2,createElement:e=>Object(i.body)(Object(i.div)({innerText:e}),Object(i.button)({innerText:`remove ${e}`,onclick:()=>{t.items2.splice(t.items2.indexOf(e),1),this.update()}}))}),Object(i.h)({data:()=>t.items3,createElement:e=>Object(i.body)(Object(i.div)({innerText:e}),Object(i.button)({innerText:`remove ${e}`,onclick:()=>{t.items3.splice(t.items3.indexOf(e),1),this.update()}}))}))})(),Object(i.div)({id:1},Object(i.h)({data:()=>this.context.items,createElement:t=>Object(i.div)({innerText:t,setState:function(t){this.innerText=t}})})),Object(i.button)({className:()=>`clickable ${this.context.buttonClicked?"clicked":null}`,innerText:()=>this.context.buttonClicked?"Click again!":"Click me!",onclick:t=>{this.context.buttonClicked=!0,Math.random()>.5?this.context.items.splice(0,1):this.context.items.splice(Math.round(Math.random()*(this.context.items.length-1)),0,Math.round(30*Math.random())),this.context.count+=1,this.update()}}),Object(i.div)({innerText:()=>this.context.count}),Object(i.div)({},Object(i.inputText)({placeholder:"enter something"}),Object(i.button)({innerText:"add",onclick:t=>{this.context.leftright.push({value:t.target.parentElement.querySelector("input").value,side:!1}),this.update()}})),Object(i.div)({style:"display: flex;"},Object(i.div)({style:"width: 300px;"},Object(i.component)("h3",{innerText:"left side"}),Object(i.h)({data:()=>this.context.leftright.filter(t=>t.side),createElement:t=>Object(i.body)(Object(i.div)({innerText:()=>t.value}),Object(i.inputText)({placeholder:"rename",onkeydown:e=>{13===e.keyCode&&(t.value=e.target.value,this.update())}}),Object(i.button)({innerText:"to the right",onclick:()=>{t.side=!t.side,this.update()}}))})),Object(i.div)({style:"width: 300px;"},Object(i.component)("h3",{innerText:"right side"}),Object(i.h)({data:()=>this.context.leftright.filter(t=>!t.side),createElement:t=>Object(i.body)(Object(i.div)({innerText:t.value}),Object(i.button)({innerText:"to the left",onclick:()=>{t.side=!t.side,this.update()}}))})),Object(i.button)({innerText:"resort",onclick:()=>{this.context.leftright=this.context.leftright.reverse(),this.update()}})),Object(i.div)({style:"border: solid 1px red"},Object(i.k)({items:[{active:()=>this.context.count%2==0,createElement:()=>new o({})},{active:()=>this.context.count%2==1,createElement:()=>function(t){let e=Object(i.body)(Object(i.div)({style:"background: red; width: 10px; height: 10px;"}),select({style:"width: 200px;",value:3,options:[1,2,3,4,5],onchange:t=>update(e)}));return e}()}]}))))}update(){this.element.update()}}(document.body).update()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldEVsZW1lbnQiLCJjb21wb25lbnQiLCJIVE1MRWxlbWVudCIsIkFycmF5IiwiaXNBcnJheSIsImVsZW1lbnQiLCJsZW5ndGgiLCJlbCIsImdldFBhcmVudCIsIl9fcGFyZW50IiwiZ2V0TmV4dFNpYmxpbmciLCJza2lwIiwiX19uZXh0U2libGluZyIsImFwcGVuZCIsImNoaWxkcmVuIiwiZm9yRWFjaCIsImUiLCJpbnNlcnRCZWZvcmUiLCJjaGlsZCIsInJlZmNoaWxkIiwidmFsIiwiRnVuY3Rpb24iLCJyZW1vdmUiLCJDb21wb25lbnQiLCJodG1sIiwiY29udGV4dCIsInRoaXMiLCJhd2FrZSIsInNwbGljZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIl9fYmFja2VkQ29udGV4dCIsImNvbnRleHRLZXlzIiwia2V5cyIsImsiLCJzdGFydHNXaXRoIiwidW5kZWZpbmVkIiwicHVzaCIsInYiLCJfX2FwcGx5SHRtbENvbnRleHQiLCJfX3Jlc2V0IiwiX19zdGFydGVkIiwic3RhcnQiLCJfX3N0b3AiLCJzdG9wIiwiX19zdGFydCIsInN0YXRlIiwidXBkYXRlIiwiY29tcG9uZW50U3RhY2siLCJDb21wb25lbnRQb29sIiwiX19wb29sIiwiX19jb21wb25lbnQiLCJwb3AiLCJfX2NvbnRleHQiLCJwb29sIiwic2V0IiwiX19yZW1vdmUiLCJpbnB1dCIsInR5cGUiLCJhc3NpZ24iLCJzd2l0Y2hDb21wb25lbnQiLCJpdGVtcyIsImxpc3QiLCJkYXRhIiwiZmlsdGVyIiwiYWN0aXZlIiwic2xpY2UiLCJwb29sU3dpdGNoIiwibWFwIiwidXNlUG9vbENvbXBvbmVudCIsIl9fbGlzdENvbXBvbmVudEtleUluY3JlbWVudCIsIkxpc3RDb21wb25lbnQiLCJzdXBlciIsIm9sZERhdGEiLCJlbGVtZW50cyIsImRpY3QiLCJfX3VwZGF0ZUxpc3QiLCJpbmRleCIsInJlcGxhY2VkIiwiaW5zZXJ0ZWQiLCJuZCIsIm9kIiwiZG9PYmoiLCJpdCIsInNoaWZ0IiwiaW5kZXhPZiIsIm9sZEVsZW1lbnQiLCJpbnNlcnRJbmRleCIsIm50aGQiLCJudGhlbCIsIl9faW5zZXJ0QXQiLCJwb29sTGlzdCIsIkNvbnRleHQiLCJzaWJsaW5nQ29udGV4dHMiLCJfX2VsZW1lbnQiLCJfX21vdW50ZWQiLCJfX3NpYmxpbmdBcHBDb250ZXh0cyIsInNldEhvb2tzIiwiaGFuZGxlciIsImFzeW5jIiwiYXJncyIsIlByb21pc2UiLCJkaXYiLCJzcGFuIiwiaW5wdXRUZXh0Iiwic2VsZWN0Iiwib3B0aW9ucyIsImdldE9wdGlvbnMiLCJvbGRPcHRpb25zIiwibmV3T3B0aW9ucyIsIm9sZE9wdGlvbiIsImluY2x1ZGVzIiwib2xkSW5kZXgiLCJmaW5kSW5kZXgiLCJ0ZXh0IiwiaW5uZXJUZXh0Iiwic2VsZWN0ZWQiLCJidXR0b24iLCJsYWJlbCIsImEiLCJpZnJhbWUiLCJzZXRJbnRlcnZhbCIsImNvbnRlbnREb2N1bWVudCIsImNsZWFySW50ZXJ2YWwiLCJmZWwiLCJib2R5IiwibW91bnQiLCJlcnJvciIsIkVycm9yIiwiZWxlbWVudFVwZGF0ZSIsIkRhdGUiLCJub3ciLCJjb25zb2xlIiwibG9nIiwidXNlSHRtbGpzIiwiaHRtbGpzIiwicGFyZW50SHRtbGpzIiwiU2VhcmNoQ29tcG9uZW50Iiwib25rZXl1cCIsIm9uY2hhbmdlIiwib25mb2N1cyIsImZvY3VzIiwib25ibHVyIiwic3R5bGUiLCJzdWdnZXN0aW9ucyIsInNldFN0YXRlIiwiQ29udGVudFBhZ2UiLCJzZWFyY2hDb21wb25lbnQiLCJzZWFyY2hWYWx1ZSIsInRhcmdldCIsIk1haW5Db250ZXh0IiwiYnV0dG9uQ2xpY2tlZCIsImNvdW50IiwidGFncyIsImxlZnRyaWdodCIsInNpZGUiLCJwYXJlbnQiLCJzcGxpdCIsInRhZyIsImlubmVySFRNTCIsIm15Y29udGV4dCIsIml0ZW1zMSIsIml0ZW1zMiIsIml0ZW1zMyIsIm9uY2xpY2siLCJpZCIsImNsYXNzTmFtZSIsIk1hdGgiLCJyYW5kb20iLCJyb3VuZCIsInBsYWNlaG9sZGVyIiwicGFyZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJvbmtleWRvd24iLCJrZXlDb2RlIiwicmV2ZXJzZSIsInBhZ2UiLCJpdGVtUGFnZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMs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LEVBQU8sZUFDUCxjQUFJLENBQ0FqQyxNQUFPLGdEQUVYdEMsT0FBTyxDQUNIc0MsTUFBTyxnQkFDUDlKLE1BQU8sRUFDUHlILFFBQVMsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3RCaUMsU0FBVzNILEdBQU0rQixPQUFPaUksTUFJaEMsT0FBT0EsRUEyUTBDQyxVQVdqRCxTQUNJdkosS0FBS3JCLFFBQVEwQyxXQUlFbEIsU0FBU2dHLE1BQzNCOUUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImZ1bmN0aW9uIGdldEVsZW1lbnQoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnQuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudC5lbGVtZW50Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbCA9IGdldEVsZW1lbnQoY29tcG9uZW50LmVsZW1lbnRbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RWxlbWVudChjb21wb25lbnQuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFBhcmVudChjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQYXJlbnQoY29tcG9uZW50Ll9fcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQYXJlbnQoY29tcG9uZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXROZXh0U2libGluZyhjb21wb25lbnQsIHNraXApIHtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmICghc2tpcCAmJiBjb21wb25lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzID0gc2tpcCA/IGNvbXBvbmVudC5fX25leHRTaWJsaW5nIDogY29tcG9uZW50O1xuICAgICAgICAgICAgd2hpbGUgKHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSBnZXRFbGVtZW50KHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG5cbiAgICAgICAgICAgICAgICBzID0gcy5fX25leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHAgPSBjb21wb25lbnQuX19wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocCAmJiBBcnJheS5pc0FycmF5KHAuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGdldE5leHRTaWJsaW5nKHAuX19uZXh0U2libGluZyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgcCA9IHAuX19wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKmlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudC5fX3BhcmVudC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGxldCByID0gZ2V0TmV4dFNpYmxpbmcoY29tcG9uZW50Ll9fcGFyZW50Ll9fbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfSovXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBhcHBlbmQoZWwsIC4uLmNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKGMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgZ2V0UGFyZW50KGVsKS5hcHBlbmQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgYy5lbGVtZW50LmZvckVhY2goZSA9PiBhcHBlbmQoZWwsIGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGFwcGVuZChlbCwgYy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKGVsLCBjaGlsZCwgcmVmY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBnZXRQYXJlbnQoZWwpLmluc2VydEJlZm9yZShjaGlsZCwgZ2V0TmV4dFNpYmxpbmcocmVmY2hpbGQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjaGlsZC5lbGVtZW50LmZvckVhY2goYyA9PiBpbnNlcnRCZWZvcmUoZWwsIGMsIHJlZmNoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUoZWwsIGNoaWxkLmVsZW1lbnQsIHJlZmNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbiA/XG4gICAgICAgIHZhbHVlKCkgOlxuICAgICAgICB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKGNvbXBvbmVudCwgc3RhdGUpIHtcbiAgICBpZiAoY29tcG9uZW50LnVwZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbXBvbmVudC51cGRhdGUoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LmVsZW1lbnQgJiYgY29tcG9uZW50LmVsZW1lbnQudXBkYXRlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgY29tcG9uZW50LmVsZW1lbnQudXBkYXRlKHN0YXRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZW1vdmUoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudC5yZW1vdmUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBjb21wb25lbnQucmVtb3ZlKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29tcG9uZW50KSkge1xuICAgICAgICBjb21wb25lbnQuZm9yRWFjaChjID0+IHJlbW92ZShjKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbXBvbmVudC5lbGVtZW50KSB7XG4gICAgICAgIHJlbW92ZShjb21wb25lbnQuZWxlbWVudCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyp9IGh0bWwgXG4gICAgICogQHBhcmFtIHsqfSBjb250ZXh0IFxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50W119IGNoaWxkcmVuIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGh0bWwsIGNvbnRleHQsIGNoaWxkcmVuKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuYXdha2UoKTtcblxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW4gfHwgdGhpcy5jb21wb25lbnQoY29udGV4dCk7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheSh0aGlzLmNoaWxkcmVuKSkge1xuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFt0aGlzLmNoaWxkcmVuXTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxLCAuLi5jKTtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjID0gYyhjb250ZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoYylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbltpXSA9IG5ldyBDb21wb25lbnQobnVsbCwgY29udGV4dCwgYyk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIShjIGluc3RhbmNlb2YgQ29tcG9uZW50KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChodG1sKSB7XG4gICAgICAgICAgICBpZiAoaHRtbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gaHRtbDtcbiAgICAgICAgICAgICAgICBhcHBlbmQodGhpcy5lbGVtZW50LCAuLi50aGlzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoaHRtbCk7XG4gICAgICAgICAgICAgICAgYXBwZW5kKHRoaXMuZWxlbWVudCwgLi4udGhpcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX19iYWNrZWRDb250ZXh0ID0gW107XG4gICAgICAgICAgICBsZXQgY29udGV4dEtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbnRleHQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZXh0S2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBrID0gY29udGV4dEtleXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGsuc3RhcnRzV2l0aChcIm9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFtrXSA9IHRoaXMuY29udGV4dFtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWsuc3RhcnRzV2l0aChcIl9cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudFtrXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9fYmFja2VkQ29udGV4dC5wdXNoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdiA9IHZhbCh0aGlzLmNvbnRleHRba10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRba10gIT09IHYpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFtrXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fX2FwcGx5SHRtbENvbnRleHQoKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGMuX19wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGMuX19uZXh0U2libGluZyA9IHRoaXMuY2hpbGRyZW5baSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHsgQ29tcG9uZW50W10gfVxuICAgICAqL1xuICAgIGNvbXBvbmVudChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgX19yZXNldCgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gYy5fX3Jlc2V0KCkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZm9yRWFjaChlID0+IGUuX19yZXNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbGVtZW50IGluc3RhbmNlb2YgQ29tcG9uZW50KVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50Ll9fcmVzZXQoKTtcblxuICAgICAgICB0aGlzLl9fc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXdha2UoKTtcblxuICAgICAgICB0aGlzLl9fYXBwbHlIdG1sQ29udGV4dCgpO1xuICAgIH1cbiAgICBhd2FrZSgpIHtcblxuICAgIH1cbiAgICBfX3N0YXJ0KCkge1xuICAgICAgICB0aGlzLl9fc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgfVxuICAgIF9fc3RvcCgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gYy5fX3N0b3AoKSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5mb3JFYWNoKGUgPT4gZS5fX3N0b3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5fX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICB9XG4gICAgYXN5bmMgdXBkYXRlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX19zdGFydGVkKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9fc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fX2FwcGx5SHRtbENvbnRleHQoKTtcblxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gdXBkYXRlKGMpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKCFlLmNvbXBvbmVudFN0YWNrKVxuICAgICAgICAgICAgICAgIGUuY29tcG9uZW50U3RhY2sgPSBbXTtcbiAgICAgICAgICAgIGUuY29tcG9uZW50U3RhY2sucHVzaCh0aGlzKTtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX19hcHBseUh0bWxDb250ZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX19iYWNrZWRDb250ZXh0LmZvckVhY2goYyA9PiBjKCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlbW92ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX19zdGFydGVkKVxuICAgICAgICAgICAgdGhpcy5fX3N0b3AoKTtcblxuICAgICAgICByZW1vdmUodGhpcy5lbGVtZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wb25lbnQobmFtZSwgY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICByZXR1cm4gbmV3IENvbXBvbmVudChuYW1lLCBjb250ZXh0LCBjaGlsZHJlbik7XG59XG5cbmNsYXNzIENvbXBvbmVudFBvb2wge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7KHBvb2w6IHsgY29udGV4dDogYW55IH0pID0+IENvbXBvbmVudH0gY29tcG9uZW50IFxuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuX19wb29sID0gW107XG4gICAgICAgIHRoaXMuX19jb21wb25lbnQgPSBjb21wb25lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBlbGVtZW50IFxuICAgICAqL1xuICAgIHB1c2goZWxlbWVudCkge1xuICAgICAgICBpZiAoZWxlbWVudC5fX3Bvb2wpIHtcbiAgICAgICAgICAgIHRoaXMuX19wb29sLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcG9wKGNvbnRleHQpIHtcbiAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLl9fcG9vbC5wb3AoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuX19wb29sLl9fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVzZXQoKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvb2wgPSB7IF9fY29udGV4dDogY29udGV4dCB9O1xuICAgICAgICAgICAgaWYgKGNvbnRleHQpXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoY29udGV4dCkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBvb2wsIGssIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fX2NvbnRleHRba107IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkgeyB0aGlzLl9fY29udGV4dFtrXSA9IHZhbHVlOyB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlbGVtZW50ID0gbmV3IENvbXBvbmVudChudWxsLCBwb29sLCB0aGlzLl9fY29tcG9uZW50KHBvb2wpKTtcbiAgICAgICAgICAgIGVsZW1lbnQuX19wb29sID0gcG9vbDtcbiAgICAgICAgICAgIGVsZW1lbnQuX19yZW1vdmUgPSBlbGVtZW50LnJlbW92ZTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuX19yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHsqfSBjb250ZXh0IFxuICogQHBhcmFtICB7Li4uQ29tcG9uZW50fSBjaGlsZHJlbiBcbiAqL1xuZnVuY3Rpb24gZGl2KGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImRpdlwiLCBjb250ZXh0LCAuLi5jaGlsZHJlbilcbn1cbmZ1bmN0aW9uIHNwYW4oY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICByZXR1cm4gY29tcG9uZW50KFwic3BhblwiLCBjb250ZXh0LCAuLi5jaGlsZHJlbik7XG59XG5mdW5jdGlvbiBpbnB1dChjb250ZXh0LCB0eXBlKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImlucHV0XCIsIE9iamVjdC5hc3NpZ24oY29udGV4dCwgeyB0eXBlOiB0eXBlIH0pKTtcbn1cbmZ1bmN0aW9uIGlucHV0VGV4dChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwidGV4dFwiKTtcbn1cbmZ1bmN0aW9uIGlucHV0U3VibWl0KGNvbnRleHQpIHtcbiAgICByZXR1cm4gaW5wdXQoY29udGV4dCwgXCJzdWJtaXRcIik7XG59XG5mdW5jdGlvbiBjaGVja2JveChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwiY2hlY2tib3hcIik7XG59XG5mdW5jdGlvbiByYWRpbyhjb250ZXh0KSB7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwicmFkaW9cIik7XG59XG5mdW5jdGlvbiBsYWJlbChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgIHJldHVybiBjb21wb25lbnQoXCJsYWJlbFwiLCBjb250ZXh0LCAuLi5jaGlsZHJlbik7XG59XG5mdW5jdGlvbiBhKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImFcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuXG5mdW5jdGlvbiBwKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcInBcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gYnV0dG9uKGNvbnRleHQpIHtcbiAgICByZXR1cm4gY29tcG9uZW50KFwiYnV0dG9uXCIsIGNvbnRleHQpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3QoY29udGV4dCkge1xuICAgIGxldCBvcHRpb25zID0gY29udGV4dC5vcHRpb25zO1xuICAgIGRlbGV0ZSBjb250ZXh0Lm9wdGlvbnM7XG4gICAgaWYgKG9wdGlvbnMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBsZXQgZ2V0T3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIGxldCBvbGRPcHRpb25zID0gW107XG4gICAgICAgIG9wdGlvbnMgPSAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgbmV3T3B0aW9ucyA9IGdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgIGlmIChvbGRPcHRpb25zID09PSBuZXdPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9sZE9wdGlvbnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2xkT3B0aW9ucy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBvbGRPcHRpb24gPSBvbGRPcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGlmICghbmV3T3B0aW9ucy5pbmNsdWRlcyhvbGRPcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvbGRJbmRleCA9IG5ld09wdGlvbnMuZmluZEluZGV4KChlKSA9PiBlLnZhbHVlID09PSBvbGRPcHRpb24udmFsdWUgJiYgZS50ZXh0ID09PSBvbGRPcHRpb24udGV4dCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZEluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld09wdGlvbnNbb2xkSW5kZXhdID0gb2xkT3B0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50KFwic2VsZWN0XCIsIGNvbnRleHQsXG4gICAgICAgIHBvb2xMaXN0KHtcbiAgICAgICAgICAgIGRhdGE6IG9wdGlvbnMsXG4gICAgICAgICAgICBjb21wb25lbnQ6IChkYXRhKSA9PiBjb21wb25lbnQoXCJvcHRpb25cIiwge1xuICAgICAgICAgICAgICAgIGlubmVyVGV4dDogKCkgPT4gZGF0YS50ZXh0LFxuICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBkYXRhLnZhbHVlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkOiAoKSA9PiBkYXRhLnZhbHVlID09PSB2YWwoY29udGV4dC52YWx1ZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gaWZyYW1lKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgbGV0IGUgPSBjb21wb25lbnQoXCJpZnJhbWVcIiwgY29udGV4dCk7XG4gICAgbGV0IGNvbXBvbmVudFVwZGF0ZSA9IGUudXBkYXRlLmJpbmQoZS51cGRhdGUpO1xuICAgIGxldCBlbCA9IGdldEVsZW1lbnQoZSk7XG4gICAgbGV0IGl0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoZWwuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGl0KTtcbiAgICAgICAgICAgIGxldCBmZWwgPSBjb21wb25lbnQoZWwuY29udGVudERvY3VtZW50LmJvZHksIGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIGUudXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29tcG9uZW50VXBkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICBmZWwudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCAzMCk7XG4gICAgcmV0dXJuIGU7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHt7IGl0ZW1zOiB7IGFjdGl2ZTogYm9vbGVhbiwgY3JlYXRlRWxlbWVudD86ICgpID0+IENvbXBvbmVudCwgY29tcG9uZW50OiAoKSA9PiBDb21wb25lbnQgfVtdIH19IGNvbnRleHQgXG4gKiBAcGFyYW0ge251bWJlcn0gbGltaXQgXG4gKi9cbi8qZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaENvbXBvbmVudChjb250ZXh0LCBsaW1pdCA9IDEpIHtcbiAgICByZXR1cm4gbGlzdENvbXBvbmVudCh7XG4gICAgICAgIGRhdGE6ICgpID0+IHZhbChjb250ZXh0Lml0ZW1zKS5maWx0ZXIoaSA9PiB2YWwoaS5hY3RpdmUpKS5zbGljZSgwLCBsaW1pdCksXG4gICAgICAgIGNvbXBvbmVudDogKGkpID0+IChpLmNyZWF0ZUVsZW1lbnQgfHwgaS5jb21wb25lbnQpKClcbiAgICB9KTtcbn0qL1xuLyoqXG4gKiBcbiAqIEBwYXJhbSAgey4uLnsgYWN0aXZlOiAoKCkgPT4gYm9vbGVhbikgfCBib29sZWFuLCBjb21wb25lbnQ6ICgpID0+IENvbXBvbmVudCB9fSBpdGVtcyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN3aXRjaENvbXBvbmVudCguLi5pdGVtcykge1xuICAgIGlmIChpdGVtc1swXS5pdGVtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBsaXN0KHtcbiAgICAgICAgICAgIGRhdGE6ICgpID0+IGl0ZW1zWzBdLml0ZW1zLmZpbHRlcihpID0+IHZhbChpLmFjdGl2ZSkpLnNsaWNlKDAsIGl0ZW1zWzFdIHx8IDEpLFxuICAgICAgICAgICAgY29tcG9uZW50OiAoaSkgPT4gKGkuY3JlYXRlRWxlbWVudCB8fCBpLmNvbXBvbmVudCkoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGxpc3Qoe1xuICAgICAgICBkYXRhOiAoKSA9PiBpdGVtcy5maWx0ZXIoaSA9PiB2YWwoaS5hY3RpdmUpKS5zbGljZSgwLCAxKSxcbiAgICAgICAgY29tcG9uZW50OiAoaSkgPT4gaS5jb21wb25lbnQoKVxuICAgIH0pO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSAgey4uLnsgYWN0aXZlOiAoKCkgPT4gYm9vbGVhbikgfCBib29sZWFuLCBjb21wb25lbnQ6ICgpID0+IENvbXBvbmVudCB9fSBpdGVtcyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvb2xTd2l0Y2goLi4uaXRlbXMpIHtcbiAgICByZXR1cm4gc3dpdGNoQ29tcG9uZW50KFxuICAgICAgICAuLi5pdGVtcy5tYXAoaSA9PiB7IHJldHVybiB7IGFjdGl2ZTogaS5hY3RpdmUsIGNvbXBvbmVudDogdXNlUG9vbENvbXBvbmVudChpLmNvbXBvbmVudCkgfTsgfSlcbiAgICApXG59XG5sZXQgX19saXN0Q29tcG9uZW50S2V5SW5jcmVtZW50ID0gMDtcbmNsYXNzIExpc3RDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7eyBkYXRhOiBhbnlbXSwgY3JlYXRlRWxlbWVudD86IChkYXRhOiBhbnkpID0+IENvbXBvbmVudCwgY29tcG9uZW50OiAoZGF0YTogYW55KSA9PiBDb21wb25lbnQgfX0gY29udGV4dCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBzdXBlcihudWxsLCBjb250ZXh0LCBjaGlsZHJlbik7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0LmNvbXBvbmVudClcbiAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gY29udGV4dC5jcmVhdGVFbGVtZW50O1xuXG4gICAgICAgIHRoaXMub2xkRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMuZGljdCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX191cGRhdGVMaXN0KCk7XG4gICAgfVxuICAgIF9faW5zZXJ0QXQoaW5kZXgsIGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX19zdGFydGVkKSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPCB0aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSh0aGlzLl9fcGFyZW50LCBlbGVtZW50LCB0aGlzLmVsZW1lbnRzW2luZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgZ2V0TmV4dFNpYmxpbmcodGhpcywgdHJ1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5fX3VwZGF0ZUxpc3QoKTtcblxuICAgICAgICBzdXBlci51cGRhdGUoKTtcbiAgICB9XG4gICAgX191cGRhdGVMaXN0KCkge1xuICAgICAgICBsZXQgZGF0YSA9IHZhbCh0aGlzLmNvbnRleHQuZGF0YSk7XG5cbiAgICAgICAgbGV0IHJlcGxhY2VkID0ge307XG4gICAgICAgIGxldCBpbnNlcnRlZCA9IHt9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IG5kID0gZGF0YVtpXTtcbiAgICAgICAgICAgIGxldCBvZCA9IHRoaXMub2xkRGF0YVtpXTtcblxuICAgICAgICAgICAgbGV0IGRvT2JqID0gbmQgaW5zdGFuY2VvZiBPYmplY3Q7XG5cbiAgICAgICAgICAgIGlmIChkb09iaiAmJiBuZCA9PSBvZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgbGV0IGtleSA9IGRvT2JqID9cbiAgICAgICAgICAgICAgICBuZFtcIl9fa2V5XCJdIHx8IChuZFtcIl9fa2V5XCJdID0gKytfX2xpc3RDb21wb25lbnRLZXlJbmNyZW1lbnQpIDpcbiAgICAgICAgICAgICAgICBuZDtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSB0aGlzLmRpY3Rba2V5XTtcblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBDb21wb25lbnQobnVsbCwgbmQsIHRoaXMuY29udGV4dC5jb21wb25lbnQobmQpKTtcbiAgICAgICAgICAgICAgICBlbGVtZW50Ll9fcGFyZW50ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmIChkb09iaikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpY3Rba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHRoaXMuZGljdFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWN0W2tleV0gPSBbZWxlbWVudF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBpdC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZFtrZXldID0gW2VsZW1lbnRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICghZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ICYmIGl0Lmxlbmd0aCA+PSBlbGVtZW50Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gbmV3IENvbXBvbmVudChudWxsLCBuZCwgdGhpcy5jb250ZXh0LmNvbXBvbmVudChuZCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5fX3BhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucHVzaChlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZFtrZXldID0gW2VsZW1lbnRdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBlbGVtZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnB1c2goZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGVkW2tleV0gPSBbZWxlbWVudF07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZCA9PSBvZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCB0ID0gcmVwbGFjZWRba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LnNwbGljZSh0LmluZGV4T2YoZWxlbWVudCksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJlcGxhY2VkW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWRba2V5XSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgb2xkRWxlbWVudCA9IHRoaXMuZWxlbWVudHNbaV07XG5cbiAgICAgICAgICAgIGxldCBpbnNlcnRJbmRleCA9IGkgKyAxO1xuICAgICAgICAgICAgZm9yICg7IGluc2VydEluZGV4IDwgdGhpcy5lbGVtZW50cy5sZW5ndGg7ICsraW5zZXJ0SW5kZXgpIHtcbiAgICAgICAgICAgICAgICBsZXQgbnRoZCA9IHRoaXMub2xkRGF0YVtpbnNlcnRJbmRleF07XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluc2VydGVkW250aGRbXCJfX2tleVwiXV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtudGhkXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbnRoZWwgPSB0aGlzLmVsZW1lbnRzW2luc2VydEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdC5pbmRleE9mKG50aGVsKSA+IC0xKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fX2luc2VydEF0KGluc2VydEluZGV4LCBlbGVtZW50KTtcbiAgICAgICAgICAgIC8vaW5zZXJ0QmVmb3JlKHRoaXMuX19wYXJlbnQsIGVsZW1lbnQsIHRoaXMuZWxlbWVudHNbaW5zZXJ0SW5kZXhdKTtcblxuICAgICAgICAgICAgLyppZiAoaW5zZXJ0SW5kZXggPCB0aGlzLmVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSh0aGlzLl9fcGFyZW50LCBlbGVtZW50LCB0aGlzLmVsZW1lbnRzW2luc2VydEluZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKGluc2VydEluZGV4LCBuZCwgdGhpcywgZ2V0TmV4dFNpYmxpbmcodGhpcywgdHJ1ZSkpO1xuXG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuX19wYXJlbnQsIGVsZW1lbnQsIGdldE5leHRTaWJsaW5nKHRoaXMsIHRydWUpKTtcbiAgICAgICAgICAgIH0qL1xuXG4gICAgICAgICAgICBpZiAoaW5zZXJ0SW5kZXggLSAxID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2luc2VydEluZGV4IC0gMl0uX19uZXh0U2libGluZyA9IGVsZW1lbnQ7XG5cbiAgICAgICAgICAgIGlmIChvbGRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaW5zZXJ0ZWRbb2RbXCJfX2tleVwiXV0pXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlZFtvZFtcIl9fa2V5XCJdXSA9IG9sZEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtvZF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXQgfHwgaXQuaW5kZXhPZihvbGRFbGVtZW50KSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ID0gcmVwbGFjZWRbb2RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKG9sZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VkW29kXSA9IFtvbGRFbGVtZW50XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaV0gPSBlbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5vbGREYXRhW2ldID0gbmQ7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyhyZXBsYWNlZClcbiAgICAgICAgICAgIC5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0ID0gcmVwbGFjZWRba107XG4gICAgICAgICAgICAgICAgbGV0IGQgPSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdC5mb3JFYWNoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZC5zcGxpY2UoZC5pbmRleE9mKGVsZW1lbnQpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlKHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHRoaXMub2xkRGF0YS5sZW5ndGggPiBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IGRhdGEubGVuZ3RoOyBpIDwgdGhpcy5vbGREYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gdGhpcy5lbGVtZW50c1tpXTtcbiAgICAgICAgICAgICAgICBsZXQgb2QgPSB0aGlzLm9sZERhdGFbaV07XG5cbiAgICAgICAgICAgICAgICBsZXQgZG9PYmogPSBvZCBpbnN0YW5jZW9mIE9iamVjdFxuICAgICAgICAgICAgICAgIGxldCBrID0gZG9PYmogP1xuICAgICAgICAgICAgICAgICAgICBvZFtcIl9fa2V5XCJdIDpcbiAgICAgICAgICAgICAgICAgICAgb2Q7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9PYmogJiYgaW5zZXJ0ZWRbb2RbXCJfX2tleVwiXV0pXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtvZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdCAmJiBpdC5pbmRleE9mKGVsKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZCA9IHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICAgICAgZC5zcGxpY2UoZC5pbmRleE9mKGVsKSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZW1vdmUoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5zcGxpY2UoZGF0YS5sZW5ndGgsIHRoaXMuZWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIHRoaXMub2xkRGF0YS5zcGxpY2UoZGF0YS5sZW5ndGgsIHRoaXMub2xkRGF0YS5sZW5ndGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50cy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbdGhpcy5lbGVtZW50cy5sZW5ndGggLSAxXS5fX25leHRTaWJsaW5nID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogXG4gKiBAcGFyYW0ge3sgZGF0YTogVFtdLCBjcmVhdGVFbGVtZW50PzogKGRhdGE6IFQpID0+IENvbXBvbmVudCwgY29tcG9uZW50OiAoZGF0YTogVCkgPT4gQ29tcG9uZW50IH19IGNvbnRleHQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IExpc3RDb21wb25lbnQoY29udGV4dCk7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHt7IGRhdGE6IFRbXSwgY29tcG9uZW50OiAocG9vbDogeyBjb250ZXh0OiBUIH0pID0+IENvbXBvbmVudH19IGNvbnRleHQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb29sTGlzdChjb250ZXh0KSB7XG4gICAgbGV0IHBvb2wgPSBuZXcgQ29tcG9uZW50UG9vbChjb250ZXh0LmNvbXBvbmVudCk7XG4gICAgcmV0dXJuIGxpc3Qoe1xuICAgICAgICBkYXRhOiBjb250ZXh0LmRhdGEsXG4gICAgICAgIGNvbXBvbmVudDogKGRhdGEpID0+IHBvb2wucG9wKGRhdGEpXG4gICAgfSk7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHsoKSA9PiBDb21wb25lbnR9IGNvbXBvbmVudCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBvb2xDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgbGV0IHBvb2wgPSBuZXcgQ29tcG9uZW50UG9vbChjb21wb25lbnQpO1xuICAgIHJldHVybiAoKSA9PiBwb29sLnBvcCgpO1xufVxuXG5leHBvcnQgY2xhc3MgQ29udGV4dCB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtICB7Q29udGV4dFtdfSBzaWJsaW5nQ29udGV4dHMgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZGF0YSwgc2libGluZ0NvbnRleHRzKSB7XG4gICAgICAgIHRoaXMuX19lbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fX21vdW50ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fX3NpYmxpbmdBcHBDb250ZXh0cyA9IHNpYmxpbmdDb250ZXh0cyB8fCBbXTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgbGV0IHNldEhvb2tzID0gKGNvbnRleHQpID0+IHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGsuc3RhcnRzV2l0aChcIm9uXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBoYW5kbGVyID0gY29udGV4dFtrXTtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dFtrXSA9IGFzeW5jICguLi5hcmdzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgciA9IGhhbmRsZXIoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAociBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgciA9IGF3YWl0IHI7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGl2ID0gZnVuY3Rpb24gKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBkaXYoY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNwYW4gPSBmdW5jdGlvbiAoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHNldEhvb2tzKGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHNwYW4oY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlucHV0VGV4dCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dFRleHQoY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VsZWN0ID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHNldEhvb2tzKGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGVjdChjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5idXR0b24gPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uKGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnAgPSBmdW5jdGlvbiAoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHNldEhvb2tzKGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIHAoY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxhYmVsID0gZnVuY3Rpb24gKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBsYWJlbChjb250ZXh0LCAuLi5jaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYSA9IGZ1bmN0aW9uIChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gYShjb250ZXh0LCAuLi5jaGlsZHJlbik7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuaWZyYW1lID0gZnVuY3Rpb24gKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBpZnJhbWUoY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubW91bnQgPSB0aGlzLm1vdW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gdGhpcy5jb21wb25lbnQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmVycm9yID0gdGhpcy5lcnJvci5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gey4uLkNvbXBvbmVudH0gY2hpbGRyZW4gXG4gICAgICogQHJldHVybnMge0NvbXBvbmVudH1cbiAgICAgKi9cbiAgICBtb3VudChlbGVtZW50LCAuLi5jaGlsZHJlbikge1xuICAgICAgICBpZiAodGhpcy5fX21vdW50ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNvbnRleHQgaXMgYWxyZWFkeSBtb3VudGVkXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19lbGVtZW50ID0gY29tcG9uZW50KGVsZW1lbnQsIHt9LCAuLi5jaGlsZHJlbik7XG5cbiAgICAgICAgdGhpcy5fX21vdW50ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl9fZWxlbWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtDb21wb25lbnR9IGVsZW1lbnRcbiAgICAgKiBAcmV0dXJucyB7Q29tcG9uZW50fVxuICAgICAqL1xuICAgIGNvbXBvbmVudChlbGVtZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5fX21vdW50ZWQpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50VXBkYXRlID0gZWxlbWVudC51cGRhdGU7XG5cbiAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fX21vdW50ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX21vdW50ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVsZW1lbnQudXBkYXRlID0gZWxlbWVudFVwZGF0ZTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLl9fZWxlbWVudC51cGRhdGUoKTtcblxuICAgICAgICAgICAgdGhpcy5fX3NpYmxpbmdBcHBDb250ZXh0cy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIGMudXBkYXRlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5lcnJvcihlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSB0aW1lXCIsIERhdGUubm93KCkgLSBzdGFydCk7XG4gICAgfVxuICAgIGVycm9yKGUpIHtcbiAgICAgICAgaWYgKGUuY29tcG9uZW50U3RhY2spXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUsIGUuY29tcG9uZW50U3RhY2spO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7Q29udGV4dH0gaHRtbGpzIFxuICogQHBhcmFtIHtDb250ZXh0fSBwYXJlbnRIdG1sanNcbiAqIEByZXR1cm5zIHtDb250ZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlSHRtbGpzKGh0bWxqcywgcGFyZW50SHRtbGpzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uKHBhcmVudEh0bWxqcyB8fCBodG1sanMpLFxuXG4gICAgICAgIGNvbXBvbmVudDogaHRtbGpzLmNvbXBvbmVudCxcbiAgICAgICAgZGF0YTogaHRtbGpzXG4gICAgfTtcbn1cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7Q29udGV4dH0gaHRtbGpzIFxuICogQHBhcmFtIHtDb250ZXh0fSBwYXJlbnRIdG1sanMgXG4gKiBAcGFyYW0geyhodG1sanM6IENvbnRleHQpID0+IChjb250ZXh0KSA9PiBDb21wb25lbnR9IHVzZUNvbXBvbmVudCBcbiAqIEByZXR1cm5zIHsoY29udGV4dCkgPT4gQ29tcG9uZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gdXNlQ29tcG9uZW50KGh0bWxqcywgcGFyZW50SHRtbGpzLCB1c2VDb21wb25lbnQpIHtcbiAgICByZXR1cm4gdXNlQ29tcG9uZW50KHtcbiAgICAgICAgLi4uKHBhcmVudEh0bWxqcyB8fCBodG1sanMpLFxuXG4gICAgICAgIGNvbXBvbmVudDogaHRtbGpzLmNvbXBvbmVudFxuICAgIH0pO1xufSIsImltcG9ydCB7IHZhbCwgY29tcG9uZW50LCBib2R5LCBkaXYsIGlucHV0VGV4dCwgbGlzdCwgYnV0dG9uLCBzd2l0Y2hDb21wb25lbnQsIHAsIENvbXBvbmVudCB9IGZyb20gXCIuLi8uLi9pbmRleFwiO1xuXG5jbGFzcyBTZWFyY2hDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qY29udGV4dDtcbiAgICBlbGVtZW50O1xuXG4gICAgZm9jdXM7Ki9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIHN1cGVyKG51bGwsIGNvbnRleHQsIFtdKTtcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZGl2KHt9LFxuICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5jb250ZXh0LnZhbHVlLFxuICAgICAgICAgICAgICAgIG9ua2V5dXA6IChlKSA9PiB0aGlzLmNvbnRleHQub25jaGFuZ2UoZSksXG4gICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB0aGlzLmNvbnRleHQub25jaGFuZ2UoZSksXG4gICAgICAgICAgICAgICAgb25mb2N1czogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uYmx1cjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBkaXYoe1xuICAgICAgICAgICAgICAgIHN0eWxlOiAoKSA9PiBgJHshdGhpcy5mb2N1cyA/IFwiZGlzcGxheTogbm9uZTtcIiA6IFwiXCJ9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gdmFsKHRoaXMuY29udGV4dC5zdWdnZXN0aW9ucykuZmlsdGVyKHMgPT4gcy5zdGFydHNXaXRoKHZhbCh0aGlzLmNvbnRleHQudmFsdWUpKSksXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6IChzKSA9PiBkaXYoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3RhdGU6IGZ1bmN0aW9uIChzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbm5lclRleHQgPSBzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC51cGRhdGUoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWFyY2hDb21wb25lbnQoY29udGV4dCkge1xuICAgIHJldHVybiBuZXcgU2VhcmNoQ29tcG9uZW50KGNvbnRleHQpO1xufVxuXG5jbGFzcyBDb250ZW50UGFnZSB7XG4gICAgLypjb250ZXh0O1xuICAgIGVsZW1lbnQ7XG5cbiAgICBzZWFyY2hWYWx1ZTsqL1xuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQpIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBib2R5KFxuICAgICAgICAgICAgc2VhcmNoQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gdGhpcy5zZWFyY2hWYWx1ZSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlYXJjaFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbXCJ3YWxsXCIsIFwic3RheVwiLCBcImxvdmVcIiwgXCJmZWVsXCIsIFwiYmVcIiwgXCJkb1wiXVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBkaXYoe30sXG4gICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IFtcIml0ZW0gMVwiLCBcIml0ZW0gMlwiXSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkaXYoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBkaXYoe1xuXG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuICAgIHVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnVwZGF0ZSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNvbnRlbnRQYWdlKGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IENvbnRlbnRQYWdlKGNvbnRleHQpO1xufVxuXG5mdW5jdGlvbiBpdGVtUGFnZShjb250ZXh0KSB7XG4gICAgbGV0IHBhZ2UgPSBib2R5KFxuICAgICAgICBkaXYoe1xuICAgICAgICAgICAgc3R5bGU6IFwiYmFja2dyb3VuZDogcmVkOyB3aWR0aDogMTBweDsgaGVpZ2h0OiAxMHB4O1wiXG4gICAgICAgIH0pLFxuICAgICAgICBzZWxlY3Qoe1xuICAgICAgICAgICAgc3R5bGU6IFwid2lkdGg6IDIwMHB4O1wiLFxuICAgICAgICAgICAgdmFsdWU6IDMsXG4gICAgICAgICAgICBvcHRpb25zOiBbMSwgMiwgMywgNCwgNV0sXG4gICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHVwZGF0ZShwYWdlKVxuICAgICAgICB9KVxuICAgICk7XG5cbiAgICByZXR1cm4gcGFnZTtcbn1cblxuY2xhc3MgTWFpbkNvbnRleHQge1xuICAgIC8qaXRlbXM7XG5cbiAgICBidXR0b25DbGlja2VkO1xuICAgIHRhZ3M7XG4gICAgY291bnQ7XG4gICAgbGVmdHJpZ2h0OyovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaXRlbXMgPSBbXCIxXCIsIFwiMlwiLCBcIjNcIl07XG4gICAgICAgIHRoaXMuYnV0dG9uQ2xpY2tlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvdW50ID0gMDtcbiAgICAgICAgdGhpcy50YWdzID0gXCJcIjtcbiAgICAgICAgdGhpcy5sZWZ0cmlnaHQgPSBbeyB2YWx1ZTogMSwgc2lkZTogZmFsc2UgfSwgeyB2YWx1ZTogMiwgc2lkZTogZmFsc2UgfSwgeyB2YWx1ZTogMywgc2lkZTogZmFsc2UgfSwgeyB2YWx1ZTogNCwgc2lkZTogdHJ1ZSB9XVxuICAgIH1cbn1cbmNsYXNzIE1haW5BcHAge1xuICAgIC8qcGFyZW50O1xuICAgIGNvbnRleHQ7XG4gICAgZWxlbWVudDsqL1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcblxuICAgICAgICB0aGlzLmNvbnRleHQgPSBuZXcgTWFpbkNvbnRleHQoKTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBjb21wb25lbnQocGFyZW50LCB7IHN0eWxlOiBcImNvbG9yOiBibHVlO1wiIH0sXG4gICAgICAgICAgICBib2R5KFxuICAgICAgICAgICAgICAgIGRpdih7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudChcImgxXCIsIHsgaW5uZXJUZXh0OiAoKSA9PiBcIk5vIG5vIG5vXCIgfSksXG4gICAgICAgICAgICAgICAgICAgIGlucHV0VGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gdGhpcy5jb250ZXh0LnRhZ3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudGFncyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgb25rZXl1cDogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQudGFncyA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBsaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IHRoaXMuY29udGV4dC50YWdzLnNwbGl0KFwiIFwiKS5maWx0ZXIodCA9PiB0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICh0YWcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGBjb2xvcjogJHt0YWd9O2AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogdGFnICsgXCIgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGRpdih7XG4gICAgICAgICAgICAgICAgICAgIGlubmVySFRNTDogXCI8c3Ryb25nPkFBQTwvc3Ryb25nPmFhYSFcIlxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBteWNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtczE6IFtcIkxpc3QgMVwiLCBcIkl0ZW0gMVwiLCBcIkl0ZW0gMlwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zMjogW1wiTGlzdCAyXCIsIFwiSXRlbSAxXCIsIFwiSXRlbSAyXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMzOiBbXCJMaXN0IDNcIiwgXCJJdGVtIDFcIiwgXCJJdGVtIDJcIl1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVsID0gYm9keShcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcIkFkZCB0byBsaXN0IDFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczEucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczEubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTGlzdCAxYCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEl0ZW0gJHtteWNvbnRleHQuaXRlbXMxLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcIkFkZCB0byBsaXN0IDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczIucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczIubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTGlzdCAyYCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEl0ZW0gJHtteWNvbnRleHQuaXRlbXMyLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcIkFkZCB0byBsaXN0IDNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15Y29udGV4dC5pdGVtczMubGVuZ3RoID09PSAwID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgTGlzdCAzYCA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYEl0ZW0gJHtteWNvbnRleHQuaXRlbXMzLmxlbmd0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IG15Y29udGV4dC5pdGVtczEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGQpID0+IGJvZHkoZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGByZW1vdmUgJHtkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXljb250ZXh0Lml0ZW1zMS5zcGxpY2UobXljb250ZXh0Lml0ZW1zMS5pbmRleE9mKGQpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gbXljb250ZXh0Lml0ZW1zMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoZCkgPT4gYm9keShkaXYoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogYHJlbW92ZSAke2R9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteWNvbnRleHQuaXRlbXMyLnNwbGljZShteWNvbnRleHQuaXRlbXMyLmluZGV4T2YoZCksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IG15Y29udGV4dC5pdGVtczMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGQpID0+IGJvZHkoZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGByZW1vdmUgJHtkfWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXljb250ZXh0Lml0ZW1zMy5zcGxpY2UobXljb250ZXh0Lml0ZW1zMy5pbmRleE9mKGQpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgIGRpdih7IGlkOiAxIH0sXG4gICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gdGhpcy5jb250ZXh0Lml0ZW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGRhdGEpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRTdGF0ZTogZnVuY3Rpb24gKHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5uZXJUZXh0ID0gcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAoKSA9PiBgY2xpY2thYmxlICR7dGhpcy5jb250ZXh0LmJ1dHRvbkNsaWNrZWQgPyBcImNsaWNrZWRcIiA6IG51bGx9YCxcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiAoKSA9PiAhdGhpcy5jb250ZXh0LmJ1dHRvbkNsaWNrZWQgPyBcIkNsaWNrIG1lIVwiIDogXCJDbGljayBhZ2FpbiFcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5idXR0b25DbGlja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuaXRlbXMuc3BsaWNlKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0Lml0ZW1zLnNwbGljZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogKHRoaXMuY29udGV4dC5pdGVtcy5sZW5ndGggLSAxKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAsIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDMwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuY291bnQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBkaXYoe1xuICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6ICgpID0+IHRoaXMuY29udGV4dC5jb3VudFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGRpdih7XG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZW50ZXIgc29tZXRoaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5sZWZ0cmlnaHQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlLnRhcmdldC5wYXJlbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCJpbnB1dFwiKS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2lkZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBkaXYoe1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJkaXNwbGF5OiBmbGV4O1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcIndpZHRoOiAzMDBweDtcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50KFwiaDNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJsZWZ0IHNpZGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiB0aGlzLmNvbnRleHQubGVmdHJpZ2h0LmZpbHRlcihlID0+IGUuc2lkZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGQpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6ICgpID0+IGQudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJyZW5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ua2V5ZG93bjogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJ0byB0aGUgcmlnaHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnNpZGUgPSAhZC5zaWRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcIndpZHRoOiAzMDBweDtcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50KFwiaDNcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJyaWdodCBzaWRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gdGhpcy5jb250ZXh0LmxlZnRyaWdodC5maWx0ZXIoZSA9PiAhZS5zaWRlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoZCkgPT4gYm9keShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJ0byB0aGUgbGVmdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQuc2lkZSA9ICFkLnNpZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcInJlc29ydFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5sZWZ0cmlnaHQgPSB0aGlzLmNvbnRleHQubGVmdHJpZ2h0LnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiYm9yZGVyOiBzb2xpZCAxcHggcmVkXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdGhpcy5jb250ZXh0LmNvdW50ICUgMiA9PT0gMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT4gY29udGVudFBhZ2Uoe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdGhpcy5jb250ZXh0LmNvdW50ICUgMiA9PT0gMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT4gaXRlbVBhZ2Uoe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC51cGRhdGUoKTtcbiAgICB9XG59XG5cbmxldCBtYWluID0gbmV3IE1haW5BcHAoZG9jdW1lbnQuYm9keSk7XG5tYWluLnVwZGF0ZSgpOyJdLCJzb3VyY2VSb290IjoiIn0=