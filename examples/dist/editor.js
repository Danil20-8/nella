!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";function a(e){if(e){if(e instanceof HTMLElement)return e;if(Array.isArray(e.element)){for(let t=0;t<e.element.length;++t){let n=a(e.element[t]);if(n)return n}return null}return a(e.element)}return null}function i(e){return e?e instanceof HTMLElement?e:Array.isArray(e.element)?i(e.__parent):i(e.element):null}function l(e,t){if(e){if(!t&&e instanceof HTMLElement)return e;{let n=t?e.__nextSibling:e;for(;n;){let e=a(n);if(e)return e;n=n.__nextSibling}let i=e.__parent;for(;i&&Array.isArray(i.element);){let e=l(i.__nextSibling);if(e)return e;i=i.__parent}}}return null}function o(e,...t){t.forEach(t=>{t instanceof HTMLElement?i(e).append(t):Array.isArray(t.element)?t.element.forEach(t=>o(e,t)):t.element&&o(e,t.element)})}function r(e,t,n){t instanceof HTMLElement?i(e).insertBefore(t,l(n)):Array.isArray(t.element)?t.element.forEach(t=>r(e,t,n)):r(e,t.element,n)}function s(e){return e instanceof Function?e():e}function c(e){e.remove instanceof Function?e.remove():Array.isArray(e)?e.forEach(e=>c(e)):e.element&&c(e.element)}n.d(t,"m",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return g})),n.d(t,"b",(function(){return x})),n.d(t,"l",(function(){return w}));class u{constructor(e,t,n){this.context=t,this.awake(),this.children=n||this.component(t),Array.isArray(this.children)||(this.children=[this.children]);for(let e=0;e<this.children.length;++e){let n=this.children[e];Array.isArray(n)?(this.children.splice(e,1,...n),--e):n instanceof Function?(n=n(t),n?this.children[e]=new u(null,t,n):(this.children.splice(e,1),--e)):n instanceof u||(this.children.splice(e,1),--e)}if(e){e instanceof HTMLElement?(this.element=e,o(this.element,...this.children)):(this.element=document.createElement(e),o(this.element,...this.children)),this.__backedContext=[];let t=Object.keys(this.context);for(let e=0;e<t.length;++e){let n=t[e];n.startsWith("on")?this.element[n]=this.context[n]:n.startsWith("_")||void 0!==this.element[n]&&this.__backedContext.push(()=>{let e=s(this.context[n]);this.element[n]!==e&&(this.element[n]=e)})}this.__applyHtmlContext()}else this.element=this.children;for(let e=0;e<this.children.length;++e){let t=this.children[e];t instanceof u&&(t.__parent=this,t.__nextSibling=this.children[e+1])}}component(e){return[]}__reset(){this.children.forEach(e=>e.__reset()),Array.isArray(this.element)&&this.element.forEach(e=>e.__reset()),this.element instanceof u&&this.element.__reset(),this.__started=!1,this.awake(),this.__applyHtmlContext()}awake(){}__start(){return this.__started=!0,this.start()}start(){}__stop(){this.children.forEach(e=>e.__stop()),Array.isArray(this.element)&&this.element.forEach(e=>e.__stop()),this.stop(),this.__started=!1}stop(){}async update(){this.__started||await this.__start();try{this.__applyHtmlContext(),this.children.forEach(e=>function(e,t){e.update instanceof Function?e.update(t):e.element&&e.element.update instanceof Function&&e.element.update(t)}(e))}catch(e){throw e.componentStack||(e.componentStack=[]),e.componentStack.push(this),e}}__applyHtmlContext(){this.element instanceof HTMLElement&&this.__backedContext.forEach(e=>e())}remove(){this.__started&&this.__stop(),c(this.element)}}function d(e,t,...n){return new u(e,t,n)}class h{constructor(e){this.__pool=[],this.__component=e}push(e){e.__pool&&this.__pool.push(e)}pop(e){let t=this.__pool.pop();if(t)return t.__pool.__context=e,t.__reset(),t;{let n={__context:e};return e&&Object.keys(e).forEach(e=>{Object.defineProperty(n,e,{get:function(){return this.__context[e]},set:function(t){this.__context[e]=t}})}),t=new u(null,n,this.__component(n)),t.__pool=n,t.__remove=t.remove,t.remove=()=>{t.__remove(),this.push(t)},t}}}function p(e,t){return d("input",Object.assign(e,{type:t}))}function m(...e){return void 0!==e[0].items?b({data:()=>e[0].items.filter(e=>s(e.active)).slice(0,e[1]||1),component:e=>(e.createElement||e.component)()}):b({data:()=>e.filter(e=>s(e.active)).slice(0,1),component:e=>e.component()})}function f(...e){return m(...e.map(e=>({active:e.active,component:_(e.component)})))}let v=0;class y extends u{constructor(e){let t=[];super(null,e,t),e.component||(e.component=e.createElement),this.oldData=[],this.elements=t,this.dict={},this.__updateList()}__insertAt(e,t){this.__started&&(e<this.elements.length?r(this.__parent,t,this.elements[e]):r(this.__parent,t,l(this,!0)))}update(){this.__updateList(),super.update()}__updateList(){let e=s(this.context.data),t={},n={};for(let a=0;a<e.length;++a){let i=e[a],l=this.oldData[a],o=i instanceof Object;if(o&&i==l)continue;let r=o?i.__key||(i.__key=++v):i,s=this.dict[r];if(s){if(!o){let e=n[r];if(e&&e.length>=s.length){let e=new u(null,i,this.context.component(i));s.__parent=this,s.push(e),s=e;let t=n[r];t?t.push(s):n[r]=[s]}else{let e=s.shift();s.push(e),s=e;let t=n[r];if(t?t.push(s):n[r]=[s],i==l)continue}}let e=t[r];e&&(o?delete t[r]:e.splice(e.indexOf(s),1)),o&&(n[r]=s)}else if(s=new u(null,i,this.context.component(i)),s.__parent=this,o)this.dict[r]=s;else{let e=this.dict[r];e?e.push(s):this.dict[r]=[s];let t=n[r];t?t.push(s):n[r]=[s]}let c=this.elements[a],d=a+1;for(;d<this.elements.length;++d){let e=this.oldData[d];if(o){if(n[e.__key])continue;break}{let t=n[e];if(t){let e=this.elements[d];if(t.indexOf(e)>-1)continue}break}}if(this.__insertAt(d,s),d-1>0&&(this.elements[d-2].__nextSibling=s),c)if(o)n[l.__key]||(t[l.__key]=c);else{let e=n[l];if(!e||e.indexOf(c)<0){let e=t[l];e?e.push(c):t[l]=[c]}}this.elements[a]=s,this.oldData[a]=i}if(Object.keys(t).forEach(e=>{let n=t[e],a=this.dict[e];Array.isArray(n)?(n.forEach(e=>{c(e),a.splice(a.indexOf(element),1)}),0===a.length&&delete this.dict[e]):(c(n),delete this.dict[e])}),this.oldData.length>e.length){for(let t=e.length;t<this.oldData.length;++t){let e=this.elements[t],a=this.oldData[t],i=a instanceof Object,l=i?a.__key:a;if(!i||!n[a.__key]){{let t=n[a];if(t&&t.indexOf(e)>-1)continue}if(i)delete this.dict[l];else{let t=this.dict[l];t.splice(t.indexOf(e),1),0===t.length&&delete this.dict[l]}c(e)}}this.elements.splice(e.length,this.elements.length),this.oldData.splice(e.length,this.oldData.length),this.elements.length>0&&(this.elements[this.elements.length-1].__nextSibling=null)}}}function b(e){return new y(e)}function g(e){let t=new h(e.component);return b({data:e.data,component:e=>t.pop(e)})}function _(e){let t=new h(e);return()=>t.pop()}class x{constructor(e,t){this.__element=null,this.__mounted=!1,this.__siblingAppContexts=t||[],this.data=e;let n=e=>{Object.keys(e).forEach(t=>{if(t.startsWith("on")){let n=e[t];e[t]=async(...e)=>{let t=n(...e);for(;t instanceof Promise;)t=await t;return this.update(),t}}})};this.div=function(e,...t){return n(e),function(e,...t){return d("div",e,...t)}(e,...t)},this.span=function(e,...t){return n(e),function(e,...t){return d("span",e,...t)}(e,...t)},this.inputText=function(e){return n(e),function(e){return p(e,"text")}(e)},this.select=function(e){return n(e),function(e){let t=e.options;if(delete e.options,t instanceof Function){let e=t,n=[];t=()=>{let t=e();if(n===t)return n;for(let e=0;e<n.length;++e){let a=n[e];if(!t.includes(a)){let e=t.findIndex(e=>e.value===a.value&&e.text===a.text);e>-1&&(t[e]=a)}}}}return d("select",e,g({data:t,component:t=>d("option",{innerText:()=>t.text,value:()=>t.value,selected:()=>t.value===s(e.value)})}))}(e)},this.button=function(e){return n(e),function(e){return d("button",e)}(e)},this.p=function(e,...t){return n(e),function(e,...t){return d("p",e,...t)}(e,...t)},this.label=function(e,...t){return n(e),function(e,...t){return d("label",e,...t)}(e,...t)},this.a=function(e,...t){return n(e),function(e,...t){return d("a",e,...t)}(e,...t)},this.iframe=function(e,...t){return n(e),function(e,...t){let n=d("iframe",e),i=(n.update.bind(n.update),a(n)),l=setInterval(()=>{if(i.contentDocument){clearInterval(l);let a=d(i.contentDocument.body,e,...t);n.update=()=>{a.update()}}},30);return n}(e,...t)},this.mount=this.mount.bind(this),this.component=this.component.bind(this),this.update=this.update.bind(this),this.error=this.error.bind(this)}mount(e,...t){if(this.__mounted)throw new Error("context is already mounted");return this.__element=d(e,{},...t),this.__mounted=!0,this.update(),this.__element}component(e){if(!this.__mounted){let t=e.update;e.update=()=>{this.__mounted||(this.__mounted=!0),e.update=t,e.update()},this.__element=e}return e}update(){let e=Date.now();try{this.__element.update(),this.__siblingAppContexts.forEach(e=>{e.update()})}catch(e){this.error(e)}console.log("update time",Date.now()-e)}error(e){e.componentStack?console.error(e,e.componentStack):console.error(e)}}function w(e,t){return{...t||e,component:e.component,data:e}}},,function(e,t,n){var a=n(3),i=n(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var l={insert:"head",singleton:!1},o=(a(i,l),i.locals?i.locals:{});e.exports=o},function(e,t,n){"use strict";var a,i=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},l=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function r(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function s(e,t){for(var n={},a=[],i=0;i<e.length;i++){var l=e[i],s=t.base?l[0]+t.base:l[0],c=n[s]||0,u="".concat(s," ").concat(c);n[s]=c+1;var d=r(u),h={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(o[d].references++,o[d].updater(h)):o.push({identifier:u,updater:v(h,t),references:1}),a.push(u)}return a}function c(e){var t=document.createElement("style"),a=e.attributes||{};if(void 0===a.nonce){var i=n.nc;i&&(a.nonce=i)}if(Object.keys(a).forEach((function(e){t.setAttribute(e,a[e])})),"function"==typeof e.insert)e.insert(t);else{var o=l(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function h(e,t,n,a){var i=n?"":a.media?"@media ".concat(a.media," {").concat(a.css,"}"):a.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var l=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(l,o[t]):e.appendChild(l)}}function p(e,t,n){var a=n.css,i=n.media,l=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),l&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(l))))," */")),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}var m=null,f=0;function v(e,t){var n,a,i;if(t.singleton){var l=f++;n=m||(m=c(t)),a=h.bind(null,n,l,!1),i=h.bind(null,n,l,!0)}else n=c(t),a=p.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=s(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<n.length;a++){var i=r(n[a]);o[i].references--}for(var l=s(e,t),c=0;c<n.length;c++){var u=r(n[c]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}n=l}}}},function(e,t,n){(t=n(5)(!1)).push([e.i,".editor{\n    position: fixed;\n    height: 100%;\n    width: 100%;\n}\n\n.editor-out{\n    position: absolute;\n    left: 80vw;\n    right: 0;\n    top: 0;\n    bottom: 80vh;\n\n    display: flex;\n    flex-flow: row-reverse;\n    background-color: yellow;\n}\n.editor-top{\n    position: absolute;\n    left: 0;\n    right: 20vw;\n    top: 0;\n    bottom: 80vh;\n\n    display: flex;\n\n    background-color: green;\n}\n.editor-side{\n    position: absolute;\n    left: 80vw;\n    right: 0;\n    top: 20vh;\n    bottom: 0;\n    background-color: yellow;\n    overflow-y: auto;\n}\n.editor-sandbox{\n    position: absolute;\n    left: 0;\n    right: 20vw;\n    top: 20vh;\n    bottom: 0;\n    background-color: lightgray;\n}\n\n.item-active{\n    box-shadow: 0 0 7px yellow;\n}",""]),e.exports=t},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",a=e[3];if(!a)return n;if(t&&"function"==typeof btoa){var i=(o=a,r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(s," */")),l=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[n].concat(l).concat([i]).join("\n")}var o,r,s;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,a){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(a)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(i[o]=!0)}for(var r=0;r<e.length;r++){var s=[].concat(e[r]);a&&i[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},function(e,t,n){"use strict";n.r(t);var a=n(0);n(2);function i(e,t=null){let{}=t||e;return function(t){let n=!0,a=!0,{appData:i,addAppData:l,setAppData:o,addAppDataReferer:r,removeAppDataReferer:s,renameAppData:c}=t;return e.component(div({className:"editor-side"},button({innerText:"appData",onclick:()=>{n=!n}}),button({innerText:"elementData",onclick:()=>{a=!a}}),switchComponent({items:[{active:()=>n,createElement:()=>body(list({data:()=>Object.keys(i),createElement:e=>div({},inputText({value:()=>e,placeholder:"name",onchange:t=>{c(e,t.target.value)}}),switchComponent({items:[{active:()=>"string"===i[e].type||"number"===i[e].type,createElement:()=>inputText({value:()=>"string"===i[e].type?i[e].stringValue:"number"===i[e].type?i[e].numberValue:null,placeholder:"value",onchange:t=>{o(e,t.target.value)}})},{active:()=>"list"===i[e].type,createElement:()=>body(list({data:()=>i[e].listValue,createElement:t=>inputText({value:()=>"string"===i[e].listType?t.stringValue:"number"===i[e].listType?t.numberValue:null,onchange:n=>{switch(i[e].listType){case"string":t.stringValue=n.target.value;break;case"number":t.numberValue=parseFloat(n.target.value)}}})}),select({options:["string","number"],value:()=>i[e].listType,onchange:t=>{i[e].listType=t.target.value}}),button({innerText:"add to list",onclick:()=>{i[e].listValue.push({stringValue:"",numberValue:0})}}))}]}),select({options:["string","number","list"],value:()=>i[e].type,onchange:t=>{i[e].type=t.target.value}}),switchComponent({items:[{active:()=>0===i[e].refCount,createElement:()=>button({innerText:"remove",onclick:()=>{delete i[e]}})},{active:()=>i[e].refCount>0,createElement:()=>label({innerText:()=>`in use for ${i[e].refCount} times`})}]}))}),button({innerText:"add field",onclick:()=>{l("","","string")}}))},{active:()=>t.activeItem&&a,createElement:()=>body(list({data:()=>Object.keys(t.activeItem.elData),createElement:e=>div({},label({innerText:e}),switchComponent({items:[{active:()=>"const"===t.activeItem.elData[e].bind,createElement:()=>inputText({value:()=>t.activeItem.elData[e].constValue,placeholder:"value",onchange:n=>{t.activeItem.elData[e].constValue=n.target.value}})},{active:()=>"dynamic"===t.activeItem.elData[e].bind,createElement:()=>body(inputText({value:()=>t.activeItem.elData[e].dynValue,placeholder:"field name",onchange:n=>{let a=t.activeItem.elData[e];i[a.dynValue]&&s(a.dynValue,a);let o=n.target.value;a.dynValue=o,i[o]?r(o,a):l(o,a.constValue,"string",a)}}),inputText({value:()=>getAppDataValue(t.activeItem.elData[e].dynValue),onchange:n=>{o(t.activeItem.elData[e].dynValue,n.target.value)}}))}]}),select({options:["const","dynamic"],value:()=>t.activeItem.elData[e].bind,onchange:n=>{let a=t.activeItem.elData[e];"dynamic"===a.bind&&a.dynValue&&s(a.dynValue,a),a.bind=n.target.value,"dynamic"===a.bind&&(i[a.dynValue]?r(a.dynValue,a):a.dynValue&&l(a.dynValue,a.constValue,"string",a))}}))}),list({data:()=>Object.keys(t.activeItem.events),createElement:e=>div({},label({innerText:e}),select({options:["none","setState","function"],value:()=>t.activeItem.events[e].type,onchange:n=>{t.activeItem.events[e].type=n.target.value}}),switchComponent({items:[{active:()=>"setState"===t.activeItem.events[e].type,createElement:()=>body(list({data:()=>Object.keys(t.activeItem.events[e].state),createElement:n=>div({},select({options:()=>Object.keys(i),value:()=>n,onchange:a=>{let i=t.activeItem.events[e].state[n];delete t.activeItem.events[e].state[n],t.activeItem.events[e].state[a.target.value]=i}}),inputText({value:()=>t.activeItem.events[e].state[n],placeholder:"new value",onchange:a=>{t.activeItem.events[e].state[n]=a.target.value}}))}),button({innerText:"add field",onclick:()=>{let n=0,a="new field";for(;void 0!==t.activeItem.events[e].state[a];)a+=++n;t.activeItem.events[e].state[a]=""}}))},{active:()=>"function"===t.activeItem.events[e].type,createElement:()=>body(inputText({placeholder:"function name",value:()=>t.activeItem.events[e].function,onchange:n=>{t.activeItem.events[e].function=n.target.value}}))}]}))}))}]},100)))}}let l=[],o=null,r={};class s{constructor(){}}class c extends a.b{constructor(...e){super(...e),this.data=new s}update(){Object.keys(r).forEach(e=>{O.context[e]=I(e)}),super.update()}}let u=new c,{mount:d,body:h,div:p,span:m,inputText:f,list:v,button:y,switchComponent:b,p:g,a:_,iframe:x,label:w,select:E}=u;function k(e,t,n,a){let i=r[e]={type:n,stringValue:"string"===n?t:0,numberValue:"number"===n?t:0,listType:"string",listValue:"list"===n?t:[],refs:[]};a&&i.refs.push(a)}function V(e,t){r[e].refs.push(t)}function T(e,t){let n=r[e];n.refs.splice(n.refs.indexOf(t),1)}function D(e,t){let n=r[e];switch(n.type){case"string":n.stringValue=t;break;case"number":n.numberValue=parseFloat(t);break;case"list":n.listValue=t}}function I(e){let t=r[e];if(!t)return null;switch(t.type){case"string":return t.stringValue;case"number":return t.numberValue;case"list":return t.listValue}}let O={element:null,context:{}},j=function(e,t){let{div:n}=Object(a.l)(e,t),l=new a.b(e.data.sandbox),o=new a.b(e.data,[l]),r=function(e,t=null){let{list:n}=t||e;return function(t){return e.component(n({data:t.items,component:e=>e.el(e.context)}))}}(l,e),s=function(e){let{component:t,body:n}=e;return function(e){return t(n())}}(o),c=function(e,t=null){let{button:n,div:a,span:i,list:l,a:o}=t||e;return function({pushItem:t,editorItemContext:r,defaultElContext:s}){return e.component(a({className:"editor-top"},n({innerText:"button",onclick:()=>t("button",e=>n(r(e)),s({innerText:"button"}))}),n({innerText:"div",onclick:()=>t("div",e=>a(r(e),l(e)),s({},!0))}),n({innerText:"list",onclick:()=>t("list",e=>i(r(e),l(e)),s({data:[]},!1,!0))}),n({innerText:"a",onclick:()=>t("a",e=>o(r(e)),s({innerText:"to google!",href:"https://www.google.com/"}))})))}}(e),u=i(e);return e.update,function(t){return e.component(n({className:"editor"},c(t),u(t),s(t),n({className:"editor-sandbox"},iframe({width:"100%",height:"100%"},r(t))),n({className:"editor-out"},button({innerText:"compile",onclick:()=>t.compile()}))))}}(new a.b);d(document.body,j({items:[],activeItem:null,appData:{},sandbox:{element:null,context:{}},editorItemContext:function(e){let t={};Object.keys(e.elData).forEach(n=>{t[n]=()=>{let t=e.elData[n];switch(t.bind){case"const":return t.constValue;case"dynamic":return O.context[t.dynValue]}}});let n={};return Object.keys(e.events).forEach(t=>{let a=e.events[t];n[t]=()=>{switch(a.type){case"setState":Object.assign(O.context,a.state);break;case"function":window[a.function]()}}}),{...e,...t,...n,style:()=>Object(a.m)(t.style)+(e===o?";box-shadow: 0 0 7px yellow;":null)+"min-width: 12px; min-height: 12px; border: dashed 1px gray",onclick:t=>{t.ctrlKey||(o!==e&&(t.stopPropagation(),t.preventDefault()),this.selectItem(e)),t.ctrlKey&&n.onclick&&n.onclick(t)}}},selectItem:function(e){this.activeItem!=e&&(this.activeItem=e)},defaultElContext:function(e,t,n){let a={},i=this.defaultElData(e);return Object.keys(i).forEach(e=>{a[e]={bind:"const",constValue:i[e],dynValue:"",type:Array.isArray(i[e])?"list":"string"}}),{allowChildren:!n&&t,dynamic:n,data:[],createElement:e=>e.el(e.context),elData:a,events:n?{}:this.defaultEvents()}},defaultElData:function(e){return{...e}},defaultEvents:()=>({onclick:{type:null,state:{},function:""}})})),d(document.body,p({className:"editor"},topComponent({pushItem:function(e,t,n){let a=l;o&&o.allowChildren?a=o.data:o=n;a.push({name:e,el:t,context:n})},defaultElContext:defaultElContext,editorItemContext:editorItemContext}),i(u)({activeItem:o}),p({className:"editor-side"},y({innerText:"appData",onclick:()=>{showAppData=!showAppData}}),y({innerText:"elementData",onclick:()=>{showElementData=!showElementData}}),b({items:[{active:()=>showAppData,createElement:()=>h(v({data:()=>Object.keys(r),createElement:e=>p({},f({value:()=>e,placeholder:"name",onchange:t=>{!function(e,t){let n=r[e];delete r[e],r[t]=n,n.refs.forEach(e=>e.dynValue=t)}(e,t.target.value)}}),b({items:[{active:()=>"string"===r[e].type||"number"===r[e].type,createElement:()=>f({value:()=>"string"===r[e].type?r[e].stringValue:"number"===r[e].type?r[e].numberValue:null,placeholder:"value",onchange:t=>{D(e,t.target.value)}})},{active:()=>"list"===r[e].type,createElement:()=>h(v({data:()=>r[e].listValue,createElement:t=>f({value:()=>"string"===r[e].listType?t.stringValue:"number"===r[e].listType?t.numberValue:null,onchange:n=>{switch(r[e].listType){case"string":t.stringValue=n.target.value;break;case"number":t.numberValue=parseFloat(n.target.value)}}})}),E({options:["string","number"],value:()=>r[e].listType,onchange:t=>{r[e].listType=t.target.value}}),y({innerText:"add to list",onclick:()=>{r[e].listValue.push({stringValue:"",numberValue:0})}}))}]}),E({options:["string","number","list"],value:()=>r[e].type,onchange:t=>{r[e].type=t.target.value}}),b({items:[{active:()=>0===r[e].refCount,createElement:()=>y({innerText:"remove",onclick:()=>{delete r[e]}})},{active:()=>r[e].refCount>0,createElement:()=>w({innerText:()=>`in use for ${r[e].refCount} times`})}]}))}),y({innerText:"add field",onclick:()=>{k("","","string")}}))},{active:()=>o&&showElementData,createElement:()=>h(v({data:()=>Object.keys(o.elData),createElement:e=>p({},w({innerText:e}),b({items:[{active:()=>"const"===o.elData[e].bind,createElement:()=>f({value:()=>o.elData[e].constValue,placeholder:"value",onchange:t=>{o.elData[e].constValue=t.target.value}})},{active:()=>"dynamic"===o.elData[e].bind,createElement:()=>h(f({value:()=>o.elData[e].dynValue,placeholder:"field name",onchange:t=>{let n=o.elData[e];r[n.dynValue]&&T(n.dynValue,n);let a=t.target.value;n.dynValue=a,r[a]?V(a,n):k(a,n.constValue,"string",n)}}),f({value:()=>I(o.elData[e].dynValue),onchange:t=>{D(o.elData[e].dynValue,t.target.value)}}))}]}),E({options:["const","dynamic"],value:()=>o.elData[e].bind,onchange:t=>{let n=o.elData[e];"dynamic"===n.bind&&n.dynValue&&T(n.dynValue,n),n.bind=t.target.value,"dynamic"===n.bind&&(r[n.dynValue]?V(n.dynValue,n):n.dynValue&&k(n.dynValue,n.constValue,"string",n))}}))}),v({data:()=>Object.keys(o.events),createElement:e=>p({},w({innerText:e}),E({options:["none","setState","function"],value:()=>o.events[e].type,onchange:t=>{o.events[e].type=t.target.value}}),b({items:[{active:()=>"setState"===o.events[e].type,createElement:()=>h(v({data:()=>Object.keys(o.events[e].state),createElement:t=>p({},E({options:()=>Object.keys(r),value:()=>t,onchange:n=>{let a=o.events[e].state[t];delete o.events[e].state[t],o.events[e].state[n.target.value]=a}}),f({value:()=>o.events[e].state[t],placeholder:"new value",onchange:n=>{o.events[e].state[t]=n.target.value}}))}),y({innerText:"add field",onclick:()=>{let t=0,n="new field";for(;void 0!==o.events[e].state[n];)n+=++t;o.events[e].state[n]=""}}))},{active:()=>"function"===o.events[e].type,createElement:()=>h(f({placeholder:"function name",value:()=>o.events[e].function,onchange:t=>{o.events[e].function=t.target.value}}))}]}))}))}]},100)),p({className:"editor-sandbox"},x({width:"100%",height:"100%"},sandboxComponent({items:l}))),p({className:"editor-out"},y({innerText:"compile",onclick:()=>{console.log(`\n        let context = {\n            ${Object.keys(r).map(e=>`"${e}":"${r[e]}"`).join(",")}\n        };\n\n        let app = component(document.body, {},\n            ${l.map(e=>function e(t){let n={};return Object.keys(t.context.elData).forEach(e=>{n[e]=t.context.elData[e].toString()}),`${t.name}(${JSON.stringify(n)}, ${void 0!==t.context.data?t.context.data.map(t=>e(t)):""})`}(e))}\n            );\n\n        app.update();\n    `)}}))))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IuY3NzP2QxN2MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvci9zaWRlLmpzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvci9lZGl0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2VkaXRvci9zYW5kYm94LmpzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IvY3NzLmpzIiwid2VicGFjazovLy8uL3NyYy9lZGl0b3IvdG9wLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZ2V0RWxlbWVudCIsImNvbXBvbmVudCIsIkhUTUxFbGVtZW50IiwiQXJyYXkiLCJpc0FycmF5IiwiZWxlbWVudCIsImxlbmd0aCIsImVsIiwiZ2V0UGFyZW50IiwiX19wYXJlbnQiLCJnZXROZXh0U2libGluZyIsInNraXAiLCJfX25leHRTaWJsaW5nIiwiYXBwZW5kIiwiY2hpbGRyZW4iLCJmb3JFYWNoIiwiZSIsImluc2VydEJlZm9yZSIsImNoaWxkIiwicmVmY2hpbGQiLCJ2YWwiLCJGdW5jdGlvbiIsInJlbW92ZSIsIkNvbXBvbmVudCIsImh0bWwiLCJjb250ZXh0IiwidGhpcyIsImF3YWtlIiwic3BsaWNlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiX19iYWNrZWRDb250ZXh0IiwiY29udGV4dEtleXMiLCJrZXlzIiwiayIsInN0YXJ0c1dpdGgiLCJ1bmRlZmluZWQiLCJwdXNoIiwidiIsIl9fYXBwbHlIdG1sQ29udGV4dCIsIl9fcmVzZXQiLCJfX3N0YXJ0ZWQiLCJzdGFydCIsIl9fc3RvcCIsInN0b3AiLCJfX3N0YXJ0Iiwic3RhdGUiLCJ1cGRhdGUiLCJjb21wb25lbnRTdGFjayIsIkNvbXBvbmVudFBvb2wiLCJfX3Bvb2wiLCJfX2NvbXBvbmVudCIsInBvcCIsIl9fY29udGV4dCIsInBvb2wiLCJzZXQiLCJfX3JlbW92ZSIsImlucHV0IiwidHlwZSIsImFzc2lnbiIsInN3aXRjaENvbXBvbmVudCIsIml0ZW1zIiwibGlzdCIsImRhdGEiLCJmaWx0ZXIiLCJhY3RpdmUiLCJzbGljZSIsInBvb2xTd2l0Y2giLCJtYXAiLCJ1c2VQb29sQ29tcG9uZW50IiwiX19saXN0Q29tcG9uZW50S2V5SW5jcmVtZW50IiwiTGlzdENvbXBvbmVudCIsInN1cGVyIiwib2xkRGF0YSIsImVsZW1lbnRzIiwiZGljdCIsIl9fdXBkYXRlTGlzdCIsImluZGV4IiwicmVwbGFjZWQiLCJpbnNlcnRlZCIsIm5kIiwib2QiLCJkb09iaiIsIml0Iiwic2hpZnQiLCJpbmRleE9mIiwib2xkRWxlbWVudCIsImluc2VydEluZGV4IiwibnRoZCIsIm50aGVsIiwiX19pbnNlcnRBdCIsInBvb2xMaXN0IiwiQ29udGV4dCIsInNpYmxpbmdDb250ZXh0cyIsIl9fZWxlbWVudCIsIl9fbW91bnRlZCIsIl9fc2libGluZ0FwcENvbnRleHRzIiwic2V0SG9va3MiLCJoYW5kbGVyIiwiYXN5bmMiLCJhcmdzIiwiUHJvbWlzZSIsImRpdiIsInNwYW4iLCJpbnB1dFRleHQiLCJzZWxlY3QiLCJvcHRpb25zIiwiZ2V0T3B0aW9ucyIsIm9sZE9wdGlvbnMiLCJuZXdPcHRpb25zIiwib2xkT3B0aW9uIiwiaW5jbHVkZXMiLCJvbGRJbmRleCIsImZpbmRJbmRleCIsInRleHQiLCJpbm5lclRleHQiLCJzZWxlY3RlZCIsImJ1dHRvbiIsImxhYmVsIiwiYSIsImlmcmFtZSIsInNldEludGVydmFsIiwiY29udGVudERvY3VtZW50IiwiY2xlYXJJbnRlcnZhbCIsImZlbCIsImJvZHkiLCJtb3VudCIsImVycm9yIiwiRXJyb3IiLCJlbGVtZW50VXBkYXRlIiwiRGF0ZSIsIm5vdyIsImNvbnNvbGUiLCJsb2ciLCJ1c2VIdG1sanMiLCJodG1sanMiLCJwYXJlbnRIdG1sanMiLCJhcGkiLCJjb250ZW50IiwiZGVmYXVsdCIsImV4cG9ydGVkIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiaGVhZCIsInN0eWxlc0luRG9tIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0Iiwib2JqIiwiY3NzIiwibWVkaWEiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsInVzZVNpZGVFZGl0b3JDb21wb25lbnQiLCJzaG93QXBwRGF0YSIsInNob3dFbGVtZW50RGF0YSIsImFwcERhdGEiLCJhZGRBcHBEYXRhIiwic2V0QXBwRGF0YSIsImFkZEFwcERhdGFSZWZlcmVyIiwicmVtb3ZlQXBwRGF0YVJlZmVyZXIiLCJyZW5hbWVBcHBEYXRhIiwiY2xhc3NOYW1lIiwib25jbGljayIsInBsYWNlaG9sZGVyIiwib25jaGFuZ2UiLCJzdHJpbmdWYWx1ZSIsIm51bWJlclZhbHVlIiwibGlzdFZhbHVlIiwibGlzdFR5cGUiLCJwYXJzZUZsb2F0IiwicmVmQ291bnQiLCJhY3RpdmVJdGVtIiwiZWxEYXRhIiwiY29uc3RWYWx1ZSIsImR5blZhbHVlIiwiZ2V0QXBwRGF0YVZhbHVlIiwiZXZlbnRzIiwic2siLCJuYW1lSW5jcmVtZW50IiwiZmllbGROYW1lIiwiZnVuY3Rpb24iLCJEYXRhQ29udGV4dCIsInNhbmRib3giLCJyZWZlcmVyIiwicmVmcyIsImVkaXRvckNvbXBvbmVudCIsInNhbmRib3hIdG1sanMiLCJjc3NDb21wb25lbnRIdG1sanMiLCJzYW5kYm94Q29tcG9uZW50IiwidXNlU2FuZGJveENvbXBvbmVudCIsImNzc0NvbXBvbmVudCIsInVzZUNzc0VkaXRvciIsInRvcENvbXBvbmVudCIsInB1c2hJdGVtIiwiZWRpdG9ySXRlbUNvbnRleHQiLCJkZWZhdWx0RWxDb250ZXh0IiwiaHJlZiIsInVzZVRvcEVkaXRvckNvbXBvbmVudCIsInNpZGVDb21wb25lbnQiLCJ3aWR0aCIsImhlaWdodCIsImNvbXBpbGUiLCJ1c2VFZGl0b3JDb21wb25lbnQiLCJldiIsImN0cmxLZXkiLCJzdG9wUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInNlbGVjdEl0ZW0iLCJhbGxvd0NoaWxkcmVuIiwiZHluYW1pYyIsImRlZmF1bHRFbERhdGEiLCJkZWZhdWx0RXZlbnRzIiwibmV3S2V5IiwiY29tcGlsZUl0ZW0iXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFB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Mk4sUUFBUXJPLFFBQVFtQixJQUNyQzdELEVBQUU2RCxHQUFLK0gsRUFBS3hJLFFBQVEyTixPQUFPbE4sR0FBRzZLLGFBRTNCLEdBQUc5QyxFQUFLMUwsUUFBUTZOLEtBQUtDLFVBQVVoTyxZQUE4QitELElBQXRCNkgsRUFBS3hJLFFBQVFzQyxLQUFxQmtHLEVBQUt4SSxRQUFRc0MsS0FBS0ssSUFBSXBHLEdBQUs2VCxFQUFZN1QsSUFBTSxNQVdwRzZULENBQVk3VCIsImZpbGUiOiJlZGl0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNik7XG4iLCJmdW5jdGlvbiBnZXRFbGVtZW50KGNvbXBvbmVudCkge1xuICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgaWYgKGNvbXBvbmVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY29tcG9uZW50LmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb21wb25lbnQuZWxlbWVudC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZWwgPSBnZXRFbGVtZW50KGNvbXBvbmVudC5lbGVtZW50W2ldKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZWwpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldEVsZW1lbnQoY29tcG9uZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRQYXJlbnQoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnQuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UGFyZW50KGNvbXBvbmVudC5fX3BhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UGFyZW50KGNvbXBvbmVudC5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TmV4dFNpYmxpbmcoY29tcG9uZW50LCBza2lwKSB7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoIXNraXAgJiYgY29tcG9uZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcyA9IHNraXAgPyBjb21wb25lbnQuX19uZXh0U2libGluZyA6IGNvbXBvbmVudDtcbiAgICAgICAgICAgIHdoaWxlIChzKSB7XG4gICAgICAgICAgICAgICAgbGV0IGVsID0gZ2V0RWxlbWVudChzKTtcblxuICAgICAgICAgICAgICAgIGlmIChlbClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuXG4gICAgICAgICAgICAgICAgcyA9IHMuX19uZXh0U2libGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwID0gY29tcG9uZW50Ll9fcGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKHAgJiYgQXJyYXkuaXNBcnJheShwLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBnZXROZXh0U2libGluZyhwLl9fbmV4dFNpYmxpbmcpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgIHAgPSBwLl9fcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyppZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnQuX19wYXJlbnQuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGdldE5leHRTaWJsaW5nKGNvbXBvbmVudC5fX3BhcmVudC5fX25leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH0qL1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gYXBwZW5kKGVsLCAuLi5jaGlsZHJlbikge1xuICAgIGNoaWxkcmVuLmZvckVhY2goYyA9PiB7XG4gICAgICAgIGlmIChjIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGdldFBhcmVudChlbCkuYXBwZW5kKGMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoYy5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGMuZWxlbWVudC5mb3JFYWNoKGUgPT4gYXBwZW5kKGVsLCBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjLmVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBhcHBlbmQoZWwsIGMuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGluc2VydEJlZm9yZShlbCwgY2hpbGQsIHJlZmNoaWxkKSB7XG4gICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgZ2V0UGFyZW50KGVsKS5pbnNlcnRCZWZvcmUoY2hpbGQsIGdldE5leHRTaWJsaW5nKHJlZmNoaWxkKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjaGlsZC5lbGVtZW50KSkge1xuICAgICAgICAgICAgY2hpbGQuZWxlbWVudC5mb3JFYWNoKGMgPT4gaW5zZXJ0QmVmb3JlKGVsLCBjLCByZWZjaGlsZCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKGVsLCBjaGlsZC5lbGVtZW50LCByZWZjaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gdmFsKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gP1xuICAgICAgICB2YWx1ZSgpIDpcbiAgICAgICAgdmFsdWU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZShjb21wb25lbnQsIHN0YXRlKSB7XG4gICAgaWYgKGNvbXBvbmVudC51cGRhdGUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBjb21wb25lbnQudXBkYXRlKHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGNvbXBvbmVudC5lbGVtZW50ICYmIGNvbXBvbmVudC5lbGVtZW50LnVwZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbXBvbmVudC5lbGVtZW50LnVwZGF0ZShzdGF0ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlKGNvbXBvbmVudCkge1xuICAgIGlmIChjb21wb25lbnQucmVtb3ZlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgY29tcG9uZW50LnJlbW92ZSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudCkpIHtcbiAgICAgICAgY29tcG9uZW50LmZvckVhY2goYyA9PiByZW1vdmUoYykpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb21wb25lbnQuZWxlbWVudCkge1xuICAgICAgICByZW1vdmUoY29tcG9uZW50LmVsZW1lbnQpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBodG1sIFxuICAgICAqIEBwYXJhbSB7Kn0gY29udGV4dCBcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudFtdfSBjaGlsZHJlbiBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihodG1sLCBjb250ZXh0LCBjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLmF3YWtlKCk7XG5cbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuIHx8IHRoaXMuY29tcG9uZW50KGNvbnRleHQpO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5jaGlsZHJlbikpIHtcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbdGhpcy5jaGlsZHJlbl07XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgYyA9IHRoaXMuY2hpbGRyZW5baV07XG5cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSwgLi4uYyk7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgYyA9IGMoY29udGV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0gPSBuZXcgQ29tcG9uZW50KG51bGwsIGNvbnRleHQsIGMpO1xuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCEoYyBpbnN0YW5jZW9mIENvbXBvbmVudCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAtLWk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaHRtbCkge1xuICAgICAgICAgICAgaWYgKGh0bWwgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGh0bWw7XG4gICAgICAgICAgICAgICAgYXBwZW5kKHRoaXMuZWxlbWVudCwgLi4udGhpcy5jaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGh0bWwpO1xuICAgICAgICAgICAgICAgIGFwcGVuZCh0aGlzLmVsZW1lbnQsIC4uLnRoaXMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9fYmFja2VkQ29udGV4dCA9IFtdO1xuICAgICAgICAgICAgbGV0IGNvbnRleHRLZXlzID0gT2JqZWN0LmtleXModGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dEtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgayA9IGNvbnRleHRLZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoXCJvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRba10gPSB0aGlzLmNvbnRleHRba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFrLnN0YXJ0c1dpdGgoXCJfXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRba10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX2JhY2tlZENvbnRleHQucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHYgPSB2YWwodGhpcy5jb250ZXh0W2tdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50W2tdICE9PSB2KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRba10gPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX19hcHBseUh0bWxDb250ZXh0KCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IHRoaXMuY2hpbGRyZW47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBjID0gdGhpcy5jaGlsZHJlbltpXTtcblxuICAgICAgICAgICAgaWYgKGMgaW5zdGFuY2VvZiBDb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBjLl9fcGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgICAgICBjLl9fbmV4dFNpYmxpbmcgPSB0aGlzLmNoaWxkcmVuW2kgKyAxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7IENvbXBvbmVudFtdIH1cbiAgICAgKi9cbiAgICBjb21wb25lbnQoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIF9fcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IGMuX19yZXNldCgpKTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5lbGVtZW50KSkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmZvckVhY2goZSA9PiBlLl9fcmVzZXQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCBpbnN0YW5jZW9mIENvbXBvbmVudClcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5fX3Jlc2V0KCk7XG5cbiAgICAgICAgdGhpcy5fX3N0YXJ0ZWQgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLmF3YWtlKCk7XG5cbiAgICAgICAgdGhpcy5fX2FwcGx5SHRtbENvbnRleHQoKTtcbiAgICB9XG4gICAgYXdha2UoKSB7XG5cbiAgICB9XG4gICAgX19zdGFydCgpIHtcbiAgICAgICAgdGhpcy5fX3N0YXJ0ZWQgPSB0cnVlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXJ0KCk7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgIH1cbiAgICBfX3N0b3AoKSB7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IGMuX19zdG9wKCkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZm9yRWFjaChlID0+IGUuX19zdG9wKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICAgIHRoaXMuX19zdGFydGVkID0gZmFsc2U7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fc3RhcnRlZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fX3N0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX19hcHBseUh0bWxDb250ZXh0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IHVwZGF0ZShjKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghZS5jb21wb25lbnRTdGFjaylcbiAgICAgICAgICAgICAgICBlLmNvbXBvbmVudFN0YWNrID0gW107XG4gICAgICAgICAgICBlLmNvbXBvbmVudFN0YWNrLnB1c2godGhpcyk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fYXBwbHlIdG1sQ29udGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9fYmFja2VkQ29udGV4dC5mb3JFYWNoKGMgPT4gYygpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9fc3RhcnRlZClcbiAgICAgICAgICAgIHRoaXMuX19zdG9wKCk7XG5cbiAgICAgICAgcmVtb3ZlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcG9uZW50KG5hbWUsIGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wb25lbnQobmFtZSwgY29udGV4dCwgY2hpbGRyZW4pO1xufVxuXG5jbGFzcyBDb21wb25lbnRQb29sIHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyhwb29sOiB7IGNvbnRleHQ6IGFueSB9KSA9PiBDb21wb25lbnR9IGNvbXBvbmVudCBcblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLl9fcG9vbCA9IFtdO1xuICAgICAgICB0aGlzLl9fY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBcbiAgICAgKi9cbiAgICBwdXNoKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuX19wb29sKSB7XG4gICAgICAgICAgICB0aGlzLl9fcG9vbC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcChjb250ZXh0KSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fX3Bvb2wucG9wKCk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcG9vbC5fX2NvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICAgICAgZWxlbWVudC5fX3Jlc2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBwb29sID0geyBfX2NvbnRleHQ6IGNvbnRleHQgfTtcbiAgICAgICAgICAgIGlmIChjb250ZXh0KVxuICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwb29sLCBrLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuX19jb250ZXh0W2tdOyB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHsgdGhpcy5fX2NvbnRleHRba10gPSB2YWx1ZTsgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWxlbWVudCA9IG5ldyBDb21wb25lbnQobnVsbCwgcG9vbCwgdGhpcy5fX2NvbXBvbmVudChwb29sKSk7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcG9vbCA9IHBvb2w7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVtb3ZlID0gZWxlbWVudC5yZW1vdmU7XG4gICAgICAgICAgICBlbGVtZW50LnJlbW92ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50Ll9fcmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBcbiAqIEBwYXJhbSAgey4uLkNvbXBvbmVudH0gY2hpbGRyZW4gXG4gKi9cbmZ1bmN0aW9uIGRpdihjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgIHJldHVybiBjb21wb25lbnQoXCJkaXZcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pXG59XG5mdW5jdGlvbiBzcGFuKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcInNwYW5cIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gaW5wdXQoY29udGV4dCwgdHlwZSkge1xuICAgIHJldHVybiBjb21wb25lbnQoXCJpbnB1dFwiLCBPYmplY3QuYXNzaWduKGNvbnRleHQsIHsgdHlwZTogdHlwZSB9KSk7XG59XG5mdW5jdGlvbiBpbnB1dFRleHQoY29udGV4dCkge1xuICAgIHJldHVybiBpbnB1dChjb250ZXh0LCBcInRleHRcIik7XG59XG5mdW5jdGlvbiBpbnB1dFN1Ym1pdChjb250ZXh0KSB7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwic3VibWl0XCIpO1xufVxuZnVuY3Rpb24gY2hlY2tib3goY29udGV4dCkge1xuICAgIHJldHVybiBpbnB1dChjb250ZXh0LCBcImNoZWNrYm94XCIpO1xufVxuZnVuY3Rpb24gcmFkaW8oY29udGV4dCkge1xuICAgIHJldHVybiBpbnB1dChjb250ZXh0LCBcInJhZGlvXCIpO1xufVxuZnVuY3Rpb24gbGFiZWwoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICByZXR1cm4gY29tcG9uZW50KFwibGFiZWxcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gYShjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgIHJldHVybiBjb21wb25lbnQoXCJhXCIsIGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbn1cblxuZnVuY3Rpb24gcChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgIHJldHVybiBjb21wb25lbnQoXCJwXCIsIGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIGJ1dHRvbihjb250ZXh0KSB7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImJ1dHRvblwiLCBjb250ZXh0KTtcbn1cblxuZnVuY3Rpb24gc2VsZWN0KGNvbnRleHQpIHtcbiAgICBsZXQgb3B0aW9ucyA9IGNvbnRleHQub3B0aW9ucztcbiAgICBkZWxldGUgY29udGV4dC5vcHRpb25zO1xuICAgIGlmIChvcHRpb25zIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgbGV0IGdldE9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICBsZXQgb2xkT3B0aW9ucyA9IFtdO1xuICAgICAgICBvcHRpb25zID0gKCkgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld09wdGlvbnMgPSBnZXRPcHRpb25zKCk7XG4gICAgICAgICAgICBpZiAob2xkT3B0aW9ucyA9PT0gbmV3T3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvbGRPcHRpb25zO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG9sZE9wdGlvbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgb2xkT3B0aW9uID0gb2xkT3B0aW9uc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoIW5ld09wdGlvbnMuaW5jbHVkZXMob2xkT3B0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb2xkSW5kZXggPSBuZXdPcHRpb25zLmZpbmRJbmRleCgoZSkgPT4gZS52YWx1ZSA9PT0gb2xkT3B0aW9uLnZhbHVlICYmIGUudGV4dCA9PT0gb2xkT3B0aW9uLnRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdPcHRpb25zW29sZEluZGV4XSA9IG9sZE9wdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudChcInNlbGVjdFwiLCBjb250ZXh0LFxuICAgICAgICBwb29sTGlzdCh7XG4gICAgICAgICAgICBkYXRhOiBvcHRpb25zLFxuICAgICAgICAgICAgY29tcG9uZW50OiAoZGF0YSkgPT4gY29tcG9uZW50KFwib3B0aW9uXCIsIHtcbiAgICAgICAgICAgICAgICBpbm5lclRleHQ6ICgpID0+IGRhdGEudGV4dCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gZGF0YS52YWx1ZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogKCkgPT4gZGF0YS52YWx1ZSA9PT0gdmFsKGNvbnRleHQudmFsdWUpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIGlmcmFtZShjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgIGxldCBlID0gY29tcG9uZW50KFwiaWZyYW1lXCIsIGNvbnRleHQpO1xuICAgIGxldCBjb21wb25lbnRVcGRhdGUgPSBlLnVwZGF0ZS5iaW5kKGUudXBkYXRlKTtcbiAgICBsZXQgZWwgPSBnZXRFbGVtZW50KGUpO1xuICAgIGxldCBpdCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgaWYgKGVsLmNvbnRlbnREb2N1bWVudCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpdCk7XG4gICAgICAgICAgICBsZXQgZmVsID0gY29tcG9uZW50KGVsLmNvbnRlbnREb2N1bWVudC5ib2R5LCBjb250ZXh0LCAuLi5jaGlsZHJlbik7XG4gICAgICAgICAgICBlLnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvL2NvbXBvbmVudFVwZGF0ZSgpO1xuXG4gICAgICAgICAgICAgICAgZmVsLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgMzApO1xuICAgIHJldHVybiBlO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7eyBpdGVtczogeyBhY3RpdmU6IGJvb2xlYW4sIGNyZWF0ZUVsZW1lbnQ/OiAoKSA9PiBDb21wb25lbnQsIGNvbXBvbmVudDogKCkgPT4gQ29tcG9uZW50IH1bXSB9fSBjb250ZXh0IFxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IFxuICovXG4vKmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hDb21wb25lbnQoY29udGV4dCwgbGltaXQgPSAxKSB7XG4gICAgcmV0dXJuIGxpc3RDb21wb25lbnQoe1xuICAgICAgICBkYXRhOiAoKSA9PiB2YWwoY29udGV4dC5pdGVtcykuZmlsdGVyKGkgPT4gdmFsKGkuYWN0aXZlKSkuc2xpY2UoMCwgbGltaXQpLFxuICAgICAgICBjb21wb25lbnQ6IChpKSA9PiAoaS5jcmVhdGVFbGVtZW50IHx8IGkuY29tcG9uZW50KSgpXG4gICAgfSk7XG59Ki9cbi8qKlxuICogXG4gKiBAcGFyYW0gIHsuLi57IGFjdGl2ZTogKCgpID0+IGJvb2xlYW4pIHwgYm9vbGVhbiwgY29tcG9uZW50OiAoKSA9PiBDb21wb25lbnQgfX0gaXRlbXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hDb21wb25lbnQoLi4uaXRlbXMpIHtcbiAgICBpZiAoaXRlbXNbMF0uaXRlbXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gbGlzdCh7XG4gICAgICAgICAgICBkYXRhOiAoKSA9PiBpdGVtc1swXS5pdGVtcy5maWx0ZXIoaSA9PiB2YWwoaS5hY3RpdmUpKS5zbGljZSgwLCBpdGVtc1sxXSB8fCAxKSxcbiAgICAgICAgICAgIGNvbXBvbmVudDogKGkpID0+IChpLmNyZWF0ZUVsZW1lbnQgfHwgaS5jb21wb25lbnQpKClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBsaXN0KHtcbiAgICAgICAgZGF0YTogKCkgPT4gaXRlbXMuZmlsdGVyKGkgPT4gdmFsKGkuYWN0aXZlKSkuc2xpY2UoMCwgMSksXG4gICAgICAgIGNvbXBvbmVudDogKGkpID0+IGkuY29tcG9uZW50KClcbiAgICB9KTtcbn1cbi8qKlxuICogXG4gKiBAcGFyYW0gIHsuLi57IGFjdGl2ZTogKCgpID0+IGJvb2xlYW4pIHwgYm9vbGVhbiwgY29tcG9uZW50OiAoKSA9PiBDb21wb25lbnQgfX0gaXRlbXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb29sU3dpdGNoKC4uLml0ZW1zKSB7XG4gICAgcmV0dXJuIHN3aXRjaENvbXBvbmVudChcbiAgICAgICAgLi4uaXRlbXMubWFwKGkgPT4geyByZXR1cm4geyBhY3RpdmU6IGkuYWN0aXZlLCBjb21wb25lbnQ6IHVzZVBvb2xDb21wb25lbnQoaS5jb21wb25lbnQpIH07IH0pXG4gICAgKVxufVxubGV0IF9fbGlzdENvbXBvbmVudEtleUluY3JlbWVudCA9IDA7XG5jbGFzcyBMaXN0Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge3sgZGF0YTogYW55W10sIGNyZWF0ZUVsZW1lbnQ/OiAoZGF0YTogYW55KSA9PiBDb21wb25lbnQsIGNvbXBvbmVudDogKGRhdGE6IGFueSkgPT4gQ29tcG9uZW50IH19IGNvbnRleHQgXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICBsZXQgY2hpbGRyZW4gPSBbXTtcbiAgICAgICAgc3VwZXIobnVsbCwgY29udGV4dCwgY2hpbGRyZW4pO1xuXG4gICAgICAgIGlmICghY29udGV4dC5jb21wb25lbnQpXG4gICAgICAgICAgICBjb250ZXh0LmNvbXBvbmVudCA9IGNvbnRleHQuY3JlYXRlRWxlbWVudDtcblxuICAgICAgICB0aGlzLm9sZERhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5lbGVtZW50cyA9IGNoaWxkcmVuO1xuICAgICAgICB0aGlzLmRpY3QgPSB7fTtcblxuICAgICAgICB0aGlzLl9fdXBkYXRlTGlzdCgpO1xuICAgIH1cbiAgICBfX2luc2VydEF0KGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9fc3RhcnRlZCkge1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuX19wYXJlbnQsIGVsZW1lbnQsIGdldE5leHRTaWJsaW5nKHRoaXMsIHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX191cGRhdGVMaXN0KCk7XG5cbiAgICAgICAgc3VwZXIudXBkYXRlKCk7XG4gICAgfVxuICAgIF9fdXBkYXRlTGlzdCgpIHtcbiAgICAgICAgbGV0IGRhdGEgPSB2YWwodGhpcy5jb250ZXh0LmRhdGEpO1xuXG4gICAgICAgIGxldCByZXBsYWNlZCA9IHt9O1xuICAgICAgICBsZXQgaW5zZXJ0ZWQgPSB7fTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGxldCBuZCA9IGRhdGFbaV07XG4gICAgICAgICAgICBsZXQgb2QgPSB0aGlzLm9sZERhdGFbaV07XG5cbiAgICAgICAgICAgIGxldCBkb09iaiA9IG5kIGluc3RhbmNlb2YgT2JqZWN0O1xuXG4gICAgICAgICAgICBpZiAoZG9PYmogJiYgbmQgPT0gb2QpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGxldCBrZXkgPSBkb09iaiA/XG4gICAgICAgICAgICAgICAgbmRbXCJfX2tleVwiXSB8fCAobmRbXCJfX2tleVwiXSA9ICsrX19saXN0Q29tcG9uZW50S2V5SW5jcmVtZW50KSA6XG4gICAgICAgICAgICAgICAgbmQ7XG5cbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5kaWN0W2tleV07XG5cbiAgICAgICAgICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KG51bGwsIG5kLCB0aGlzLmNvbnRleHQuY29tcG9uZW50KG5kKSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fX3BhcmVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kaWN0W2tleV0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSB0aGlzLmRpY3Rba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGljdFtrZXldID0gW2VsZW1lbnRdO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgaXQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWRba2V5XSA9IFtlbGVtZW50XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIWRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdCAmJiBpdC5sZW5ndGggPj0gZWxlbWVudC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbCA9IG5ldyBDb21wb25lbnQobnVsbCwgbmQsIHRoaXMuY29udGV4dC5jb21wb25lbnQobmQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuX19wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnB1c2goZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWRba2V5XSA9IFtlbGVtZW50XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gZWxlbWVudC5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZFtrZXldID0gW2VsZW1lbnRdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmQgPT0gb2QpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgdCA9IHJlcGxhY2VkW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb09iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5zcGxpY2UodC5pbmRleE9mKGVsZW1lbnQpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSByZXBsYWNlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGluc2VydGVkW2tleV0gPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG9sZEVsZW1lbnQgPSB0aGlzLmVsZW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBsZXQgaW5zZXJ0SW5kZXggPSBpICsgMTtcbiAgICAgICAgICAgIGZvciAoOyBpbnNlcnRJbmRleCA8IHRoaXMuZWxlbWVudHMubGVuZ3RoOyArK2luc2VydEluZGV4KSB7XG4gICAgICAgICAgICAgICAgbGV0IG50aGQgPSB0aGlzLm9sZERhdGFbaW5zZXJ0SW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnNlcnRlZFtudGhkW1wiX19rZXlcIl1dKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRbbnRoZF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG50aGVsID0gdGhpcy5lbGVtZW50c1tpbnNlcnRJbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXQuaW5kZXhPZihudGhlbCkgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX19pbnNlcnRBdChpbnNlcnRJbmRleCwgZWxlbWVudCk7XG4gICAgICAgICAgICAvL2luc2VydEJlZm9yZSh0aGlzLl9fcGFyZW50LCBlbGVtZW50LCB0aGlzLmVsZW1lbnRzW2luc2VydEluZGV4XSk7XG5cbiAgICAgICAgICAgIC8qaWYgKGluc2VydEluZGV4IDwgdGhpcy5lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpbnNlcnRJbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhpbnNlcnRJbmRleCwgbmQsIHRoaXMsIGdldE5leHRTaWJsaW5nKHRoaXMsIHRydWUpKTtcblxuICAgICAgICAgICAgICAgIGluc2VydEJlZm9yZSh0aGlzLl9fcGFyZW50LCBlbGVtZW50LCBnZXROZXh0U2libGluZyh0aGlzLCB0cnVlKSk7XG4gICAgICAgICAgICB9Ki9cblxuICAgICAgICAgICAgaWYgKGluc2VydEluZGV4IC0gMSA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpbnNlcnRJbmRleCAtIDJdLl9fbmV4dFNpYmxpbmcgPSBlbGVtZW50O1xuXG4gICAgICAgICAgICBpZiAob2xkRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmIChkb09iaikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWluc2VydGVkW29kW1wiX19rZXlcIl1dKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWRbb2RbXCJfX2tleVwiXV0gPSBvbGRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRbb2RdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWl0IHx8IGl0LmluZGV4T2Yob2xkRWxlbWVudCkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdCA9IHJlcGxhY2VkW29kXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaChvbGRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlZFtvZF0gPSBbb2xkRWxlbWVudF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzW2ldID0gZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMub2xkRGF0YVtpXSA9IG5kO1xuICAgICAgICB9XG5cbiAgICAgICAgT2JqZWN0LmtleXMocmVwbGFjZWQpXG4gICAgICAgICAgICAuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IHJlcGxhY2VkW2tdO1xuICAgICAgICAgICAgICAgIGxldCBkID0gdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHQuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGQuc3BsaWNlKGQuaW5kZXhPZihlbGVtZW50KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZSh0KTtcblxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLm9sZERhdGEubGVuZ3RoID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSBkYXRhLmxlbmd0aDsgaSA8IHRoaXMub2xkRGF0YS5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgICAgIGxldCBlbCA9IHRoaXMuZWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgbGV0IG9kID0gdGhpcy5vbGREYXRhW2ldO1xuXG4gICAgICAgICAgICAgICAgbGV0IGRvT2JqID0gb2QgaW5zdGFuY2VvZiBPYmplY3RcbiAgICAgICAgICAgICAgICBsZXQgayA9IGRvT2JqID9cbiAgICAgICAgICAgICAgICAgICAgb2RbXCJfX2tleVwiXSA6XG4gICAgICAgICAgICAgICAgICAgIG9kO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqICYmIGluc2VydGVkW29kW1wiX19rZXlcIl1dKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRbb2RdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQgJiYgaXQuaW5kZXhPZihlbCkgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIGlmIChkb09iaikge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGQgPSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgICAgIGQuc3BsaWNlKGQuaW5kZXhPZihlbCksIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmRpY3Rba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVtb3ZlKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZWxlbWVudHMuc3BsaWNlKGRhdGEubGVuZ3RoLCB0aGlzLmVsZW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLm9sZERhdGEuc3BsaWNlKGRhdGEubGVuZ3RoLCB0aGlzLm9sZERhdGEubGVuZ3RoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzW3RoaXMuZWxlbWVudHMubGVuZ3RoIC0gMV0uX19uZXh0U2libGluZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHt7IGRhdGE6IFRbXSwgY3JlYXRlRWxlbWVudD86IChkYXRhOiBUKSA9PiBDb21wb25lbnQsIGNvbXBvbmVudDogKGRhdGE6IFQpID0+IENvbXBvbmVudCB9fSBjb250ZXh0IFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdChjb250ZXh0KSB7XG4gICAgcmV0dXJuIG5ldyBMaXN0Q29tcG9uZW50KGNvbnRleHQpO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7eyBkYXRhOiBUW10sIGNvbXBvbmVudDogKHBvb2w6IHsgY29udGV4dDogVCB9KSA9PiBDb21wb25lbnR9fSBjb250ZXh0IFxuICovXG5leHBvcnQgZnVuY3Rpb24gcG9vbExpc3QoY29udGV4dCkge1xuICAgIGxldCBwb29sID0gbmV3IENvbXBvbmVudFBvb2woY29udGV4dC5jb21wb25lbnQpO1xuICAgIHJldHVybiBsaXN0KHtcbiAgICAgICAgZGF0YTogY29udGV4dC5kYXRhLFxuICAgICAgICBjb21wb25lbnQ6IChkYXRhKSA9PiBwb29sLnBvcChkYXRhKVxuICAgIH0pO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7KCkgPT4gQ29tcG9uZW50fSBjb21wb25lbnQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1c2VQb29sQ29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGxldCBwb29sID0gbmV3IENvbXBvbmVudFBvb2woY29tcG9uZW50KTtcbiAgICByZXR1cm4gKCkgPT4gcG9vbC5wb3AoKTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbnRleHQge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSAge0NvbnRleHRbXX0gc2libGluZ0NvbnRleHRzIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHNpYmxpbmdDb250ZXh0cykge1xuICAgICAgICB0aGlzLl9fZWxlbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX19tb3VudGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX19zaWJsaW5nQXBwQ29udGV4dHMgPSBzaWJsaW5nQ29udGV4dHMgfHwgW107XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIGxldCBzZXRIb29rcyA9IChjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhjb250ZXh0KS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoXCJvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaGFuZGxlciA9IGNvbnRleHRba107XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRba10gPSBhc3luYyAoLi4uYXJncykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHIgPSBoYW5kbGVyKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHIgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBhd2FpdCByO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRpdiA9IGZ1bmN0aW9uIChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZGl2KGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zcGFuID0gZnVuY3Rpb24gKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBzcGFuKGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbnB1dFRleHQgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRUZXh0KGNvbnRleHQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbGVjdCA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBzZWxlY3QoY29udGV4dCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnV0dG9uID0gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIHNldEhvb2tzKGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbihjb250ZXh0KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5wID0gZnVuY3Rpb24gKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBwKGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGZ1bmN0aW9uIChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gbGFiZWwoY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmEgPSBmdW5jdGlvbiAoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHNldEhvb2tzKGNvbnRleHQpO1xuICAgICAgICAgICAgcmV0dXJuIGEoY29udGV4dCwgLi4uY2hpbGRyZW4pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlmcmFtZSA9IGZ1bmN0aW9uIChjb250ZXh0LCAuLi5jaGlsZHJlbikge1xuICAgICAgICAgICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgICAgICAgICByZXR1cm4gaWZyYW1lKGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLm1vdW50ID0gdGhpcy5tb3VudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IHRoaXMuY29tcG9uZW50LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudXBkYXRlID0gdGhpcy51cGRhdGUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lcnJvciA9IHRoaXMuZXJyb3IuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHBhcmFtIHsuLi5Db21wb25lbnR9IGNoaWxkcmVuIFxuICAgICAqIEByZXR1cm5zIHtDb21wb25lbnR9XG4gICAgICovXG4gICAgbW91bnQoZWxlbWVudCwgLi4uY2hpbGRyZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuX19tb3VudGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjb250ZXh0IGlzIGFscmVhZHkgbW91bnRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9fZWxlbWVudCA9IGNvbXBvbmVudChlbGVtZW50LCB7fSwgLi4uY2hpbGRyZW4pO1xuXG4gICAgICAgIHRoaXMuX19tb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy51cGRhdGUoKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fX2VsZW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Q29tcG9uZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybnMge0NvbXBvbmVudH1cbiAgICAgKi9cbiAgICBjb21wb25lbnQoZWxlbWVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX19tb3VudGVkKSB7XG4gICAgICAgICAgICBsZXQgZWxlbWVudFVwZGF0ZSA9IGVsZW1lbnQudXBkYXRlO1xuXG4gICAgICAgICAgICBlbGVtZW50LnVwZGF0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX19tb3VudGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX19tb3VudGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50LnVwZGF0ZSA9IGVsZW1lbnRVcGRhdGU7XG4gICAgICAgICAgICAgICAgZWxlbWVudC51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fX2VsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgfVxuXG4gICAgdXBkYXRlKCkge1xuICAgICAgICBsZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5fX2VsZW1lbnQudXBkYXRlKCk7XG5cbiAgICAgICAgICAgIHRoaXMuX19zaWJsaW5nQXBwQ29udGV4dHMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICBjLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coXCJ1cGRhdGUgdGltZVwiLCBEYXRlLm5vdygpIC0gc3RhcnQpO1xuICAgIH1cbiAgICBlcnJvcihlKSB7XG4gICAgICAgIGlmIChlLmNvbXBvbmVudFN0YWNrKVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlLCBlLmNvbXBvbmVudFN0YWNrKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICB9XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0NvbnRleHR9IGh0bWxqcyBcbiAqIEBwYXJhbSB7Q29udGV4dH0gcGFyZW50SHRtbGpzXG4gKiBAcmV0dXJucyB7Q29udGV4dH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUh0bWxqcyhodG1sanMsIHBhcmVudEh0bWxqcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLihwYXJlbnRIdG1sanMgfHwgaHRtbGpzKSxcblxuICAgICAgICBjb21wb25lbnQ6IGh0bWxqcy5jb21wb25lbnQsXG4gICAgICAgIGRhdGE6IGh0bWxqc1xuICAgIH07XG59XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0NvbnRleHR9IGh0bWxqcyBcbiAqIEBwYXJhbSB7Q29udGV4dH0gcGFyZW50SHRtbGpzIFxuICogQHBhcmFtIHsoaHRtbGpzOiBDb250ZXh0KSA9PiAoY29udGV4dCkgPT4gQ29tcG9uZW50fSB1c2VDb21wb25lbnQgXG4gKiBAcmV0dXJucyB7KGNvbnRleHQpID0+IENvbXBvbmVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUNvbXBvbmVudChodG1sanMsIHBhcmVudEh0bWxqcywgdXNlQ29tcG9uZW50KSB7XG4gICAgcmV0dXJuIHVzZUNvbXBvbmVudCh7XG4gICAgICAgIC4uLihwYXJlbnRIdG1sanMgfHwgaHRtbGpzKSxcblxuICAgICAgICBjb21wb25lbnQ6IGh0bWxqcy5jb21wb25lbnRcbiAgICB9KTtcbn0iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vZWRpdG9yLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxudmFyIGV4cG9ydGVkID0gY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHt9O1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRlZDsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIGJ0b2EpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLmVkaXRvcntcXG4gICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbn1cXG5cXG4uZWRpdG9yLW91dHtcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICBsZWZ0OiA4MHZ3O1xcbiAgICByaWdodDogMDtcXG4gICAgdG9wOiAwO1xcbiAgICBib3R0b206IDgwdmg7XFxuXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIGZsZXgtZmxvdzogcm93LXJldmVyc2U7XFxuICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcXG59XFxuLmVkaXRvci10b3B7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDIwdnc7XFxuICAgIHRvcDogMDtcXG4gICAgYm90dG9tOiA4MHZoO1xcblxcbiAgICBkaXNwbGF5OiBmbGV4O1xcblxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcXG59XFxuLmVkaXRvci1zaWRle1xcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgIGxlZnQ6IDgwdnc7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICB0b3A6IDIwdmg7XFxuICAgIGJvdHRvbTogMDtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogeWVsbG93O1xcbiAgICBvdmVyZmxvdy15OiBhdXRvO1xcbn1cXG4uZWRpdG9yLXNhbmRib3h7XFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDIwdnc7XFxuICAgIHRvcDogMjB2aDtcXG4gICAgYm90dG9tOiAwO1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7XFxufVxcblxcbi5pdGVtLWFjdGl2ZXtcXG4gICAgYm94LXNoYWRvdzogMCAwIDdweCB5ZWxsb3c7XFxufVwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAodXNlU291cmNlTWFwKSB7XG4gIHZhciBsaXN0ID0gW107IC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblxuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTtcblxuZnVuY3Rpb24gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdIHx8ICcnOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcblxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG5cbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cblxuICBpZiAodXNlU291cmNlTWFwICYmIHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSB0b0NvbW1lbnQoY3NzTWFwcGluZyk7XG4gICAgdmFyIHNvdXJjZVVSTHMgPSBjc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgIHJldHVybiBcIi8qIyBzb3VyY2VVUkw9XCIuY29uY2F0KGNzc01hcHBpbmcuc291cmNlUm9vdCB8fCAnJykuY29uY2F0KHNvdXJjZSwgXCIgKi9cIik7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbignXFxuJyk7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oJ1xcbicpO1xufSAvLyBBZGFwdGVkIGZyb20gY29udmVydC1zb3VyY2UtbWFwIChNSVQpXG5cblxuZnVuY3Rpb24gdG9Db21tZW50KHNvdXJjZU1hcCkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWZcbiAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSk7XG4gIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgcmV0dXJuIFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbn0iLCJpbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4uLy4uLy4uL2luZGV4XCI7XG4vKipcbiAqIFxuICogQHBhcmFtIHtDb250ZXh0fSBodG1sanMgXG4gKiBAcGFyYW0ge0NvbnRleHR9IHBhcmVudEh0bWxqcyBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlU2lkZUVkaXRvckNvbXBvbmVudChodG1sanMsIHBhcmVudEh0bWxqcyA9IG51bGwpIHtcbiAgICBsZXQgeyB9ID0gcGFyZW50SHRtbGpzIHx8IGh0bWxqcztcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgbGV0IHNob3dBcHBEYXRhID0gdHJ1ZTtcbiAgICAgICAgbGV0IHNob3dFbGVtZW50RGF0YSA9IHRydWU7XG5cbiAgICAgICAgbGV0IHsgYXBwRGF0YSwgYWRkQXBwRGF0YSwgc2V0QXBwRGF0YSwgYWRkQXBwRGF0YVJlZmVyZXIsIHJlbW92ZUFwcERhdGFSZWZlcmVyLCByZW5hbWVBcHBEYXRhIH0gPSBjb250ZXh0O1xuXG4gICAgICAgIHJldHVybiBodG1sanMuY29tcG9uZW50KFxuICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZWRpdG9yLXNpZGVcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiYXBwRGF0YVwiLFxuICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93QXBwRGF0YSA9ICFzaG93QXBwRGF0YTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcImVsZW1lbnREYXRhXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFbGVtZW50RGF0YSA9ICFzaG93RWxlbWVudERhdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHN3aXRjaENvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiBzaG93QXBwRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IE9iamVjdC5rZXlzKGFwcERhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoaykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdih7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmFtZUFwcERhdGEoaywgZS50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYXBwRGF0YVtrXS50eXBlID09PSBcInN0cmluZ1wiIHx8IGFwcERhdGFba10udHlwZSA9PT0gXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGlucHV0VGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IGFwcERhdGFba10udHlwZSA9PT0gXCJzdHJpbmdcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcERhdGFba10uc3RyaW5nVmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLnR5cGUgPT09IFwibnVtYmVyXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwRGF0YVtrXS5udW1iZXJWYWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInZhbHVlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFwcERhdGEoaywgZS50YXJnZXQudmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYXBwRGF0YVtrXS50eXBlID09PSBcImxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IGFwcERhdGFba10ubGlzdFZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAodikgPT4gaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhcHBEYXRhW2tdLmxpc3RUeXBlID09PSBcInN0cmluZ1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2LnN0cmluZ1ZhbHVlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLmxpc3RUeXBlID09PSBcIm51bWJlclwiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5udW1iZXJWYWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFwcERhdGFba10ubGlzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5zdHJpbmdWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYubnVtYmVyVmFsdWUgPSBwYXJzZUZsb2F0KGUudGFyZ2V0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gYXBwRGF0YVtrXS5saXN0VHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLmxpc3RUeXBlID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJhZGQgdG8gbGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLmxpc3RWYWx1ZS5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZTogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJWYWx1ZTogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImxpc3RcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhcHBEYXRhW2tdLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwRGF0YVtrXS50eXBlID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaENvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiBhcHBEYXRhW2tdLnJlZkNvdW50ID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwicmVtb3ZlXCIsIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXBwRGF0YVtrXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGFwcERhdGFba10ucmVmQ291bnQgPiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGxhYmVsKHsgaW5uZXJUZXh0OiAoKSA9PiBgaW4gdXNlIGZvciAke2FwcERhdGFba10ucmVmQ291bnR9IHRpbWVzYCB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcImFkZCBmaWVsZFwiLCBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBcHBEYXRhKFwiXCIsIFwiXCIsIFwic3RyaW5nXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGNvbnRleHQuYWN0aXZlSXRlbSAmJiBzaG93RWxlbWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gT2JqZWN0LmtleXMoY29udGV4dC5hY3RpdmVJdGVtLmVsRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoa2V5KSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpdih7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwoeyBpbm5lclRleHQ6IGtleSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGNvbnRleHQuYWN0aXZlSXRlbS5lbERhdGFba2V5XS5iaW5kID09PSBcImNvbnN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uY29uc3RWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uY29uc3RWYWx1ZSA9IGUudGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uYmluZCA9PT0gXCJkeW5hbWljXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uZHluVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZmllbGQgbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxEYXRhID0gY29udGV4dC5hY3RpdmVJdGVtLmVsRGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwRGF0YVtlbERhdGEuZHluVmFsdWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQXBwRGF0YVJlZmVyZXIoZWxEYXRhLmR5blZhbHVlLCBlbERhdGEpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxEYXRhLmR5blZhbHVlID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhcHBEYXRhW25hbWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXBwRGF0YShuYW1lLCBlbERhdGEuY29uc3RWYWx1ZSwgXCJzdHJpbmdcIiwgZWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXBwRGF0YVJlZmVyZXIobmFtZSwgZWxEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gZ2V0QXBwRGF0YVZhbHVlKGNvbnRleHQuYWN0aXZlSXRlbS5lbERhdGFba2V5XS5keW5WYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFwcERhdGEoY29udGV4dC5hY3RpdmVJdGVtLmVsRGF0YVtrZXldLmR5blZhbHVlLCBlLnRhcmdldC52YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcImNvbnN0XCIsIFwiZHluYW1pY1wiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uYmluZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlbERhdGEgPSBjb250ZXh0LmFjdGl2ZUl0ZW0uZWxEYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsRGF0YS5iaW5kID09PSBcImR5bmFtaWNcIiAmJiBlbERhdGEuZHluVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUFwcERhdGFSZWZlcmVyKGVsRGF0YS5keW5WYWx1ZSwgZWxEYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsRGF0YS5iaW5kID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxEYXRhLmJpbmQgPT09IFwiZHluYW1pY1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBEYXRhW2VsRGF0YS5keW5WYWx1ZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBcHBEYXRhUmVmZXJlcihlbERhdGEuZHluVmFsdWUsIGVsRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVsRGF0YS5keW5WYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQXBwRGF0YShlbERhdGEuZHluVmFsdWUsIGVsRGF0YS5jb25zdFZhbHVlLCBcInN0cmluZ1wiLCBlbERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiBPYmplY3Qua2V5cyhjb250ZXh0LmFjdGl2ZUl0ZW0uZXZlbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6IChrKSA9PiBkaXYoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJub25lXCIsIFwic2V0U3RhdGVcIiwgXCJmdW5jdGlvblwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnR5cGUgPSBlLnRhcmdldC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoQ29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10udHlwZSA9PT0gXCJzZXRTdGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gT2JqZWN0LmtleXMoY29udGV4dC5hY3RpdmVJdGVtLmV2ZW50c1trXS5zdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoc2spID0+IGRpdih7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiAoKSA9PiBPYmplY3Qua2V5cyhhcHBEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IHNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbc2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbc2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hY3RpdmVJdGVtLmV2ZW50c1trXS5zdGF0ZVtlLnRhcmdldC52YWx1ZV0gPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbc2tdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJuZXcgdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnN0YXRlW3NrXSA9IGUudGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJhZGQgZmllbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgbmFtZUluY3JlbWVudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkTmFtZSA9IFwibmV3IGZpZWxkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkTmFtZSA9IGZpZWxkTmFtZSArICgrK25hbWVJbmNyZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbZmllbGROYW1lXSA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gY29udGV4dC5hY3RpdmVJdGVtLmV2ZW50c1trXS50eXBlID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT4gYm9keShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImZ1bmN0aW9uIG5hbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBjb250ZXh0LmFjdGl2ZUl0ZW0uZXZlbnRzW2tdLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hY3RpdmVJdGVtLmV2ZW50c1trXS5mdW5jdGlvbiA9IGUudGFyZ2V0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSwgMTAwKSxcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgdmFsLCB1c2VIdG1sanMsIENvbnRleHQgfSBmcm9tIFwiLi4vLi4vaW5kZXhcIjtcbmltcG9ydCBcIi4vZWRpdG9yLmNzc1wiO1xuaW1wb3J0IHVzZVNhbmRib3hDb21wb25lbnQgZnJvbSBcIi4vZWRpdG9yL3NhbmRib3hcIjtcbmltcG9ydCB1c2VDc3NFZGl0b3IgZnJvbSBcIi4vZWRpdG9yL2Nzc1wiO1xuaW1wb3J0IHVzZVRvcEVkaXRvckNvbXBvbmVudCBmcm9tIFwiLi9lZGl0b3IvdG9wXCI7XG5pbXBvcnQgdXNlU2lkZUVkaXRvckNvbXBvbmVudCBmcm9tIFwiLi9lZGl0b3Ivc2lkZVwiO1xuaW1wb3J0IHVzZUVkaXRvckNvbXBvbmVudCBmcm9tIFwiLi9lZGl0b3IvZWRpdG9yXCI7XG5cbmxldCBpdGVtcyA9IFtdO1xubGV0IHJvb3QgPSBudWxsXG5sZXQgYWN0aXZlSXRlbSA9IG51bGw7XG5sZXQgYXBwRGF0YSA9IHt9O1xuXG5jbGFzcyBEYXRhQ29udGV4dHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgXG4gICAgfVxufVxuXG5jbGFzcyBBcHBDb250ZXh0IGV4dGVuZHMgQ29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoLi4uYXJncykge1xuICAgICAgICBzdXBlciguLi5hcmdzKTtcblxuICAgICAgICB0aGlzLmRhdGEgPSBuZXcgRGF0YUNvbnRleHQoKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHVwZGF0ZSgpO1xuXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIH1cbn1cblxubGV0IGh0bWxqcyA9IG5ldyBBcHBDb250ZXh0KCk7XG5cblxubGV0IHsgbW91bnQsIGJvZHksIGRpdiwgc3BhbiwgaW5wdXRUZXh0LCBsaXN0LCBidXR0b24sIHN3aXRjaENvbXBvbmVudCwgcCwgYSwgaWZyYW1lLCBsYWJlbCwgc2VsZWN0LCB9ID0gaHRtbGpzO1xuXG5mdW5jdGlvbiBhZGRBcHBEYXRhKGtleSwgdmFsdWUsIHR5cGUsIHJlZmVyZXIpIHtcbiAgICBsZXQgZCA9IGFwcERhdGFba2V5XSA9IHtcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgc3RyaW5nVmFsdWU6IHR5cGUgPT09IFwic3RyaW5nXCIgPyB2YWx1ZSA6IDAsXG4gICAgICAgIG51bWJlclZhbHVlOiB0eXBlID09PSBcIm51bWJlclwiID8gdmFsdWUgOiAwLFxuICAgICAgICBsaXN0VHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgbGlzdFZhbHVlOiB0eXBlID09PSBcImxpc3RcIiA/IHZhbHVlIDogW10sXG5cbiAgICAgICAgcmVmczogW11cbiAgICB9O1xuICAgIGlmIChyZWZlcmVyKVxuICAgICAgICBkLnJlZnMucHVzaChyZWZlcmVyKTtcbn1cbmZ1bmN0aW9uIGFkZEFwcERhdGFSZWZlcmVyKGtleSwgcmVmZXJlcikge1xuICAgIGFwcERhdGFba2V5XS5yZWZzLnB1c2gocmVmZXJlcik7XG59XG5mdW5jdGlvbiByZW1vdmVBcHBEYXRhUmVmZXJlcihrZXksIHJlZmVyZXIpIHtcbiAgICBsZXQgZCA9IGFwcERhdGFba2V5XTtcbiAgICBkLnJlZnMuc3BsaWNlKGQucmVmcy5pbmRleE9mKHJlZmVyZXIpLCAxKTtcbn1cbmZ1bmN0aW9uIHJlbmFtZUFwcERhdGEoa2V5LCBuZXdLZXkpIHtcbiAgICBsZXQgZCA9IGFwcERhdGFba2V5XTtcbiAgICBkZWxldGUgYXBwRGF0YVtrZXldO1xuICAgIGFwcERhdGFbbmV3S2V5XSA9IGQ7XG4gICAgZC5yZWZzLmZvckVhY2gociA9PiByLmR5blZhbHVlID0gbmV3S2V5KTtcbn1cbmZ1bmN0aW9uIHNldEFwcERhdGEoa2V5LCB2YWx1ZSkge1xuICAgIGxldCBkID0gYXBwRGF0YVtrZXldO1xuICAgIHN3aXRjaCAoZC50eXBlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIGQuc3RyaW5nVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBkLm51bWJlclZhbHVlID0gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImxpc3RcIjpcbiAgICAgICAgICAgIGQubGlzdFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRBcHBEYXRhVmFsdWUoa2V5KSB7XG4gICAgbGV0IGQgPSBhcHBEYXRhW2tleV07XG4gICAgaWYgKCFkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICBzd2l0Y2ggKGQudHlwZSkge1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gZC5zdHJpbmdWYWx1ZTtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIGQubnVtYmVyVmFsdWU7XG4gICAgICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICAgICAgICByZXR1cm4gZC5saXN0VmFsdWU7XG4gICAgfVxufVxuXG5sZXQgc2FuZGJveCA9IHtcbiAgICBlbGVtZW50OiBudWxsLFxuICAgIGNvbnRleHQ6IHtcblxuICAgIH1cbn07XG5cbmxldCBlZGl0b3JDb21wb25lbnQgPSB1c2VFZGl0b3JDb21wb25lbnQobmV3IENvbnRleHQoKSk7XG5cbm1vdW50KGRvY3VtZW50LmJvZHksIGVkaXRvckNvbXBvbmVudCh7XG4gICAgaXRlbXM6IFtdLFxuICAgIGFjdGl2ZUl0ZW06IG51bGwsXG4gICAgYXBwRGF0YToge30sXG4gICAgc2FuZGJveDoge1xuICAgICAgICBlbGVtZW50OiBudWxsLFxuICAgICAgICBjb250ZXh0OiB7XG5cbiAgICAgICAgfVxuICAgIH0sXG4gICAgZWRpdG9ySXRlbUNvbnRleHQ6IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIGxldCB0ID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQuZWxEYXRhKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgdFtrXSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IGNvbnRleHQuZWxEYXRhW2tdO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZC5iaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb25zdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuY29uc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImR5bmFtaWNcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzYW5kYm94LmNvbnRleHRbZC5keW5WYWx1ZV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IGV2ID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKGNvbnRleHQuZXZlbnRzKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICAgICAgbGV0IGUgPSBjb250ZXh0LmV2ZW50c1trXTtcbiAgICAgICAgICAgIGV2W2tdID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzZXRTdGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzYW5kYm94LmNvbnRleHQsIGUuc3RhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93W2UuZnVuY3Rpb25dKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29udGV4dCxcbiAgICAgICAgICAgIC4uLnQsXG4gICAgICAgICAgICAuLi5ldixcbiAgICAgICAgICAgIHN0eWxlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHN0eWxlID0gdmFsKHQuc3R5bGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZSArIChjb250ZXh0ID09PSBhY3RpdmVJdGVtID8gXCI7Ym94LXNoYWRvdzogMCAwIDdweCB5ZWxsb3c7XCIgOiBudWxsKVxuICAgICAgICAgICAgICAgICAgICArIFwibWluLXdpZHRoOiAxMnB4OyBtaW4taGVpZ2h0OiAxMnB4OyBib3JkZXI6IGRhc2hlZCAxcHggZ3JheVwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uY2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZUl0ZW0gIT09IGNvbnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RJdGVtKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGV2Lm9uY2xpY2spXG4gICAgICAgICAgICAgICAgICAgIGV2Lm9uY2xpY2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNlbGVjdEl0ZW06IGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZUl0ZW0gIT0gaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gaXRlbTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgZGVmYXVsdEVsQ29udGV4dDogZnVuY3Rpb24gKGNvbnRleHQsIGFsbG93Q2hpbGRyZW4sIGR5bmFtaWMpIHtcbiAgICAgICAgbGV0IGVsRGF0YSA9IHt9O1xuICAgICAgICBsZXQgZCA9IHRoaXMuZGVmYXVsdEVsRGF0YShjb250ZXh0KTtcbiAgICAgICAgT2JqZWN0LmtleXMoZCkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIGVsRGF0YVtrXSA9IHtcbiAgICAgICAgICAgICAgICBiaW5kOiBcImNvbnN0XCIsXG4gICAgICAgICAgICAgICAgY29uc3RWYWx1ZTogZFtrXSxcbiAgICAgICAgICAgICAgICBkeW5WYWx1ZTogXCJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRba10pID8gXCJsaXN0XCIgOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFsbG93Q2hpbGRyZW46ICFkeW5hbWljICYmIGFsbG93Q2hpbGRyZW4sXG4gICAgICAgICAgICBkeW5hbWljOiBkeW5hbWljLFxuICAgICAgICAgICAgZGF0YTogW10sXG4gICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoZSkgPT4gZS5lbChlLmNvbnRleHQpLFxuICAgICAgICAgICAgZWxEYXRhOiBlbERhdGEsXG4gICAgICAgICAgICBldmVudHM6ICFkeW5hbWljID8gdGhpcy5kZWZhdWx0RXZlbnRzKCkgOiB7fVxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZGVmYXVsdEVsRGF0YTogZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgLi4uY29udGV4dFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgZGVmYXVsdEV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG9uY2xpY2s6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsLFxuICAgICAgICAgICAgICAgIHN0YXRlOiB7fSxcbiAgICAgICAgICAgICAgICBmdW5jdGlvbjogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59KSk7XG5cbm1vdW50KGRvY3VtZW50LmJvZHksXG4gICAgZGl2KHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImVkaXRvclwiXG4gICAgfSxcbiAgICAgICAgdG9wQ29tcG9uZW50KHtcbiAgICAgICAgICAgIHB1c2hJdGVtOiBwdXNoSXRlbSxcbiAgICAgICAgICAgIGRlZmF1bHRFbENvbnRleHQ6IGRlZmF1bHRFbENvbnRleHQsXG4gICAgICAgICAgICBlZGl0b3JJdGVtQ29udGV4dDogZWRpdG9ySXRlbUNvbnRleHRcbiAgICAgICAgfSksXG4gICAgICAgIHVzZVNpZGVFZGl0b3JDb21wb25lbnQoaHRtbGpzKSh7XG4gICAgICAgICAgICBhY3RpdmVJdGVtXG4gICAgICAgIH0pLFxuICAgICAgICBkaXYoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImVkaXRvci1zaWRlXCJcbiAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcImFwcERhdGFcIixcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3dBcHBEYXRhID0gIXNob3dBcHBEYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcImVsZW1lbnREYXRhXCIsXG4gICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzaG93RWxlbWVudERhdGEgPSAhc2hvd0VsZW1lbnREYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHN3aXRjaENvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gc2hvd0FwcERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiBPYmplY3Qua2V5cyhhcHBEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoaykgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGl2KHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmFtZUFwcERhdGEoaywgZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaENvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYXBwRGF0YVtrXS50eXBlID09PSBcInN0cmluZ1wiIHx8IGFwcERhdGFba10udHlwZSA9PT0gXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT4gaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhcHBEYXRhW2tdLnR5cGUgPT09IFwic3RyaW5nXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcERhdGFba10uc3RyaW5nVmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcERhdGFba10udHlwZSA9PT0gXCJudW1iZXJcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcERhdGFba10ubnVtYmVyVmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwidmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEFwcERhdGEoaywgZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiBhcHBEYXRhW2tdLnR5cGUgPT09IFwibGlzdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoKSA9PiBib2R5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogKCkgPT4gYXBwRGF0YVtrXS5saXN0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKHYpID0+IGlucHV0VGV4dCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhcHBEYXRhW2tdLmxpc3RUeXBlID09PSBcInN0cmluZ1wiID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuc3RyaW5nVmFsdWUgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwRGF0YVtrXS5saXN0VHlwZSA9PT0gXCJudW1iZXJcIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdi5udW1iZXJWYWx1ZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGFwcERhdGFba10ubGlzdFR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHYuc3RyaW5nVmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Lm51bWJlclZhbHVlID0gcGFyc2VGbG9hdChlLnRhcmdldC52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wic3RyaW5nXCIsIFwibnVtYmVyXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhcHBEYXRhW2tdLmxpc3RUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLmxpc3RUeXBlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiYWRkIHRvIGxpc3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcERhdGFba10ubGlzdFZhbHVlLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaW5nVmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJWYWx1ZTogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwibGlzdFwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gYXBwRGF0YVtrXS50eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBEYXRhW2tdLnR5cGUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYXBwRGF0YVtrXS5yZWZDb3VudCA9PT0gMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwicmVtb3ZlXCIsIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhcHBEYXRhW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGFwcERhdGFba10ucmVmQ291bnQgPiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT4gbGFiZWwoeyBpbm5lclRleHQ6ICgpID0+IGBpbiB1c2UgZm9yICR7YXBwRGF0YVtrXS5yZWZDb3VudH0gdGltZXNgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJhZGQgZmllbGRcIiwgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBcHBEYXRhKFwiXCIsIFwiXCIsIFwic3RyaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYWN0aXZlSXRlbSAmJiBzaG93RWxlbWVudERhdGEsXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiBPYmplY3Qua2V5cyhhY3RpdmVJdGVtLmVsRGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6IChrZXkpID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXYoe30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWwoeyBpbm5lclRleHQ6IGtleSB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2hDb21wb25lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYWN0aXZlSXRlbS5lbERhdGFba2V5XS5iaW5kID09PSBcImNvbnN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhY3RpdmVJdGVtLmVsRGF0YVtrZXldLmNvbnN0VmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbS5lbERhdGFba2V5XS5jb25zdFZhbHVlID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gYWN0aXZlSXRlbS5lbERhdGFba2V5XS5iaW5kID09PSBcImR5bmFtaWNcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoKSA9PiBib2R5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFRleHQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IGFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uZHluVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJmaWVsZCBuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWxEYXRhID0gYWN0aXZlSXRlbS5lbERhdGFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwRGF0YVtlbERhdGEuZHluVmFsdWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBcHBEYXRhUmVmZXJlcihlbERhdGEuZHluVmFsdWUsIGVsRGF0YSlcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuYW1lID0gZS50YXJnZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxEYXRhLmR5blZhbHVlID0gbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFwcERhdGFbbmFtZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFwcERhdGEobmFtZSwgZWxEYXRhLmNvbnN0VmFsdWUsIFwic3RyaW5nXCIsIGVsRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBcHBEYXRhUmVmZXJlcihuYW1lLCBlbERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBnZXRBcHBEYXRhVmFsdWUoYWN0aXZlSXRlbS5lbERhdGFba2V5XS5keW5WYWx1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBcHBEYXRhKGFjdGl2ZUl0ZW0uZWxEYXRhW2tleV0uZHluVmFsdWUsIGUudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJjb25zdFwiLCBcImR5bmFtaWNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAoKSA9PiBhY3RpdmVJdGVtLmVsRGF0YVtrZXldLmJpbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVsRGF0YSA9IGFjdGl2ZUl0ZW0uZWxEYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxEYXRhLmJpbmQgPT09IFwiZHluYW1pY1wiICYmIGVsRGF0YS5keW5WYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVBcHBEYXRhUmVmZXJlcihlbERhdGEuZHluVmFsdWUsIGVsRGF0YSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsRGF0YS5iaW5kID0gZS50YXJnZXQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbERhdGEuYmluZCA9PT0gXCJkeW5hbWljXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwRGF0YVtlbERhdGEuZHluVmFsdWVdKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRBcHBEYXRhUmVmZXJlcihlbERhdGEuZHluVmFsdWUsIGVsRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZWxEYXRhLmR5blZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFwcERhdGEoZWxEYXRhLmR5blZhbHVlLCBlbERhdGEuY29uc3RWYWx1ZSwgXCJzdHJpbmdcIiwgZWxEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICgpID0+IE9iamVjdC5rZXlzKGFjdGl2ZUl0ZW0uZXZlbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlRWxlbWVudDogKGspID0+IGRpdih7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IGtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJub25lXCIsIFwic2V0U3RhdGVcIiwgXCJmdW5jdGlvblwiXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gYWN0aXZlSXRlbS5ldmVudHNba10udHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbS5ldmVudHNba10udHlwZSA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaENvbXBvbmVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiBhY3RpdmVJdGVtLmV2ZW50c1trXS50eXBlID09PSBcInNldFN0YXRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVFbGVtZW50OiAoKSA9PiBib2R5KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAoKSA9PiBPYmplY3Qua2V5cyhhY3RpdmVJdGVtLmV2ZW50c1trXS5zdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6IChzaykgPT4gZGl2KHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiAoKSA9PiBPYmplY3Qua2V5cyhhcHBEYXRhKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gc2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9IGFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnN0YXRlW3NrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnN0YXRlW3NrXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbZS50YXJnZXQudmFsdWVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbc2tdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm5ldyB2YWx1ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVJdGVtLmV2ZW50c1trXS5zdGF0ZVtza10gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJhZGQgZmllbGRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG5hbWVJbmNyZW1lbnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpZWxkTmFtZSA9IFwibmV3IGZpZWxkXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYWN0aXZlSXRlbS5ldmVudHNba10uc3RhdGVbZmllbGROYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGROYW1lID0gZmllbGROYW1lICsgKCsrbmFtZUluY3JlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnN0YXRlW2ZpZWxkTmFtZV0gPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGFjdGl2ZUl0ZW0uZXZlbnRzW2tdLnR5cGUgPT09IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUVsZW1lbnQ6ICgpID0+IGJvZHkoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZnVuY3Rpb24gbmFtZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogKCkgPT4gYWN0aXZlSXRlbS5ldmVudHNba10uZnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlSXRlbS5ldmVudHNba10uZnVuY3Rpb24gPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICB9LCAxMDApLFxuICAgICAgICApLFxuICAgICAgICBkaXYoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImVkaXRvci1zYW5kYm94XCJcbiAgICAgICAgfSxcbiAgICAgICAgICAgIGlmcmFtZSh7IHdpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiB9LCBzYW5kYm94Q29tcG9uZW50KHtcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbXNcbiAgICAgICAgICAgIH0pKVxuICAgICAgICApLFxuICAgICAgICBkaXYoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcImVkaXRvci1vdXRcIlxuICAgICAgICB9LFxuICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiY29tcGlsZVwiLFxuICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IGNvbXBpbGUoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgIClcbilcblxuZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgIE9iamVjdC5rZXlzKGFwcERhdGEpLmZvckVhY2goayA9PiB7XG4gICAgICAgIHNhbmRib3guY29udGV4dFtrXSA9IGdldEFwcERhdGFWYWx1ZShrKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gcHVzaEl0ZW0obmFtZSwgZWwsIGNvbnRleHQpIHtcbiAgICBsZXQgdGFyZ2V0ID0gaXRlbXM7XG4gICAgaWYgKGFjdGl2ZUl0ZW0gJiYgYWN0aXZlSXRlbS5hbGxvd0NoaWxkcmVuKSB7XG4gICAgICAgIHRhcmdldCA9IGFjdGl2ZUl0ZW0uZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFjdGl2ZUl0ZW0gPSBjb250ZXh0O1xuICAgIH1cblxuICAgIHRhcmdldC5wdXNoKHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgZWw6IGVsLFxuICAgICAgICBjb250ZXh0OiBjb250ZXh0XG4gICAgfSk7XG4gICAgLy8gdXBkYXRlKCk7XG59XG5cbmZ1bmN0aW9uIGNvbXBpbGVJdGVtKGl0ZW0pIHtcbiAgICBsZXQgYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGl0ZW0uY29udGV4dC5lbERhdGEpLmZvckVhY2goayA9PiB7XG4gICAgICAgIGNba10gPSBpdGVtLmNvbnRleHQuZWxEYXRhW2tdLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGAke2l0ZW0ubmFtZX0oJHtKU09OLnN0cmluZ2lmeShjKX0sICR7KGl0ZW0uY29udGV4dC5kYXRhICE9PSB1bmRlZmluZWQgPyBpdGVtLmNvbnRleHQuZGF0YS5tYXAoaSA9PiBjb21waWxlSXRlbShpKSkgOiBcIlwiKX0pYDtcbn1cblxuZnVuY3Rpb24gY29tcGlsZSgpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgYFxuICAgICAgICBsZXQgY29udGV4dCA9IHtcbiAgICAgICAgICAgICR7T2JqZWN0LmtleXMoYXBwRGF0YSkubWFwKGsgPT4gYFwiJHtrfVwiOlwiJHthcHBEYXRhW2tdfVwiYCkuam9pbihcIixcIil9XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IGFwcCA9IGNvbXBvbmVudChkb2N1bWVudC5ib2R5LCB7fSxcbiAgICAgICAgICAgICR7aXRlbXMubWFwKGkgPT4gY29tcGlsZUl0ZW0oaSkpfVxuICAgICAgICAgICAgKTtcblxuICAgICAgICBhcHAudXBkYXRlKCk7XG4gICAgYCk7XG59IiwiaW1wb3J0IHsgQ29udGV4dCwgdXNlSHRtbGpzIH0gZnJvbSBcIi4uLy4uLy4uL2luZGV4XCI7XG5pbXBvcnQgdXNlU2lkZUVkaXRvckNvbXBvbmVudCBmcm9tIFwiLi9zaWRlXCI7XG5pbXBvcnQgdXNlU2FuZGJveENvbXBvbmVudCBmcm9tIFwiLi9zYW5kYm94XCI7XG5pbXBvcnQgdXNlQ3NzRWRpdG9yIGZyb20gXCIuL2Nzc1wiO1xuaW1wb3J0IHVzZVRvcEVkaXRvckNvbXBvbmVudCBmcm9tIFwiLi90b3BcIjtcbi8qKlxuICogXG4gKiBAcGFyYW0ge0NvbnRleHR9IGh0bWxqcyBcbiAqIEBwYXJhbSB7Q29udGV4dH0gcGFyZW50SHRtbGpzIFxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1c2VFZGl0b3JDb21wb25lbnQoaHRtbGpzLCBwYXJlbnRIdG1sanMpIHtcbiAgICBsZXQgeyBkaXYgfSA9IHVzZUh0bWxqcyhodG1sanMsIHBhcmVudEh0bWxqcyk7XG5cbiAgICBsZXQgc2FuZGJveEh0bWxqcyA9IG5ldyBDb250ZXh0KGh0bWxqcy5kYXRhLnNhbmRib3gpO1xuICAgIGxldCBjc3NDb21wb25lbnRIdG1sanMgPSBuZXcgQ29udGV4dChodG1sanMuZGF0YSwgW3NhbmRib3hIdG1sanNdKTtcbiAgICBsZXQgc2FuZGJveENvbXBvbmVudCA9IHVzZVNhbmRib3hDb21wb25lbnQoc2FuZGJveEh0bWxqcywgaHRtbGpzKTtcbiAgICBsZXQgY3NzQ29tcG9uZW50ID0gdXNlQ3NzRWRpdG9yKGNzc0NvbXBvbmVudEh0bWxqcywgaHRtbGpzKTtcbiAgICBsZXQgdG9wQ29tcG9uZW50ID0gdXNlVG9wRWRpdG9yQ29tcG9uZW50KGh0bWxqcyk7XG4gICAgbGV0IHNpZGVDb21wb25lbnQgPSB1c2VTaWRlRWRpdG9yQ29tcG9uZW50KGh0bWxqcyk7XG4gICAgaHRtbGpzLnVwZGF0ZVxuICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCkge1xuXG4gICAgICAgIHJldHVybiBodG1sanMuY29tcG9uZW50KFxuICAgICAgICAgICAgZGl2KHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZWRpdG9yXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdG9wQ29tcG9uZW50KGNvbnRleHQpLFxuICAgICAgICAgICAgICAgIHNpZGVDb21wb25lbnQoY29udGV4dCksXG4gICAgICAgICAgICAgICAgY3NzQ29tcG9uZW50KGNvbnRleHQpLFxuICAgICAgICAgICAgICAgIGRpdih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogXCJlZGl0b3Itc2FuZGJveFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgaWZyYW1lKHsgd2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiIH0sIHNhbmRib3hDb21wb25lbnQoY29udGV4dCkpXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBkaXYoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwiZWRpdG9yLW91dFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJjb21waWxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiBjb250ZXh0LmNvbXBpbGUoKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG59IiwiaW1wb3J0IHsgQ29udGV4dCB9IGZyb20gXCIuLi8uLi8uLlwiO1xuXG4vKipcbiAqIFxuICogQHBhcmFtIHtDb250ZXh0fSBodG1sanNcbiAqIEBwYXJhbSB7Q29udGV4dH0gcGFyZW50SHRtbGpzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVNhbmRib3hDb21wb25lbnQoaHRtbGpzLCBwYXJlbnRIdG1sanMgPSBudWxsKSB7XG4gICAgbGV0IHsgbGlzdCB9ID0gcGFyZW50SHRtbGpzIHx8IGh0bWxqcztcbiAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxqcy5jb21wb25lbnQobGlzdCh7XG4gICAgICAgICAgICBkYXRhOiBjb250ZXh0Lml0ZW1zLFxuICAgICAgICAgICAgY29tcG9uZW50OiAoZSkgPT4gZS5lbChlLmNvbnRleHQpXG4gICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfTtcbn0iLCJpbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4uLy4uLy4uXCI7XG5cbi8qKlxuICogXG4gKiBAcGFyYW0ge0NvbnRleHR9IGh0bWxqcyBcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXNlQ3NzRWRpdG9yKGh0bWxqcykge1xuICAgIGxldCB7IGNvbXBvbmVudCwgYm9keSB9ID0gaHRtbGpzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gY29tcG9uZW50KGJvZHkoXG4gICAgICAgICAgICBcbiAgICAgICAgKSk7XG4gICAgfTtcbn0iLCJpbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4uLy4uLy4uL2luZGV4XCI7XG4vKipcbiAqIFxuICogQHBhcmFtIHtDb250ZXh0fSBodG1sanNcbiAqIEBwYXJhbSB7Q29udGV4dH0gcGFyZW50SHRtbGpzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVzZVRvcEVkaXRvckNvbXBvbmVudChodG1sanMsIHBhcmVudEh0bWxqcyA9IG51bGwpIHtcbiAgICBsZXQgeyBidXR0b24sIGRpdiwgc3BhbiwgbGlzdCwgYSwgIH0gPSBwYXJlbnRIdG1sanMgfHwgaHRtbGpzO1xuICAgIHJldHVybiBmdW5jdGlvbiAoeyBwdXNoSXRlbSwgZWRpdG9ySXRlbUNvbnRleHQsIGRlZmF1bHRFbENvbnRleHQgfSkge1xuICAgICAgICByZXR1cm4gaHRtbGpzLmNvbXBvbmVudChcbiAgICAgICAgICAgIGRpdih7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcImVkaXRvci10b3BcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiYnV0dG9uXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHB1c2hJdGVtKFwiYnV0dG9uXCIsIChjb250ZXh0KSA9PiBidXR0b24oZWRpdG9ySXRlbUNvbnRleHQoY29udGV4dCkpLCBkZWZhdWx0RWxDb250ZXh0KHsgaW5uZXJUZXh0OiBcImJ1dHRvblwiIH0pKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJkaXZcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4gcHVzaEl0ZW0oXCJkaXZcIiwgKGNvbnRleHQpID0+IGRpdihlZGl0b3JJdGVtQ29udGV4dChjb250ZXh0KSwgbGlzdChjb250ZXh0KSksIGRlZmF1bHRFbENvbnRleHQoe30sIHRydWUpKVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJsaXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHB1c2hJdGVtKFwibGlzdFwiLCAoY29udGV4dCkgPT4gc3BhbihlZGl0b3JJdGVtQ29udGV4dChjb250ZXh0KSwgbGlzdChjb250ZXh0KSksIGRlZmF1bHRFbENvbnRleHQoeyBkYXRhOiBbXSB9LCBmYWxzZSwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgaW5uZXJUZXh0OiBcImFcIixcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4gcHVzaEl0ZW0oXCJhXCIsIChjb250ZXh0KSA9PiBhKGVkaXRvckl0ZW1Db250ZXh0KGNvbnRleHQpKSwgZGVmYXVsdEVsQ29udGV4dCh7IGlubmVyVGV4dDogXCJ0byBnb29nbGUhXCIsIGhyZWY6IFwiaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9cIiB9KSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgIH07XG59Il0sInNvdXJjZVJvb3QiOiIifQ==