!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=8)}({8:function(e,t,n){"use strict";function r(e){switch(e.__propName){case"splice":case"shift":case"pop":case"push":case"unshift":case"sort":return function(...t){return n=e.__sourceContainer.source[e.__propName](...t.map(e=>e.valueOf())),r=()=>{e.__sourceProperty.__reload(),Object.values(e.__sourceProperty.__properties).forEach(e=>e.__reload())},n instanceof Promise?n.then(e=>(r(),e)):(r(),n);var n,r};case"slice":return function(t,n){n=void 0===n?e.__sourceContainer.source.length-1:Math.min(e.__sourceContainer.source.length-1,n);let r=[];for(let o=t;o<n;++o)r.push(e.__sourceProperty.__proxy[o]);return r};case"forEach":case"map":return function(t){return e.__sourceContainer.source[e.__propName]((n,r,o)=>{let i=e.__sourceProperty.__proxy[r];return t(i,r,o)})};case"concat":return function(...t){let n=[];return e.__sourceProperty.__proxy.forEach(e=>{n.push(e)}),t.forEach(e=>{Array.isArray(e)?e.forEach(e=>n.push(e)):n.push(e)}),n};case"flat":return function(t){t||(t=1);let n=[];return e.__sourceProperty.__proxy.forEach(e=>{Array.isArray&&t-1>-1?e.flat(t-1).forEach(e=>n.push(e)):n.push(e)}),n};case"filter":return function(t){let n=[];return e.__sourceProperty.__proxy.forEach(e=>{t(e)&&n.push(e)}),n};case"reverse":return function(){let t=[];return e.__sourceProperty.__proxy.forEach(e=>{predicate(e)&&t.unshift(e)}),t};default:return function(...t){return e.__sourceContainer.source[e.__propName].call(Array.isArray(e.__sourceContainer.source)?e.__sourceContainer.source:e.__sourceProperty.__proxy,...t.map(e=>e.valueOf()))}}}n.r(t);class o{constructor(e){return new Proxy(Object.assign(r(e),{toString:function(){return this.valueOf().toString()},valueOf:function(){e.__store.__track.length>0&&e.__store.__track.forEach(t=>e.__addTarget(t));let t=void 0===e.__propName?e.__sourceContainer.source:e.__sourceContainer.source[e.__propName];return void 0===t?t:t.valueOf()}}),new s(e))}}class i{constructor(e,t,n,r){this.__store=e,this.__sourceContainer={source:t},this.__sourceProperty=r,this.__properties={},this.__propName=n,this.__targets=[],this.__loaded=!1,this.__proxy=new o(this)}__addTarget({target:e,action:t}){e.properties.push(this),this.__targets.push(t)}__reload(){this.__loaded||(this.__store.__load(this),this.__loaded=!0)}__shot(){this.__loaded=!1}__removeTarget(e){this.__targets.splice(this.__targets.indexOf(e),1)}__setStore(e){this.__sourceContainer.source=e,Object.values(this.__properties).forEach(t=>{t.__setStore(e[this.__propName])}),this.__reload()}__setValue(e){this.__sourceContainer.source[this.__propName]=e,Object.values(this.__properties).forEach(t=>{t.__setStore(e)}),this.__reload()}}class s{constructor(e){this.__target=e}get(e,t){try{if(t===Symbol.toPrimitive)return this.__target.__sourceContainer.source[this.__target.__propName][t];let n=this.__target.__properties[t];if(void 0===n){let e=void 0!==this.__target.__propName?this.__target.__sourceContainer.source[this.__target.__propName]:this.__target.__sourceContainer.source;this.__target.__properties[t]=n=new i(this.__target.__store,e,t,this.__target)}else if(n instanceof Function)return e[t];return this.__target.__store.__track.length>0&&this.__target.__store.__track.forEach(e=>n.__addTarget(e)),n.__proxy}catch(e){throw e.propertyStack||(e={error:e,toString:function(){return this.error+"\nstore."+this.propertyStack.map(e=>e.__propName).reverse().join(".")},propertyStack:[]}),e.propertyStack.push(this.__target),e}}set(e,t,n){let r=this.__target.__properties[t];return void 0!==r?r.__setValue(n.valueOf()):(this.__target.__propName?this.__target.__sourceContainer.source[this.__target.__propName]:this.__target.__sourceContainer.source)[t]=n.valueOf(),Array.isArray(this.__target.__sourceContainer.source[this.__target.__propName])&&this.__target.__reload(),!0}}new s;class a{constructor(e,t){this.store=e,this.actions=t.map(e=>({tracked:!1,action:e})),this.properties=[]}track(){this.actions.forEach(e=>{e.tracked?e.action():(this.store.track(this,e.action),e.tracked=!0)})}untrack(){this.actions.forEach(e=>{e.tracked&&(this.properties.forEach(t=>t.__removeTarget(e.action)),e.tracked=!1)}),this.properties.splice(0,this.properties.length)}}let c=0;const l=new class{constructor(){this.__track=[],this.__loaded=[]}__startTrack(e){this.__track.push(e)}__stopTrack(e){this.__track.splice(this.__track.indexOf(e),1)}__load(e){this.__loaded.push(e)}track(e,t){t.__storeKey||(t.__storeKey=++c);let n={target:e,action:t};this.__startTrack(n),t(),this.__stopTrack(n)}shot(){let e=Date.now(),t={};try{this.__loaded.forEach(e=>{e.__targets.forEach(e=>{t[e.__storeKey]||(e(),t[e.__storeKey]=!0)}),e.__shot()})}catch(e){e.propertyStack?console.error(e.error,e.propertyStack):console.error(e)}this.__loaded.splice(0,this.__loaded.length),console.log("update time",Date.now()-e)}};function _(e){if(e){if(e instanceof HTMLElement)return e;if(Array.isArray(e.element)){for(let t=0;t<e.element.length;++t){let n=_(e.element[t]);if(n)return n}return null}return _(e.element)}return null}function u(e){return e?e instanceof HTMLElement?e:Array.isArray(e.element)?u(e.__parent):u(e.element):null}function h(e,t){if(e){if(!t&&e instanceof HTMLElement)return e;{let n=t?e.__nextSibling:e;for(;n;){let e=_(n);if(e)return e;n=n.__nextSibling}let r=e.__parent;for(;r&&Array.isArray(r.element);){let e=h(r.__nextSibling);if(e)return e;r=r.__parent}}}return null}function p(e,...t){t.forEach(t=>{t instanceof HTMLElement?u(e).append(t):Array.isArray(t.element)?t.element.forEach(t=>p(e,t)):t.element&&p(e,t.element)})}function f(e,t,n){t instanceof HTMLElement?u(e).insertBefore(t,h(n)):Array.isArray(t.element)?t.element.forEach(t=>f(e,t,n)):f(e,t.element,n)}function d(e){return e instanceof Function?e():e}function m(e){e.remove instanceof Function?e.remove():Array.isArray(e)?e.forEach(e=>m(e)):e.element&&m(e.element)}function y(e){Object.keys(e).forEach(t=>{if(t.startsWith("on")){let n=e[t];e[t]=async(...e)=>{let t=n(...e);for(;t instanceof Promise;)t=await t;return l.shot(),t}}})}class g{constructor(e,t,n){this.context=t,this.awake(),this.children=n||this.component(t),Array.isArray(this.children)||(this.children=[this.children]);for(let e=0;e<this.children.length;++e){let n=this.children[e];Array.isArray(n)?(this.children.splice(e,1,...n),--e):n instanceof Function?(n=n(t),n?this.children[e]=new g(null,t,n):(this.children.splice(e,1),--e)):n instanceof g||(this.children.splice(e,1),--e)}if(e){e instanceof HTMLElement?(this.element=e,p(this.element,...this.children)):(this.element=document.createElement(e),p(this.element,...this.children));let t=[],n=Object.keys(this.context);for(let e=0;e<n.length;++e){let r=n[e];r.startsWith("on")?this.element[r]=this.context[r]:r.startsWith("_")||void 0!==this.element[r]&&(this.context[r].valueOf()instanceof Function?t.push(()=>this.element[r]=this.context[r]().valueOf()):t.push(()=>this.element[r]=this.context[r].valueOf()))}this.__store=new a(l,t),this.__applyHtmlContext()}else this.element=this.children;for(let e=0;e<this.children.length;++e){let t=this.children[e];t instanceof g&&(t.__parent=this,t.__nextSibling=this.children[e+1])}}component(e){return[]}__reset(){this.children.forEach(e=>e.__reset()),Array.isArray(this.element)&&this.element.forEach(e=>e.__reset()),this.element instanceof g&&this.element.__reset(),this.__started=!1,this.awake(),this.__applyHtmlContext()}awake(){}__start(){return this.__started=!0,this.start()}start(){}__stop(){this.children.forEach(e=>e.__stop()),Array.isArray(this.element)&&this.element.forEach(e=>e.__stop()),this.stop(),this.__started=!1,this.element instanceof HTMLElement&&this.__store.untrack()}stop(){}async update(){this.__started||await this.__start();try{this.__applyHtmlContext(),this.children.forEach(e=>function(e,t){e.update instanceof Function?e.update(t):e.element&&e.element.update instanceof Function&&e.element.update(t)}(e))}catch(e){throw e.componentStack||(e.componentStack=[]),e.componentStack.push(this),e}}__applyHtmlContext(){this.element instanceof HTMLElement&&this.__store.track()}remove(){this.__started&&this.__stop(),m(this.element)}}function v(e,t,...n){return new g(e,t,n)}class x{constructor(e){return this.valueContainer=e,new Proxy(Object.assign(e,{toString:function(){return e.value.toString()},valueOf:function(){return e.value.valueOf()}}),this)}get(e,t){switch(t){case"valueOf":case"toString":return e[t]}return this.valueContainer.value[t]}}class k{constructor(e){this.__pool=[],this.__component=e}push(e){e.__pool&&this.__pool.push(e)}pop(e){let t=this.__pool.pop();if(t)return t.__pool.valueContainer.value=e,t.__reset(),t;{let n={value:e},r={valueContainer:n,proxy:new x(n)};return t=new g(null,r,this.__component(r.proxy)),t.__pool=r,t.__remove=t.remove,t.remove=()=>{t.__remove(),this.push(t)},t}}}function O(e,...t){return y(e),v("div",e,...t)}function b(e,t){return y(e),v("input",Object.assign(e,{type:t}))}function E(e){return y(e),b(e,"text")}function w(e){return y(e),v("button",e)}function A(...e){return function(...e){return C({data:()=>e.filter(e=>d(e.active.valueOf())).slice(0,1),component:e=>e.component()})}(...e.map(e=>({active:e.active,component:P(e.component)})))}let T=0;class S extends g{constructor(e){let t=[];super(null,e,t),e.component||(e.component=e.createElement),this.oldData=[],this.elements=t,this.dict={},this.__store=new a(l,[()=>this.__updateList(e.data.valueOf()instanceof Function?e.data().valueOf():e.data.valueOf())]),this.__store.track()}__insertAt(e,t){this.__started&&(e<this.elements.length?f(this.__parent,t,this.elements[e]):f(this.__parent,t,h(this,!0)))}update(){this.__store.track(),super.update()}__updateList(e){let t={},n={};for(let r=0;r<e.length;++r){let o=e[r],i=this.oldData[r],s=o instanceof Object;if(s&&o==i)continue;let a=s?o.__key||(o.__key=++T):o,c=this.dict[a];if(c){if(!s){let e=n[a];if(e&&e.length>=c.length){let e=new g(null,o,this.context.component(o));c.__parent=this,c.push(e),c=e;let t=n[a];t?t.push(c):n[a]=[c]}else{let e=c.shift();c.push(e),c=e;let t=n[a];if(t?t.push(c):n[a]=[c],o==i)continue}}let e=t[a];e&&(s?delete t[a]:e.splice(e.indexOf(c),1)),s&&(n[a]=c)}else if(c=new g(null,o,this.context.component(o)),c.__parent=this,s)this.dict[a]=c;else{let e=this.dict[a];e?e.push(c):this.dict[a]=[c];let t=n[a];t?t.push(c):n[a]=[c]}let l=this.elements[r],_=r+1;for(;_<this.elements.length;++_){let e=this.oldData[_];if(s){if(n[e.__key])continue;break}{let t=n[e];if(t){let e=this.elements[_];if(t.indexOf(e)>-1)continue}break}}if(this.__insertAt(_,c),_-1>0&&(this.elements[_-2].__nextSibling=c),l)if(s)n[i.__key]||(t[i.__key]=l);else{let e=n[i];if(!e||e.indexOf(l)<0){let e=t[i];e?e.push(l):t[i]=[l]}}this.elements[r]=c,this.oldData[r]=o}if(Object.keys(t).forEach(e=>{let n=t[e],r=this.dict[e];Array.isArray(n)?(n.forEach(e=>{m(e),r.splice(r.indexOf(e),1)}),0===r.length&&delete this.dict[e]):(m(n),delete this.dict[e])}),this.oldData.length>e.length){for(let t=e.length;t<this.oldData.length;++t){let e=this.elements[t],r=this.oldData[t],o=r instanceof Object,i=o?r.__key:r;if(!o||!n[r.__key]){{let t=n[r];if(t&&t.indexOf(e)>-1)continue}if(o)delete this.dict[i];else{let t=this.dict[i];t.splice(t.indexOf(e),1),0===t.length&&delete this.dict[i]}m(e)}}this.elements.splice(e.length,this.elements.length),this.oldData.splice(e.length,this.oldData.length),this.elements.length>0&&(this.elements[this.elements.length-1].__nextSibling=null)}}}function C(e){return new S(e)}function j(e){let t=new k(e.component);return C({data:e.data,component:e=>t.pop(e)})}function P(e){let t=new k(e);return()=>t.pop()}function H(e){return new i(l,e).__proxy}function N(){l.shot()}let M={},D=null,L=function(){};function F(e){if(null===e)return e;let t=e.valueOf();if(Array.isArray(t))return[...t];if(t instanceof Object){let n={};return Object.keys(t).forEach(t=>{let r=e[t];r.valueOf()instanceof Function||(n[t]=F(r))}),n}return t}window.addEventListener("popstate",(function(e){if(D&&D.onexit)return D.onexit(),D=null,q(null,null,{onenter:()=>{this.history.back()}}),void this.history.back();null!==e.state&&e.state.key&&(D=M[e.state.key],D)?D.onenter&&(D.onenter(e.state.enterState),N()):(L(e.state),N())}));let K=0;function q(e,t,n){n.__routerKey||(n.__routerKey=(++K).toString()),M[n.__routerKey]=D=n,history.pushState({key:n.__routerKey,enterState:F(e)},"router",t)}class W extends g{constructor(e){super(null,e)}awake(){q(null,null,{onexit:()=>this.context.hide()})}component(){return O({style:"position: absolute; left: 33%; right: 33%; top: 25%; bottom: 50%; border: solid 2px green; color green; display: flex; justify-content: center; flex-flow: column;"},O({innerText:"popup",style:"text-align: center"}),w({innerText:"close",onclick:this.context.hide}))}}L=()=>{B.pathname=location.pathname};let G=H({name:"rename me",langs:["en","ru"]}),V=H({queue:[],pushPopup:function(e){this.queue.push(e)},closePopup:function(){this.queue.shift()}}),B=H({pathname:location.pathname,gotoHome:function(){this.goto("/")},gotoContent:function(){this.goto("/content")},goto:function(e){this.pathname=e,q(this,this.pathname,{onenter:e=>{!function e(t,n){null!==n&&Object.keys(n).forEach(r=>{let o=n[r];if(Array.isArray(o)){let e=t[r];e.valueOf()?t[r].splice(0,e.valueOf().length,...o):t[r]=o}else if(o instanceof Object){t[r].valueOf()?e(t[r],o):t[r]=o}else t[r]=o})}(this,e)}})}});!function(e,...t){let n=new g(e,{},t);n.update()}(document.body,function({active:e,hide:t}){return A({active:e,component:()=>new W({active:e,hide:t})})}({active:()=>V.queue.length>0,hide:V.closePopup}),w({innerText:"boo!",onclick:()=>V.pushPopup({})}),O({innerText:G.name}),O({},()=>{let e=H({value:""});return[E({value:e.value,onchange:t=>{e.value=t.target.value}}),w({innerText:"save",onclick:()=>{G.name=e.value,e.value=""}})]}),O({},()=>{let e=H({value:""});return[E({placeholder:"lang",value:e.value,onchange:t=>e.value=t.target.value}),w({innerText:"Add",onclick:()=>{G.langs.push(e.value),e.value=""}})]}),O({},O({style:"color: green",innerText:G.langs.length}),j({data:G.langs,component:e=>[O({innerText:e}),w({innerText:"remove",onclick:()=>G.langs.splice(G.langs.indexOf(e),1)})]})),O({},A({active:()=>"/"===B.pathname.valueOf(),component:()=>[O({innerText:"Home"}),O({innerText:"Hello everybody! Glad to see you at my home! Please go to see my content!"}),w({innerText:"to content!",onclick:B.gotoContent})]},{active:()=>B.pathname.startsWith("/content"),component:()=>[O({innerText:"Content"}),O({innerText:"Hey! Here is my content! Enjoy to see that!"}),O({innerText:"Tired of content? Go home and get rest."}),w({innerText:"to home",onclick:B.gotoHome})]})))}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4uL3Nob3RjYXJkLmpzIiwid2VicGFjazovLy8uLi91aWkuanMiLCJ3ZWJwYWNrOi8vLy4uL3JvdXRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2l0aFVpaS9wb3B1cC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2l0aFVpaS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImdldFByb3h5RnVuY3Rpb24iLCJfX3Byb3BOYW1lIiwiYXJncyIsIl9fc291cmNlQ29udGFpbmVyIiwic291cmNlIiwibWFwIiwiYSIsInZhbHVlT2YiLCJjYWxsYmFjayIsIl9fc291cmNlUHJvcGVydHkiLCJfX3JlbG9hZCIsInZhbHVlcyIsIl9fcHJvcGVydGllcyIsImZvckVhY2giLCJQcm9taXNlIiwidGhlbiIsInYiLCJiZWdpbiIsImVuZCIsInVuZGVmaW5lZCIsImxlbmd0aCIsIk1hdGgiLCJtaW4iLCJwdXNoIiwiX19wcm94eSIsImFjdGlvbiIsIl8iLCJhcnIiLCJlIiwiaXRlbXMiLCJBcnJheSIsImlzQXJyYXkiLCJkZXB0aCIsImZsYXQiLCJwcmVkaWNhdGUiLCJ1bnNoaWZ0IiwiUHJvcGVydHlTb3VyY2UiLCJQcm94eSIsImFzc2lnbiIsInRvU3RyaW5nIiwidGhpcyIsIl9fc3RvcmUiLCJfX3RyYWNrIiwiX19hZGRUYXJnZXQiLCJQcm9wZXJ0eVByb3h5SGFuZGxlciIsIlByb3BlcnR5Iiwic3RvcmUiLCJzb3VyY2VTdG9yZSIsInByb3BOYW1lIiwic291cmNlUHJvcGVydHkiLCJfX3RhcmdldHMiLCJfX2xvYWRlZCIsInRhcmdldCIsInByb3BlcnRpZXMiLCJfX2xvYWQiLCJzcGxpY2UiLCJpbmRleE9mIiwiX19zZXRTdG9yZSIsIl9fdGFyZ2V0IiwicHJvcCIsInRvUHJpbWl0aXZlIiwicHJvcFN0b3JlIiwiRnVuY3Rpb24iLCJwcm9wZXJ0eVN0YWNrIiwiZXJyb3IiLCJyZXZlcnNlIiwiam9pbiIsIl9fc2V0VmFsdWUiLCJUYXJnZXQiLCJhY3Rpb25zIiwidHJhY2tlZCIsInRyYWNrIiwiX19yZW1vdmVUYXJnZXQiLCJzdG9yZUtleUluY3JlbWVudCIsIl9fc3RvcmVLZXkiLCJfX3N0YXJ0VHJhY2siLCJfX3N0b3BUcmFjayIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsInNob3RlZCIsIl9fc2hvdCIsImNvbnNvbGUiLCJsb2ciLCJnZXRFbGVtZW50IiwiY29tcG9uZW50IiwiSFRNTEVsZW1lbnQiLCJlbGVtZW50IiwiZWwiLCJnZXRQYXJlbnQiLCJfX3BhcmVudCIsImdldE5leHRTaWJsaW5nIiwic2tpcCIsIl9fbmV4dFNpYmxpbmciLCJhcHBlbmQiLCJjaGlsZHJlbiIsImluc2VydEJlZm9yZSIsImNoaWxkIiwicmVmY2hpbGQiLCJ2YWwiLCJyZW1vdmUiLCJzZXRIb29rcyIsImNvbnRleHQiLCJrZXlzIiwiayIsInN0YXJ0c1dpdGgiLCJoYW5kbGVyIiwiYXN5bmMiLCJzaG90IiwiaHRtbCIsImF3YWtlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY29udGV4dEtleXMiLCJfX2FwcGx5SHRtbENvbnRleHQiLCJfX3Jlc2V0IiwiX19zdGFydGVkIiwiX19zdG9wIiwic3RvcCIsInVudHJhY2siLCJfX3N0YXJ0Iiwic3RhdGUiLCJ1cGRhdGUiLCJjb21wb25lbnRTdGFjayIsIlBvb2xQcm94eSIsInZhbHVlQ29udGFpbmVyIiwiQ29tcG9uZW50UG9vbCIsIl9fcG9vbCIsIl9fY29tcG9uZW50IiwicG9wIiwicG9vbCIsInByb3h5IiwiX19yZW1vdmUiLCJkaXYiLCJpbnB1dCIsInR5cGUiLCJpbnB1dFRleHQiLCJwb29sU3dpdGNoIiwibGlzdCIsImRhdGEiLCJmaWx0ZXIiLCJhY3RpdmUiLCJzbGljZSIsInN3aXRjaENvbXBvbmVudCIsInVzZVBvb2xDb21wb25lbnQiLCJfX2xpc3RDb21wb25lbnRLZXlJbmNyZW1lbnQiLCJzdXBlciIsIm9sZERhdGEiLCJlbGVtZW50cyIsImRpY3QiLCJfX3VwZGF0ZUxpc3QiLCJpbmRleCIsInJlcGxhY2VkIiwiaW5zZXJ0ZWQiLCJuZCIsIm9kIiwiZG9PYmoiLCJpdCIsInNoaWZ0Iiwib2xkRWxlbWVudCIsImluc2VydEluZGV4IiwibnRoZCIsIm50aGVsIiwiX19pbnNlcnRBdCIsInBvb2xMaXN0IiwidXNlU3RvcmUiLCJ1cGRhdGVVaWkiLCJoYW5kbGVycyIsImN1cnJlbnRIYW5kbGVyIiwiZmFsbGJhY2tIYW5kbGVyIiwiY2xvbmVTdGF0ZSIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmV4aXQiLCJwdXNoU3RhdGUiLCJvbmVudGVyIiwiaGlzdG9yeSIsImJhY2siLCJlbnRlclN0YXRlIiwicm91dGVyS2V5SW5jcmVtZW50IiwidXJsIiwiX19yb3V0ZXJLZXkiLCJoaWRlIiwic3R5bGUiLCJpbm5lclRleHQiLCJvbmNsaWNrIiwicm91dGUiLCJwYXRobmFtZSIsImxvY2F0aW9uIiwibGFuZ3MiLCJwb3B1cFN0b3JlIiwicXVldWUiLCJwdXNoUG9wdXAiLCJjbG9zZVBvcHVwIiwiZ290b0hvbWUiLCJnb3RvIiwiZ290b0NvbnRlbnQiLCJyZXN0b3JlIiwibW91bnQiLCJib2R5IiwicG9wdXAiLCJpbnB1dFN0b3JlIiwib25jaGFuZ2UiLCJwbGFjZWhvbGRlciJdLCJtYXBwaW5n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QVcsY0FBZUMsUUFBU0MsRUFBTVUsZ0JBRzlELENBQ0l2RCxPQUFRLElBQU02QyxFQUFNQyxTQUFTbEYsV0FBVyxZQUN4Q3BCLFVBQVcsSUFDUCxDQUNJZ0QsRUFBSSxDQUFFbUQsVUFBVyxZQUNqQm5ELEVBQUksQ0FBRW1ELFVBQVcsZ0RBQ2pCbkQsRUFBSSxDQUFFbUQsVUFBVyw0Q0FDakIsRUFBTyxDQUFFQSxVQUFXLFVBQVdDLFFBQVNDLEVBQU1RIiwiZmlsZSI6IndpdGhVaWkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gOCk7XG4iLCJmdW5jdGlvbiBoYW5kbGVSZXN1bHQociwgY2FsbGJhY2spIHtcbiAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgIHJldHVybiByLnRoZW4odiA9PiB7XG4gICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgIH0pO1xuICAgIGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHtQcm9wZXJ0eX0gcHJvcGVydHkgXG4gKi9cbmZ1bmN0aW9uIGdldFByb3h5RnVuY3Rpb24ocHJvcGVydHkpIHtcbiAgICBzd2l0Y2ggKHByb3BlcnR5Ll9fcHJvcE5hbWUpIHtcbiAgICAgICAgY2FzZSBcInNwbGljZVwiOlxuICAgICAgICBjYXNlIFwic2hpZnRcIjpcbiAgICAgICAgY2FzZSBcInBvcFwiOlxuICAgICAgICBjYXNlIFwicHVzaFwiOlxuICAgICAgICBjYXNlIFwidW5zaGlmdFwiOlxuICAgICAgICBjYXNlIFwic29ydFwiOlxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVJlc3VsdChcbiAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuX19zb3VyY2VDb250YWluZXIuc291cmNlW3Byb3BlcnR5Ll9fcHJvcE5hbWVdKC4uLmFyZ3MubWFwKGEgPT4gYS52YWx1ZU9mKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuX19zb3VyY2VQcm9wZXJ0eS5fX3JlbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LnZhbHVlcyhwcm9wZXJ0eS5fX3NvdXJjZVByb3BlcnR5Ll9fcHJvcGVydGllcykuZm9yRWFjaChwID0+IHAuX19yZWxvYWQoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwic2xpY2VcIjpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoYmVnaW4sIGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChlbmQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gcHJvcGVydHkuX19zb3VyY2VDb250YWluZXIuc291cmNlLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBNYXRoLm1pbihwcm9wZXJ0eS5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2UubGVuZ3RoIC0gMSwgZW5kKTtcblxuICAgICAgICAgICAgICAgIGxldCByID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IGJlZ2luOyBpIDwgZW5kOyArK2kpIHtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKHByb3BlcnR5Ll9fc291cmNlUHJvcGVydHkuX19wcm94eVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZm9yRWFjaFwiOlxuICAgICAgICBjYXNlIFwibWFwXCI6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2VbcHJvcGVydHkuX19wcm9wTmFtZV0oXG4gICAgICAgICAgICAgICAgICAgIChfLCBpLCBhcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlID0gcHJvcGVydHkuX19zb3VyY2VQcm9wZXJ0eS5fX3Byb3h5W2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvbihlLCBpLCBhcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICBjYXNlIFwiY29uY2F0XCI6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLml0ZW1zKSB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5fX3NvdXJjZVByb3BlcnR5Ll9fcHJveHkuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGl0ZW1zLmZvckVhY2goaSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpLmZvckVhY2goZSA9PiByLnB1c2goZSkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgci5wdXNoKGkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmbGF0XCI6XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkZXB0aClcbiAgICAgICAgICAgICAgICAgICAgZGVwdGggPSAxO1xuXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBbXTtcblxuICAgICAgICAgICAgICAgIHByb3BlcnR5Ll9fc291cmNlUHJvcGVydHkuX19wcm94eS5mb3JFYWNoKGkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSAmJiBkZXB0aCAtIDEgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGkuZmxhdChkZXB0aCAtIDEpLmZvckVhY2goZSA9PiByLnB1c2goZSkpO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICByLnB1c2goaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmaWx0ZXJcIjpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocHJlZGljYXRlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5fX3NvdXJjZVByb3BlcnR5Ll9fcHJveHkuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHIucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSBcInJldmVyc2VcIjpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eS5fX3NvdXJjZVByb3BlcnR5Ll9fcHJveHkuZm9yRWFjaChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZWRpY2F0ZShlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHIudW5zaGlmdChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eS5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2VbcHJvcGVydHkuX19wcm9wTmFtZV0uY2FsbChcbiAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2UpID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5Ll9fc291cmNlQ29udGFpbmVyLnNvdXJjZSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5fX3NvdXJjZVByb3BlcnR5Ll9fcHJveHksXG4gICAgICAgICAgICAgICAgICAgIC4uLihhcmdzKS5tYXAoYSA9PiBhLnZhbHVlT2YoKSkpO1xuICAgICAgICAgICAgfVxuICAgIH1cbn1cblxuY2xhc3MgUHJvcGVydHlTb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UHJvcGVydHl9IHByb3BlcnR5IFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHByb3BlcnR5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkoT2JqZWN0LmFzc2lnbihcbiAgICAgICAgICAgIGdldFByb3h5RnVuY3Rpb24ocHJvcGVydHkpLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlT2YoKS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdmFsdWVPZjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkuX19zdG9yZS5fX3RyYWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5Ll9fc3RvcmUuX190cmFjay5mb3JFYWNoKHQgPT4gcHJvcGVydHkuX19hZGRUYXJnZXQodCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHYgPSBwcm9wZXJ0eS5fX3Byb3BOYW1lID09PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydHkuX19zb3VyY2VDb250YWluZXIuc291cmNlIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5Ll9fc291cmNlQ29udGFpbmVyLnNvdXJjZVtwcm9wZXJ0eS5fX3Byb3BOYW1lXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodiA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2LnZhbHVlT2YoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSksIG5ldyBQcm9wZXJ0eVByb3h5SGFuZGxlcihwcm9wZXJ0eSkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb3BlcnR5IHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1N0b3JlfSBzdG9yZSBcbiAgICAgKiBAcGFyYW0geyp9IHNvdXJjZVN0b3JlIFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wTmFtZSBcbiAgICAgKiBAcGFyYW0ge1Byb3BlcnR5IHwgdW5kZWZpbmVkfSBzb3VyY2VQcm9wZXJ0eVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHN0b3JlLCBzb3VyY2VTdG9yZSwgcHJvcE5hbWUsIHNvdXJjZVByb3BlcnR5KSB7XG4gICAgICAgIHRoaXMuX19zdG9yZSA9IHN0b3JlO1xuICAgICAgICB0aGlzLl9fc291cmNlQ29udGFpbmVyID0geyBzb3VyY2U6IHNvdXJjZVN0b3JlIH07XG4gICAgICAgIHRoaXMuX19zb3VyY2VQcm9wZXJ0eSA9IHNvdXJjZVByb3BlcnR5O1xuXG4gICAgICAgIHRoaXMuX19wcm9wZXJ0aWVzID0ge307XG4gICAgICAgIHRoaXMuX19wcm9wTmFtZSA9IHByb3BOYW1lO1xuICAgICAgICB0aGlzLl9fdGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLl9fbG9hZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fX3Byb3h5ID0gbmV3IFByb3BlcnR5U291cmNlKHRoaXMpO1xuICAgIH1cblxuICAgIF9fYWRkVGFyZ2V0KHsgdGFyZ2V0LCBhY3Rpb24gfSkge1xuICAgICAgICB0YXJnZXQucHJvcGVydGllcy5wdXNoKHRoaXMpO1xuICAgICAgICB0aGlzLl9fdGFyZ2V0cy5wdXNoKGFjdGlvbik7XG4gICAgfVxuXG4gICAgX19yZWxvYWQoKSB7XG4gICAgICAgIGlmICghdGhpcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5fX3N0b3JlLl9fbG9hZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX19sb2FkZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fc2hvdCgpIHtcbiAgICAgICAgdGhpcy5fX2xvYWRlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIF9fcmVtb3ZlVGFyZ2V0KGFjdGlvbikge1xuICAgICAgICB0aGlzLl9fdGFyZ2V0cy5zcGxpY2UodGhpcy5fX3RhcmdldHMuaW5kZXhPZihhY3Rpb24pLCAxKTtcbiAgICB9XG5cbiAgICBfX3NldFN0b3JlKHN0b3JlKSB7XG4gICAgICAgIHRoaXMuX19zb3VyY2VDb250YWluZXIuc291cmNlID0gc3RvcmU7XG5cbiAgICAgICAgT2JqZWN0LnZhbHVlcyh0aGlzLl9fcHJvcGVydGllcykuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICAgIHAuX19zZXRTdG9yZShzdG9yZVt0aGlzLl9fcHJvcE5hbWVdKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5fX3JlbG9hZCgpO1xuICAgIH1cbiAgICBfX3NldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX19zb3VyY2VDb250YWluZXIuc291cmNlW3RoaXMuX19wcm9wTmFtZV0gPSB2YWx1ZTtcblxuICAgICAgICBPYmplY3QudmFsdWVzKHRoaXMuX19wcm9wZXJ0aWVzKS5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgICAgcC5fX3NldFN0b3JlKHZhbHVlKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5fX3JlbG9hZCgpO1xuICAgIH1cbn1cblxuY2xhc3MgUHJvcGVydHlQcm94eUhhbmRsZXIge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7UHJvcGVydHl9IHRhcmdldCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5fX3RhcmdldCA9IHRhcmdldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHtQcm9wZXJ0eX0gdGFyZ2V0IFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wIFxuICAgICAqL1xuICAgIGdldChfLCBwcm9wKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gU3ltYm9sLnRvUHJpbWl0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX190YXJnZXQuX19zb3VyY2VDb250YWluZXIuc291cmNlW3RoaXMuX190YXJnZXQuX19wcm9wTmFtZV1bcHJvcF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwcm9wZXJ0eSA9IHRoaXMuX190YXJnZXQuX19wcm9wZXJ0aWVzW3Byb3BdO1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvcFN0b3JlID0gdGhpcy5fX3RhcmdldC5fX3Byb3BOYW1lICE9PSB1bmRlZmluZWQgP1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdGFyZ2V0Ll9fc291cmNlQ29udGFpbmVyLnNvdXJjZVt0aGlzLl9fdGFyZ2V0Ll9fcHJvcE5hbWVdIDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RhcmdldC5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2U7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9fdGFyZ2V0Ll9fcHJvcGVydGllc1twcm9wXSA9IHByb3BlcnR5ID0gbmV3IFByb3BlcnR5KHRoaXMuX190YXJnZXQuX19zdG9yZSwgcHJvcFN0b3JlLCBwcm9wLCB0aGlzLl9fdGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHByb3BlcnR5IGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX1twcm9wXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9fdGFyZ2V0Ll9fc3RvcmUuX190cmFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fX3RhcmdldC5fX3N0b3JlLl9fdHJhY2suZm9yRWFjaCh0ID0+IHByb3BlcnR5Ll9fYWRkVGFyZ2V0KHQpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHByb3BlcnR5Ll9fcHJveHk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghZS5wcm9wZXJ0eVN0YWNrKSB7XG4gICAgICAgICAgICAgICAgZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICAgICAgICAgIHRvU3RyaW5nOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lcnJvciArIFwiXFxuXCIgKyBcInN0b3JlLlwiICsgdGhpcy5wcm9wZXJ0eVN0YWNrLm1hcChwID0+IHAuX19wcm9wTmFtZSkucmV2ZXJzZSgpLmpvaW4oXCIuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eVN0YWNrOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGUucHJvcGVydHlTdGFjay5wdXNoKHRoaXMuX190YXJnZXQpO1xuICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge1Byb3BlcnR5fSB0YXJnZXQgXG4gICAgICogQHBhcmFtIHt9IHByb3AgXG4gICAgICovXG4gICAgc2V0KF8sIHByb3AsIHZhbHVlKSB7XG4gICAgICAgIGxldCBwcm9wZXJ0eSA9IHRoaXMuX190YXJnZXQuX19wcm9wZXJ0aWVzW3Byb3BdO1xuXG4gICAgICAgIGlmIChwcm9wZXJ0eSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eS5fX3NldFZhbHVlKHZhbHVlLnZhbHVlT2YoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAodGhpcy5fX3RhcmdldC5fX3Byb3BOYW1lID9cbiAgICAgICAgICAgICAgICB0aGlzLl9fdGFyZ2V0Ll9fc291cmNlQ29udGFpbmVyLnNvdXJjZVt0aGlzLl9fdGFyZ2V0Ll9fcHJvcE5hbWVdIDpcbiAgICAgICAgICAgICAgICB0aGlzLl9fdGFyZ2V0Ll9fc291cmNlQ29udGFpbmVyLnNvdXJjZSlcbiAgICAgICAgICAgIFtwcm9wXSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX190YXJnZXQuX19zb3VyY2VDb250YWluZXIuc291cmNlW3RoaXMuX190YXJnZXQuX19wcm9wTmFtZV0pKVxuICAgICAgICAgICAgdGhpcy5fX3RhcmdldC5fX3JlbG9hZCgpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qYXBwbHkoXywgdGhpc0FyZywgYXJncykge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3RhcmdldC5fX3NvdXJjZUNvbnRhaW5lci5zb3VyY2VbdGhpcy5fX3RhcmdldC5fX3Byb3BOYW1lXSguLi5hcmdzKTtcbiAgICB9Ki9cbn1cbmNvbnN0IHByb3BlcnR5UHJveHlIYW5kbGVyID0gbmV3IFByb3BlcnR5UHJveHlIYW5kbGVyKCk7XG5cbmV4cG9ydCBjbGFzcyBUYXJnZXQge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7U3RvcmV9IHN0b3JlXG4gICAgICogQHBhcmFtIHsoKCkgPT4gdm9pZClbXX0gYWN0aW9ucyBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzdG9yZSwgYWN0aW9ucykge1xuICAgICAgICB0aGlzLnN0b3JlID0gc3RvcmU7XG4gICAgICAgIHRoaXMuYWN0aW9ucyA9IGFjdGlvbnMubWFwKGEgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0cmFja2VkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IGFcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBbXTtcbiAgICB9XG5cbiAgICB0cmFjaygpIHtcbiAgICAgICAgdGhpcy5hY3Rpb25zLmZvckVhY2goYSA9PiB7XG4gICAgICAgICAgICBpZiAoIWEudHJhY2tlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudHJhY2sodGhpcywgYS5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIGEudHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGEuYWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB1bnRyYWNrKCkge1xuICAgICAgICB0aGlzLmFjdGlvbnMuZm9yRWFjaChhID0+IHtcbiAgICAgICAgICAgIGlmIChhLnRyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMuZm9yRWFjaChwID0+IHAuX19yZW1vdmVUYXJnZXQoYS5hY3Rpb24pKTtcbiAgICAgICAgICAgICAgICBhLnRyYWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucHJvcGVydGllcy5zcGxpY2UoMCwgdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCk7XG4gICAgfVxufVxuXG5sZXQgc3RvcmVLZXlJbmNyZW1lbnQgPSAwO1xuZXhwb3J0IGNsYXNzIFN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fX3RyYWNrID0gW107XG4gICAgICAgIHRoaXMuX19sb2FkZWQgPSBbXTtcbiAgICB9XG5cbiAgICBfX3N0YXJ0VHJhY2sodGFyZ2V0KSB7XG4gICAgICAgIHRoaXMuX190cmFjay5wdXNoKHRhcmdldCk7XG4gICAgfVxuICAgIF9fc3RvcFRyYWNrKHRhcmdldCkge1xuICAgICAgICB0aGlzLl9fdHJhY2suc3BsaWNlKHRoaXMuX190cmFjay5pbmRleE9mKHRhcmdldCksIDEpO1xuICAgIH1cbiAgICBfX2xvYWQocHJvcGVydHkpIHtcbiAgICAgICAgdGhpcy5fX2xvYWRlZC5wdXNoKHByb3BlcnR5KTtcbiAgICB9XG4gICAgdHJhY2sodGFyZ2V0LCBhY3Rpb24pIHtcbiAgICAgICAgaWYgKCFhY3Rpb24uX19zdG9yZUtleSkge1xuICAgICAgICAgICAgYWN0aW9uLl9fc3RvcmVLZXkgPSArK3N0b3JlS2V5SW5jcmVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ID0geyB0YXJnZXQsIGFjdGlvbiB9O1xuICAgICAgICB0aGlzLl9fc3RhcnRUcmFjayh0KTtcbiAgICAgICAgYWN0aW9uKCk7XG4gICAgICAgIHRoaXMuX19zdG9wVHJhY2sodCk7XG4gICAgfVxuICAgIHNob3QoKSB7XG4gICAgICAgIGxldCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgICAgIGxldCBzaG90ZWQgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX19sb2FkZWQuZm9yRWFjaChwID0+IHtcbiAgICAgICAgICAgICAgICBwLl9fdGFyZ2V0cy5mb3JFYWNoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNob3RlZFt0Ll9fc3RvcmVLZXldKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG90ZWRbdC5fX3N0b3JlS2V5XSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwLl9fc2hvdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlLnByb3BlcnR5U3RhY2spIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUuZXJyb3IsIGUucHJvcGVydHlTdGFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19sb2FkZWQuc3BsaWNlKDAsIHRoaXMuX19sb2FkZWQubGVuZ3RoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhcInVwZGF0ZSB0aW1lXCIsIERhdGUubm93KCkgLSBzdGFydCk7XG4gICAgfVxufVxuLypcbmxldCBzdG9yZSA9IG5ldyBTdG9yZSgpO1xubGV0IGRhdGEgPSBuZXcgUHJvcGVydHkoc3RvcmUsIHtcbiAgICBwZXJzb246IHtcbiAgICAgICAgbmFtZTogXCJzdGVhdmVcIixcbiAgICAgICAgY29udGFjdHM6IHtcbiAgICAgICAgICAgIGVtYWlsOiBcInBvY2h0YS5jb21cIixcbiAgICAgICAgICAgIHBob25lOiBcIjFcIlxuICAgICAgICB9XG4gICAgfSxcbiAgICBiOiBmYWxzZSxcbiAgICBuOiAwLFxuICAgIGxhbmdzOiBbXCJydVwiLCBcImVuXCJdLFxuICAgIHByb2Zlc3Npb25zOiBbXVxufSkuX19wcm94eTtcblxuZnVuY3Rpb24gdXNlRWwoY29udGV4dCkge1xuICAgIGxldCBzdG9yZSA9IGNvbnRleHQuc3RvcmU7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gZWwoZGF0YSkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0gbmV3IFRhcmdldChzdG9yZSxcbiAgICAgICAgW1xuICAgICAgICAgICAgKCkgPT4gY29uc29sZS5sb2coYG5hbWU6ICR7ZGF0YS5wZXJzb24ubmFtZX1gKSxcbiAgICAgICAgICAgICgpID0+IGNvbnNvbGUubG9nKGBlbWFpbDogJHtkYXRhLnBlcnNvbi5jb250YWN0cy5lbWFpbH0gcGhvbmU6ICR7ZGF0YS5wZXJzb24uY29udGFjdHMucGhvbmV9YCksXG4gICAgICAgICAgICAoKSA9PiBjb25zb2xlLmxvZyhgaSBzcGVhayBpbiAke2RhdGEubGFuZ3MubGVuZ3RofSBsYW5nczogJHtkYXRhLmxhbmdzLmpvaW4oXCIgYW5kIFwiKX1gKSxcbiAgICAgICAgICAgICgpID0+IGNvbnNvbGUubG9nKGBsYXN0IHByb2Zlc3Npb246ICR7KGRhdGEucHJvZmVzc2lvbnNbZGF0YS5wcm9mZXNzaW9ucy5sZW5ndGggLSAxXS52YWx1ZU9mKCkgfHwgXCItXCIpLnRvU3RyaW5nKCl9YClcbiAgICAgICAgXVxuICAgICAgICApO1xuICAgICAgICB0YXJnZXQudHJhY2soKTtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG59XG5cbmxldCBlbCA9IHVzZUVsKHsgc3RvcmU6IHN0b3JlIH0pO1xuXG5cblxubGV0IHRhcmdldCA9IGVsKGRhdGEpO1xuXG5sZXQgc3RhcnQgPSBEYXRlLm5vdygpO1xuXG5jb25zb2xlLmxvZyhEYXRlLm5vdygpIC0gc3RhcnQpO1xuXG5cbmNvbnNvbGUubG9nKFwiLS0tLXJlbmFtZVwiKTtcbmRhdGEucGVyc29uLm5hbWUgPSBcImJvYlwiO1xuc3RvcmUuc2hvdCgpO1xuXG5jb25zb2xlLmxvZyhcIi0tLS1yZXBlcnNvblwiKTtcbmRhdGEucGVyc29uID0ge1xuICAgIG5hbWU6IFwiYmlsbFwiLFxuICAgIGNvbnRhY3RzOiB7XG4gICAgICAgIGVtYWlsOiBcIi0tLVwiLFxuICAgICAgICBwaG9uZTogXCIxMlwiXG4gICAgfVxufTtcbnN0b3JlLnNob3QoKTtcblxuY29uc29sZS5sb2coXCItLS0tcmVsYW5nIDBcIik7XG5kYXRhLmxhbmdzWzBdID0gXCJpdFwiO1xuc3RvcmUuc2hvdCgpO1xuXG5jb25zb2xlLmxvZyhcIi0tLS1yZWxhbmdcIik7XG5kYXRhLmxhbmdzID0gW1wic3BcIiwgXCJiclwiLCBcImdyXCJdO1xuc3RvcmUuc2hvdCgpO1xuXG5jb25zb2xlLmxvZyhcIi0tLS1wdXNoIGxhbmdcIik7XG5kYXRhLmxhbmdzLnB1c2goXCJlblwiKTtcbnN0b3JlLnNob3QoKTtcblxuY29uc29sZS5sb2coXCItLS0tcHVzaCBwcm9mZXNzaW9uXCIpO1xuZGF0YS5wcm9mZXNzaW9ucy5wdXNoKFwiY29va1wiKTtcbnN0b3JlLnNob3QoKTtcblxuY29uc29sZS5sb2coXCItLS0tXCIpO1xudGFyZ2V0LnRyYWNrKCk7XG4qLyIsImltcG9ydCB7IFN0b3JlLCBUYXJnZXQsIFByb3BlcnR5IH0gZnJvbSBcIi4vc2hvdGNhcmRcIjtcbmNvbnN0IHN0b3JlID0gbmV3IFN0b3JlKCk7XG5cbmZ1bmN0aW9uIGdldEVsZW1lbnQoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoY29tcG9uZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21wb25lbnQuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbXBvbmVudC5lbGVtZW50Lmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbCA9IGdldEVsZW1lbnQoY29tcG9uZW50LmVsZW1lbnRbaV0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0RWxlbWVudChjb21wb25lbnQuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFBhcmVudChjb21wb25lbnQpIHtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmIChjb21wb25lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQYXJlbnQoY29tcG9uZW50Ll9fcGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRQYXJlbnQoY29tcG9uZW50LmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXROZXh0U2libGluZyhjb21wb25lbnQsIHNraXApIHtcbiAgICBpZiAoY29tcG9uZW50KSB7XG4gICAgICAgIGlmICghc2tpcCAmJiBjb21wb25lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBzID0gc2tpcCA/IGNvbXBvbmVudC5fX25leHRTaWJsaW5nIDogY29tcG9uZW50O1xuICAgICAgICAgICAgd2hpbGUgKHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSBnZXRFbGVtZW50KHMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGVsKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG5cbiAgICAgICAgICAgICAgICBzID0gcy5fX25leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHAgPSBjb21wb25lbnQuX19wYXJlbnQ7XG4gICAgICAgICAgICB3aGlsZSAocCAmJiBBcnJheS5pc0FycmF5KHAuZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGdldE5leHRTaWJsaW5nKHAuX19uZXh0U2libGluZyk7XG5cbiAgICAgICAgICAgICAgICBpZiAocilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICAgICAgcCA9IHAuX19wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKmlmIChBcnJheS5pc0FycmF5KGNvbXBvbmVudC5fX3BhcmVudC5lbGVtZW50KSkge1xuICAgICAgICAgICAgICAgIGxldCByID0gZ2V0TmV4dFNpYmxpbmcoY29tcG9uZW50Ll9fcGFyZW50Ll9fbmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfSovXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBhcHBlbmQoZWwsIC4uLmNoaWxkcmVuKSB7XG4gICAgY2hpbGRyZW4uZm9yRWFjaChjID0+IHtcbiAgICAgICAgaWYgKGMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICAgICAgZ2V0UGFyZW50KGVsKS5hcHBlbmQoYyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgYy5lbGVtZW50LmZvckVhY2goZSA9PiBhcHBlbmQoZWwsIGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGFwcGVuZChlbCwgYy5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gaW5zZXJ0QmVmb3JlKGVsLCBjaGlsZCwgcmVmY2hpbGQpIHtcbiAgICBpZiAoY2hpbGQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCkge1xuICAgICAgICBnZXRQYXJlbnQoZWwpLmluc2VydEJlZm9yZShjaGlsZCwgZ2V0TmV4dFNpYmxpbmcocmVmY2hpbGQpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICBjaGlsZC5lbGVtZW50LmZvckVhY2goYyA9PiBpbnNlcnRCZWZvcmUoZWwsIGMsIHJlZmNoaWxkKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbnNlcnRCZWZvcmUoZWwsIGNoaWxkLmVsZW1lbnQsIHJlZmNoaWxkKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbiA/XG4gICAgICAgIHZhbHVlKCkgOlxuICAgICAgICB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlKGNvbXBvbmVudCwgc3RhdGUpIHtcbiAgICBpZiAoY29tcG9uZW50LnVwZGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIGNvbXBvbmVudC51cGRhdGUoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY29tcG9uZW50LmVsZW1lbnQgJiYgY29tcG9uZW50LmVsZW1lbnQudXBkYXRlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgY29tcG9uZW50LmVsZW1lbnQudXBkYXRlKHN0YXRlKTtcbiAgICB9XG59XG5mdW5jdGlvbiByZW1vdmUoY29tcG9uZW50KSB7XG4gICAgaWYgKGNvbXBvbmVudC5yZW1vdmUgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICBjb21wb25lbnQucmVtb3ZlKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY29tcG9uZW50KSkge1xuICAgICAgICBjb21wb25lbnQuZm9yRWFjaChjID0+IHJlbW92ZShjKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbXBvbmVudC5lbGVtZW50KSB7XG4gICAgICAgIHJlbW92ZShjb21wb25lbnQuZWxlbWVudCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRIb29rcyhjb250ZXh0KSB7XG4gICAgT2JqZWN0LmtleXMoY29udGV4dCkuZm9yRWFjaChrID0+IHtcbiAgICAgICAgaWYgKGsuc3RhcnRzV2l0aChcIm9uXCIpKSB7XG4gICAgICAgICAgICBsZXQgaGFuZGxlciA9IGNvbnRleHRba107XG4gICAgICAgICAgICBjb250ZXh0W2tdID0gYXN5bmMgKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgciA9IGhhbmRsZXIoLi4uYXJncyk7XG4gICAgICAgICAgICAgICAgd2hpbGUgKHIgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICAgICAgICAgICAgICByID0gYXdhaXQgcjtcbiAgICAgICAgICAgICAgICBzdG9yZS5zaG90KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudCB7XG4gICAgLyoqXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBodG1sIFxuICAgICAqIEBwYXJhbSB7Kn0gY29udGV4dCBcbiAgICAgKiBAcGFyYW0geyhDb21wb25lbnQgfCAoKCkgPT4gQ29tcG9uZW50KSlbXX0gY2hpbGRyZW4gXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoaHRtbCwgY29udGV4dCwgY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgICAgdGhpcy5hd2FrZSgpO1xuXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCB0aGlzLmNvbXBvbmVudChjb250ZXh0KTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHRoaXMuY2hpbGRyZW4pKSB7XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuID0gW3RoaXMuY2hpbGRyZW5dO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKGksIDEsIC4uLmMpO1xuICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgIGMgPSBjKGNvbnRleHQpO1xuICAgICAgICAgICAgICAgIGlmIChjKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuW2ldID0gbmV3IENvbXBvbmVudChudWxsLCBjb250ZXh0LCBjKTtcbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIC0taTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghKGMgaW5zdGFuY2VvZiBDb21wb25lbnQpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgLS1pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGh0bWwpIHtcbiAgICAgICAgICAgIGlmIChodG1sIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBodG1sO1xuICAgICAgICAgICAgICAgIGFwcGVuZCh0aGlzLmVsZW1lbnQsIC4uLnRoaXMuY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChodG1sKTtcbiAgICAgICAgICAgICAgICBhcHBlbmQodGhpcy5lbGVtZW50LCAuLi50aGlzLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGFjdGlvbnMgPSBbXVxuICAgICAgICAgICAgbGV0IGNvbnRleHRLZXlzID0gT2JqZWN0LmtleXModGhpcy5jb250ZXh0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGV4dEtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgayA9IGNvbnRleHRLZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChrLnN0YXJ0c1dpdGgoXCJvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRba10gPSB0aGlzLmNvbnRleHRba107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFrLnN0YXJ0c1dpdGgoXCJfXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRba10gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGV4dFtrXS52YWx1ZU9mKCkgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnMucHVzaCgoKSA9PiB0aGlzLmVsZW1lbnRba10gPSB0aGlzLmNvbnRleHRba10oKS52YWx1ZU9mKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9ucy5wdXNoKCgpID0+IHRoaXMuZWxlbWVudFtrXSA9IHRoaXMuY29udGV4dFtrXS52YWx1ZU9mKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9fc3RvcmUgPSBuZXcgVGFyZ2V0KHN0b3JlLCBhY3Rpb25zKTtcblxuICAgICAgICAgICAgdGhpcy5fX2FwcGx5SHRtbENvbnRleHQoKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmNoaWxkcmVuW2ldO1xuXG4gICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIENvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGMuX19wYXJlbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIGMuX19uZXh0U2libGluZyA9IHRoaXMuY2hpbGRyZW5baSArIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIHsgQ29tcG9uZW50W10gfVxuICAgICAqL1xuICAgIGNvbXBvbmVudChjb250ZXh0KSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgX19yZXNldCgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gYy5fX3Jlc2V0KCkpO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuZm9yRWFjaChlID0+IGUuX19yZXNldCgpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5lbGVtZW50IGluc3RhbmNlb2YgQ29tcG9uZW50KVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50Ll9fcmVzZXQoKTtcblxuICAgICAgICB0aGlzLl9fc3RhcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuYXdha2UoKTtcblxuICAgICAgICB0aGlzLl9fYXBwbHlIdG1sQ29udGV4dCgpO1xuICAgIH1cbiAgICBhd2FrZSgpIHtcblxuICAgIH1cbiAgICBfX3N0YXJ0KCkge1xuICAgICAgICB0aGlzLl9fc3RhcnRlZCA9IHRydWU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQoKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgfVxuICAgIF9fc3RvcCgpIHtcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5mb3JFYWNoKGMgPT4gYy5fX3N0b3AoKSk7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5mb3JFYWNoKGUgPT4gZS5fX3N0b3AoKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN0b3AoKTtcbiAgICAgICAgdGhpcy5fX3N0YXJ0ZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9fc3RvcmUudW50cmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgfVxuICAgIGFzeW5jIHVwZGF0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9fc3RhcnRlZCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5fX3N0YXJ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuX19hcHBseUh0bWxDb250ZXh0KCk7XG5cbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChjID0+IHVwZGF0ZShjKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghZS5jb21wb25lbnRTdGFjaylcbiAgICAgICAgICAgICAgICBlLmNvbXBvbmVudFN0YWNrID0gW107XG4gICAgICAgICAgICBlLmNvbXBvbmVudFN0YWNrLnB1c2godGhpcyk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9fYXBwbHlIdG1sQ29udGV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9fc3RvcmUudHJhY2soKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9fc3RhcnRlZClcbiAgICAgICAgICAgIHRoaXMuX19zdG9wKCk7XG5cbiAgICAgICAgcmVtb3ZlKHRoaXMuZWxlbWVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcG9uZW50KG5hbWUsIGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgcmV0dXJuIG5ldyBDb21wb25lbnQobmFtZSwgY29udGV4dCwgY2hpbGRyZW4pO1xufVxuY2xhc3MgUG9vbFByb3h5IHtcbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZUNvbnRhaW5lcikge1xuICAgICAgICB0aGlzLnZhbHVlQ29udGFpbmVyID0gdmFsdWVDb250YWluZXI7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkoT2JqZWN0LmFzc2lnbih2YWx1ZUNvbnRhaW5lcixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b1N0cmluZzogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsdWVDb250YWluZXIudmFsdWUudG9TdHJpbmcoKTsgfSxcbiAgICAgICAgICAgICAgICB2YWx1ZU9mOiBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWx1ZUNvbnRhaW5lci52YWx1ZS52YWx1ZU9mKCk7IH1cbiAgICAgICAgICAgIH0pLCB0aGlzKVxuICAgIH1cblxuICAgIGdldChfLCBwcm9wKSB7XG4gICAgICAgIHN3aXRjaCAocHJvcCkge1xuICAgICAgICAgICAgY2FzZSBcInZhbHVlT2ZcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0b1N0cmluZ1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBfW3Byb3BdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUNvbnRhaW5lci52YWx1ZVtwcm9wXTtcbiAgICB9XG59XG5jbGFzcyBDb21wb25lbnRQb29sIHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyhwb29sOiB7IGNvbnRleHQ6IGFueSB9KSA9PiBDb21wb25lbnR9IGNvbXBvbmVudCBcblxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNvbXBvbmVudCkge1xuICAgICAgICB0aGlzLl9fcG9vbCA9IFtdO1xuICAgICAgICB0aGlzLl9fY29tcG9uZW50ID0gY29tcG9uZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge0NvbXBvbmVudH0gZWxlbWVudCBcbiAgICAgKi9cbiAgICBwdXNoKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuX19wb29sKSB7XG4gICAgICAgICAgICB0aGlzLl9fcG9vbC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcChjb250ZXh0KSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5fX3Bvb2wucG9wKCk7XG4gICAgICAgIGlmIChlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcG9vbC52YWx1ZUNvbnRhaW5lci52YWx1ZSA9IGNvbnRleHQ7XG4gICAgICAgICAgICBlbGVtZW50Ll9fcmVzZXQoKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IHZhbHVlQ29udGFpbmVyID0ge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBjb250ZXh0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgcG9vbCA9IHtcbiAgICAgICAgICAgICAgICB2YWx1ZUNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBwcm94eTogbmV3IFBvb2xQcm94eSh2YWx1ZUNvbnRhaW5lcilcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGVsZW1lbnQgPSBuZXcgQ29tcG9uZW50KG51bGwsIHBvb2wsIHRoaXMuX19jb21wb25lbnQocG9vbC5wcm94eSkpO1xuICAgICAgICAgICAgZWxlbWVudC5fX3Bvb2wgPSBwb29sO1xuICAgICAgICAgICAgZWxlbWVudC5fX3JlbW92ZSA9IGVsZW1lbnQucmVtb3ZlO1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmUgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5fX3JlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucHVzaChlbGVtZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogXG4gKiBAcGFyYW0geyp9IGNvbnRleHQgXG4gKiBAcGFyYW0gIHsuLi4oQ29tcG9uZW50fCAoKCkgPT4gQ29tcG9uZW50KSl9IGNoaWxkcmVuIFxuICovXG5leHBvcnQgZnVuY3Rpb24gZGl2KGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImRpdlwiLCBjb250ZXh0LCAuLi5jaGlsZHJlbilcbn1cbmV4cG9ydCBmdW5jdGlvbiBzcGFuKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcInNwYW5cIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlucHV0KGNvbnRleHQsIHR5cGUpIHtcbiAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICByZXR1cm4gY29tcG9uZW50KFwiaW5wdXRcIiwgT2JqZWN0LmFzc2lnbihjb250ZXh0LCB7IHR5cGU6IHR5cGUgfSkpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlucHV0VGV4dChjb250ZXh0KSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwidGV4dFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnB1dFN1Ym1pdChjb250ZXh0KSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwic3VibWl0XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrYm94KGNvbnRleHQpIHtcbiAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICByZXR1cm4gaW5wdXQoY29udGV4dCwgXCJjaGVja2JveFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYWRpbyhjb250ZXh0KSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGlucHV0KGNvbnRleHQsIFwicmFkaW9cIik7XG59XG5leHBvcnQgZnVuY3Rpb24gbGFiZWwoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICByZXR1cm4gY29tcG9uZW50KFwibGFiZWxcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGEoY29udGV4dCwgLi4uY2hpbGRyZW4pIHtcbiAgICBzZXRIb29rcyhjb250ZXh0KTtcbiAgICByZXR1cm4gY29tcG9uZW50KFwiYVwiLCBjb250ZXh0LCAuLi5jaGlsZHJlbik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcInBcIiwgY29udGV4dCwgLi4uY2hpbGRyZW4pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJ1dHRvbihjb250ZXh0KSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgcmV0dXJuIGNvbXBvbmVudChcImJ1dHRvblwiLCBjb250ZXh0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdChjb250ZXh0KSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgbGV0IG9wdGlvbnMgPSBjb250ZXh0Lm9wdGlvbnM7XG4gICAgZGVsZXRlIGNvbnRleHQub3B0aW9ucztcbiAgICBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgIGxldCBnZXRPcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgbGV0IG9sZE9wdGlvbnMgPSBbXTtcbiAgICAgICAgb3B0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgIGxldCBuZXdPcHRpb25zID0gZ2V0T3B0aW9ucygpO1xuICAgICAgICAgICAgaWYgKG9sZE9wdGlvbnMgPT09IG5ld09wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2xkT3B0aW9ucztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbGRPcHRpb25zLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9sZE9wdGlvbiA9IG9sZE9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKCFuZXdPcHRpb25zLmluY2x1ZGVzKG9sZE9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZEluZGV4ID0gbmV3T3B0aW9ucy5maW5kSW5kZXgoKGUpID0+IGUudmFsdWUgPT09IG9sZE9wdGlvbi52YWx1ZSAmJiBlLnRleHQgPT09IG9sZE9wdGlvbi50ZXh0KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAob2xkSW5kZXggPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3T3B0aW9uc1tvbGRJbmRleF0gPSBvbGRPcHRpb247XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQoXCJzZWxlY3RcIiwgY29udGV4dCxcbiAgICAgICAgcG9vbExpc3Qoe1xuICAgICAgICAgICAgZGF0YTogb3B0aW9ucyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogKGRhdGEpID0+IGNvbXBvbmVudChcIm9wdGlvblwiLCB7XG4gICAgICAgICAgICAgICAgaW5uZXJUZXh0OiAoKSA9PiBkYXRhLnRleHQsXG4gICAgICAgICAgICAgICAgdmFsdWU6ICgpID0+IGRhdGEudmFsdWUsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQ6ICgpID0+IGRhdGEudmFsdWUgPT09IHZhbChjb250ZXh0LnZhbHVlKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaWZyYW1lKGNvbnRleHQsIC4uLmNoaWxkcmVuKSB7XG4gICAgc2V0SG9va3MoY29udGV4dCk7XG4gICAgbGV0IGUgPSBjb21wb25lbnQoXCJpZnJhbWVcIiwgY29udGV4dCk7XG4gICAgbGV0IGNvbXBvbmVudFVwZGF0ZSA9IGUudXBkYXRlLmJpbmQoZS51cGRhdGUpO1xuICAgIGxldCBlbCA9IGdldEVsZW1lbnQoZSk7XG4gICAgbGV0IGl0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBpZiAoZWwuY29udGVudERvY3VtZW50KSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKGl0KTtcbiAgICAgICAgICAgIGxldCBmZWwgPSBjb21wb25lbnQoZWwuY29udGVudERvY3VtZW50LmJvZHksIGNvbnRleHQsIC4uLmNoaWxkcmVuKTtcbiAgICAgICAgICAgIGUudXBkYXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vY29tcG9uZW50VXBkYXRlKCk7XG5cbiAgICAgICAgICAgICAgICBmZWwudXBkYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCAzMCk7XG4gICAgcmV0dXJuIGU7XG59XG5leHBvcnQgZnVuY3Rpb24gbW91bnQoZWxlbWVudCwgLi4uY2hpbGRyZW4pIHtcbiAgICBsZXQgYyA9IG5ldyBDb21wb25lbnQoZWxlbWVudCwge30sIGNoaWxkcmVuKTtcbiAgICBjLnVwZGF0ZSgpO1xuICAgIHJldHVybiBjO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7eyBpdGVtczogeyBhY3RpdmU6IGJvb2xlYW4sIGNyZWF0ZUVsZW1lbnQ/OiAoKSA9PiBDb21wb25lbnQsIGNvbXBvbmVudDogKCkgPT4gQ29tcG9uZW50IH1bXSB9fSBjb250ZXh0IFxuICogQHBhcmFtIHtudW1iZXJ9IGxpbWl0IFxuICovXG4vKmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hDb21wb25lbnQoY29udGV4dCwgbGltaXQgPSAxKSB7XG4gICAgcmV0dXJuIGxpc3RDb21wb25lbnQoe1xuICAgICAgICBkYXRhOiAoKSA9PiB2YWwoY29udGV4dC5pdGVtcykuZmlsdGVyKGkgPT4gdmFsKGkuYWN0aXZlKSkuc2xpY2UoMCwgbGltaXQpLFxuICAgICAgICBjb21wb25lbnQ6IChpKSA9PiAoaS5jcmVhdGVFbGVtZW50IHx8IGkuY29tcG9uZW50KSgpXG4gICAgfSk7XG59Ki9cbi8qKlxuICogXG4gKiBAcGFyYW0gIHsuLi57IGFjdGl2ZTogKCgpID0+IGJvb2xlYW4pIHwgYm9vbGVhbiwgY29tcG9uZW50OiAoKSA9PiBDb21wb25lbnQgfX0gaXRlbXMgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzd2l0Y2hDb21wb25lbnQoLi4uaXRlbXMpIHtcbiAgICByZXR1cm4gbGlzdCh7XG4gICAgICAgIGRhdGE6ICgpID0+IGl0ZW1zLmZpbHRlcihpID0+IHZhbChpLmFjdGl2ZS52YWx1ZU9mKCkpKS5zbGljZSgwLCAxKSxcbiAgICAgICAgY29tcG9uZW50OiAoaSkgPT4gaS5jb21wb25lbnQoKVxuICAgIH0pO1xufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSAgey4uLnsgYWN0aXZlOiAoKCkgPT4gYm9vbGVhbikgfCBib29sZWFuLCBjb21wb25lbnQ6ICgpID0+IENvbXBvbmVudCB9fSBpdGVtcyBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBvb2xTd2l0Y2goLi4uaXRlbXMpIHtcbiAgICByZXR1cm4gc3dpdGNoQ29tcG9uZW50KFxuICAgICAgICAuLi5pdGVtcy5tYXAoaSA9PiB7IHJldHVybiB7IGFjdGl2ZTogaS5hY3RpdmUsIGNvbXBvbmVudDogdXNlUG9vbENvbXBvbmVudChpLmNvbXBvbmVudCkgfTsgfSlcbiAgICApXG59XG5sZXQgX19saXN0Q29tcG9uZW50S2V5SW5jcmVtZW50ID0gMDtcbmNsYXNzIExpc3RDb21wb25lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7eyBkYXRhOiBhbnlbXSwgY3JlYXRlRWxlbWVudD86IChkYXRhOiBhbnkpID0+IENvbXBvbmVudCwgY29tcG9uZW50OiAoZGF0YTogYW55KSA9PiBDb21wb25lbnQgfX0gY29udGV4dCBcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihjb250ZXh0KSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IFtdO1xuICAgICAgICBzdXBlcihudWxsLCBjb250ZXh0LCBjaGlsZHJlbik7XG5cbiAgICAgICAgaWYgKCFjb250ZXh0LmNvbXBvbmVudClcbiAgICAgICAgICAgIGNvbnRleHQuY29tcG9uZW50ID0gY29udGV4dC5jcmVhdGVFbGVtZW50O1xuXG4gICAgICAgIHRoaXMub2xkRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmVsZW1lbnRzID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMuZGljdCA9IHt9O1xuXG4gICAgICAgIHRoaXMuX19zdG9yZSA9IG5ldyBUYXJnZXQoc3RvcmUsXG4gICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5fX3VwZGF0ZUxpc3QoXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZGF0YS52YWx1ZU9mKCkgaW5zdGFuY2VvZiBGdW5jdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmRhdGEoKS52YWx1ZU9mKCkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5kYXRhLnZhbHVlT2YoKSlcbiAgICAgICAgICAgIF0pO1xuXG4gICAgICAgIHRoaXMuX19zdG9yZS50cmFjaygpO1xuICAgIH1cbiAgICBfX2luc2VydEF0KGluZGV4LCBlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9fc3RhcnRlZCkge1xuICAgICAgICAgICAgaWYgKGluZGV4IDwgdGhpcy5lbGVtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuX19wYXJlbnQsIGVsZW1lbnQsIGdldE5leHRTaWJsaW5nKHRoaXMsIHRydWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGRhdGUoKSB7XG4gICAgICAgIHRoaXMuX19zdG9yZS50cmFjaygpO1xuXG4gICAgICAgIHN1cGVyLnVwZGF0ZSgpO1xuICAgIH1cbiAgICBfX3VwZGF0ZUxpc3QoZGF0YSkge1xuICAgICAgICBsZXQgcmVwbGFjZWQgPSB7fTtcbiAgICAgICAgbGV0IGluc2VydGVkID0ge307XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBsZXQgbmQgPSBkYXRhW2ldO1xuICAgICAgICAgICAgbGV0IG9kID0gdGhpcy5vbGREYXRhW2ldO1xuXG4gICAgICAgICAgICBsZXQgZG9PYmogPSBuZCBpbnN0YW5jZW9mIE9iamVjdDtcblxuICAgICAgICAgICAgaWYgKGRvT2JqICYmIG5kID09IG9kKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICBsZXQga2V5ID0gZG9PYmogP1xuICAgICAgICAgICAgICAgIG5kW1wiX19rZXlcIl0gfHwgKG5kW1wiX19rZXlcIl0gPSArK19fbGlzdENvbXBvbmVudEtleUluY3JlbWVudCkgOlxuICAgICAgICAgICAgICAgIG5kO1xuXG4gICAgICAgICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGljdFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gbmV3IENvbXBvbmVudChudWxsLCBuZCwgdGhpcy5jb250ZXh0LmNvbXBvbmVudChuZCkpO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuX19wYXJlbnQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKGRvT2JqKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGljdFtrZXldID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gdGhpcy5kaWN0W2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpY3Rba2V5XSA9IFtlbGVtZW50XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdClcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGVkW2tleV0gPSBbZWxlbWVudF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkb09iaikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQgJiYgaXQubGVuZ3RoID49IGVsZW1lbnQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZWwgPSBuZXcgQ29tcG9uZW50KG51bGwsIG5kLCB0aGlzLmNvbnRleHQuY29tcG9uZW50KG5kKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Ll9fcGFyZW50ID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wdXNoKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGl0ID0gaW5zZXJ0ZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydGVkW2tleV0gPSBbZWxlbWVudF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IGVsZW1lbnQuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucHVzaChlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXQgPSBpbnNlcnRlZFtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0ZWRba2V5XSA9IFtlbGVtZW50XTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5kID09IG9kKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHQgPSByZXBsYWNlZFtrZXldO1xuICAgICAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuc3BsaWNlKHQuaW5kZXhPZihlbGVtZW50KSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcmVwbGFjZWRba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChkb09iaikge1xuICAgICAgICAgICAgICAgICAgICBpbnNlcnRlZFtrZXldID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBvbGRFbGVtZW50ID0gdGhpcy5lbGVtZW50c1tpXTtcblxuICAgICAgICAgICAgbGV0IGluc2VydEluZGV4ID0gaSArIDE7XG4gICAgICAgICAgICBmb3IgKDsgaW5zZXJ0SW5kZXggPCB0aGlzLmVsZW1lbnRzLmxlbmd0aDsgKytpbnNlcnRJbmRleCkge1xuICAgICAgICAgICAgICAgIGxldCBudGhkID0gdGhpcy5vbGREYXRhW2luc2VydEluZGV4XTtcblxuICAgICAgICAgICAgICAgIGlmIChkb09iaikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zZXJ0ZWRbbnRoZFtcIl9fa2V5XCJdXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW250aGRdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBudGhlbCA9IHRoaXMuZWxlbWVudHNbaW5zZXJ0SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0LmluZGV4T2YobnRoZWwpID4gLTEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9faW5zZXJ0QXQoaW5zZXJ0SW5kZXgsIGVsZW1lbnQpO1xuICAgICAgICAgICAgLy9pbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgdGhpcy5lbGVtZW50c1tpbnNlcnRJbmRleF0pO1xuXG4gICAgICAgICAgICAvKmlmIChpbnNlcnRJbmRleCA8IHRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0QmVmb3JlKHRoaXMuX19wYXJlbnQsIGVsZW1lbnQsIHRoaXMuZWxlbWVudHNbaW5zZXJ0SW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coaW5zZXJ0SW5kZXgsIG5kLCB0aGlzLCBnZXROZXh0U2libGluZyh0aGlzLCB0cnVlKSk7XG5cbiAgICAgICAgICAgICAgICBpbnNlcnRCZWZvcmUodGhpcy5fX3BhcmVudCwgZWxlbWVudCwgZ2V0TmV4dFNpYmxpbmcodGhpcywgdHJ1ZSkpO1xuICAgICAgICAgICAgfSovXG5cbiAgICAgICAgICAgIGlmIChpbnNlcnRJbmRleCAtIDEgPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudHNbaW5zZXJ0SW5kZXggLSAyXS5fX25leHRTaWJsaW5nID0gZWxlbWVudDtcblxuICAgICAgICAgICAgaWYgKG9sZEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpbnNlcnRlZFtvZFtcIl9fa2V5XCJdXSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VkW29kW1wiX19rZXlcIl1dID0gb2xkRWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW29kXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpdCB8fCBpdC5pbmRleE9mKG9sZEVsZW1lbnQpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSByZXBsYWNlZFtvZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnB1c2gob2xkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZWRbb2RdID0gW29sZEVsZW1lbnRdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbGVtZW50c1tpXSA9IGVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLm9sZERhdGFbaV0gPSBuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5rZXlzKHJlcGxhY2VkKVxuICAgICAgICAgICAgLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSByZXBsYWNlZFtrXTtcbiAgICAgICAgICAgICAgICBsZXQgZCA9IHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0KSkge1xuICAgICAgICAgICAgICAgICAgICB0LmZvckVhY2goZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkLnNwbGljZShkLmluZGV4T2YoZSksIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUodCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5vbGREYXRhLmxlbmd0aCA+IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gZGF0YS5sZW5ndGg7IGkgPCB0aGlzLm9sZERhdGEubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgICAgICBsZXQgZWwgPSB0aGlzLmVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGxldCBvZCA9IHRoaXMub2xkRGF0YVtpXTtcblxuICAgICAgICAgICAgICAgIGxldCBkb09iaiA9IG9kIGluc3RhbmNlb2YgT2JqZWN0XG4gICAgICAgICAgICAgICAgbGV0IGsgPSBkb09iaiA/XG4gICAgICAgICAgICAgICAgICAgIG9kW1wiX19rZXlcIl0gOlxuICAgICAgICAgICAgICAgICAgICBvZDtcblxuICAgICAgICAgICAgICAgIGlmIChkb09iaiAmJiBpbnNlcnRlZFtvZFtcIl9fa2V5XCJdXSlcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpdCA9IGluc2VydGVkW29kXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGl0ICYmIGl0LmluZGV4T2YoZWwpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBpZiAoZG9PYmopIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuZGljdFtrXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkID0gdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgICAgICBkLnNwbGljZShkLmluZGV4T2YoZWwpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5kaWN0W2tdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlbW92ZShlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnNwbGljZShkYXRhLmxlbmd0aCwgdGhpcy5lbGVtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgdGhpcy5vbGREYXRhLnNwbGljZShkYXRhLmxlbmd0aCwgdGhpcy5vbGREYXRhLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnRzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50c1t0aGlzLmVsZW1lbnRzLmxlbmd0aCAtIDFdLl9fbmV4dFNpYmxpbmcgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBcbiAqIEBwYXJhbSB7eyBkYXRhOiBUW10sIGNyZWF0ZUVsZW1lbnQ/OiAoZGF0YTogVCkgPT4gQ29tcG9uZW50LCBjb21wb25lbnQ6IChkYXRhOiBUKSA9PiAoQ29tcG9uZW50IHwgQ29tcG9uZW50W10pIH19IGNvbnRleHQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsaXN0KGNvbnRleHQpIHtcbiAgICByZXR1cm4gbmV3IExpc3RDb21wb25lbnQoY29udGV4dCk7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHt7IGRhdGE6IFRbXSwgY29tcG9uZW50OiAocG9vbDogeyBjb250ZXh0OiBUIH0pID0+IENvbXBvbmVudH19IGNvbnRleHQgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwb29sTGlzdChjb250ZXh0KSB7XG4gICAgbGV0IHBvb2wgPSBuZXcgQ29tcG9uZW50UG9vbChjb250ZXh0LmNvbXBvbmVudCk7XG4gICAgcmV0dXJuIGxpc3Qoe1xuICAgICAgICBkYXRhOiBjb250ZXh0LmRhdGEsXG4gICAgICAgIGNvbXBvbmVudDogKGRhdGEpID0+IHBvb2wucG9wKGRhdGEpXG4gICAgfSk7XG59XG4vKipcbiAqIFxuICogQHBhcmFtIHsoKSA9PiBDb21wb25lbnR9IGNvbXBvbmVudCBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVzZVBvb2xDb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgbGV0IHBvb2wgPSBuZXcgQ29tcG9uZW50UG9vbChjb21wb25lbnQpO1xuICAgIHJldHVybiAoKSA9PiBwb29sLnBvcCgpO1xufVxuXG5leHBvcnQgY2xhc3MgVWlpVGFyZ2V0IGV4dGVuZHMgVGFyZ2V0IHtcbiAgICAvKipcbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geygoKSA9PiB2b2lkKVtdfSBhY3Rpb25zIFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFjdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoc3RvcmUsIGFjdGlvbnMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVzZVN0b3JlKGRhdGEpe1xuICAgIHJldHVybiBuZXcgUHJvcGVydHkoc3RvcmUsIGRhdGEpLl9fcHJveHk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVVaWkoKSB7XG4gICAgc3RvcmUuc2hvdCgpO1xufSIsImltcG9ydCB7IHVwZGF0ZVVpaSB9IGZyb20gXCIuL3VpaVwiO1xuXG5sZXQgaGFuZGxlcnMgPSB7fTtcbmxldCBjdXJyZW50SGFuZGxlciA9IG51bGw7XG5cbmxldCBmYWxsYmFja0hhbmRsZXIgPSBmdW5jdGlvbiAoKSB7IH07XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoY3VycmVudEhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRIYW5kbGVyLm9uZXhpdCkge1xuICAgICAgICAgICAgY3VycmVudEhhbmRsZXIub25leGl0KCk7XG4gICAgICAgICAgICBjdXJyZW50SGFuZGxlciA9IG51bGw7XG5cbiAgICAgICAgICAgIHB1c2hTdGF0ZShudWxsLCBudWxsLCB7XG4gICAgICAgICAgICAgICAgb25lbnRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpc3RvcnkuYmFjaygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5oaXN0b3J5LmJhY2soKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlLnN0YXRlICE9PSBudWxsICYmIGUuc3RhdGUua2V5KSB7XG5cbiAgICAgICAgY3VycmVudEhhbmRsZXIgPSBoYW5kbGVyc1tlLnN0YXRlLmtleV07XG4gICAgICAgIGlmIChjdXJyZW50SGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRIYW5kbGVyLm9uZW50ZXIpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50SGFuZGxlci5vbmVudGVyKGUuc3RhdGUuZW50ZXJTdGF0ZSk7XG4gICAgICAgICAgICAgICAgdXBkYXRlVWlpKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZhbGxiYWNrSGFuZGxlcihlLnN0YXRlKTtcbiAgICB1cGRhdGVVaWkoKTtcbn0pO1xuXG5mdW5jdGlvbiBjbG9uZVN0YXRlKHNvdXJjZSkge1xuICAgIGlmIChzb3VyY2UgPT09IG51bGwpXG4gICAgICAgIHJldHVybiBzb3VyY2U7XG5cbiAgICBsZXQgcyA9IHNvdXJjZS52YWx1ZU9mKCk7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5zXTtcbiAgICB9XG4gICAgZWxzZSBpZiAocyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICBsZXQgdGFyZ2V0ID0ge307XG4gICAgICAgIE9iamVjdC5rZXlzKHMpLmZvckVhY2goayA9PiB7XG4gICAgICAgICAgICBsZXQgdiA9IHNvdXJjZVtrXTtcbiAgICAgICAgICAgIGlmICghKHYudmFsdWVPZigpIGluc3RhbmNlb2YgRnVuY3Rpb24pKVxuICAgICAgICAgICAgICAgIHRhcmdldFtrXSA9IGNsb25lU3RhdGUodik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cbn1cblxubGV0IHJvdXRlcktleUluY3JlbWVudCA9IDA7XG4vKipcbiAqIFxuICogQHBhcmFtIHsqfSBzdGF0ZSBcbiAqIEBwYXJhbSB7Kn0gdXJsIFxuICogQHBhcmFtIHt7IG9uZW50ZXI6IChzdGF0ZSkgPT4gdm9pZCwgb25leGl0OiAoKSA9PiB2b2lkIH19IGhhbmRsZXIgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwdXNoU3RhdGUoc3RhdGUsIHVybCwgaGFuZGxlcikge1xuICAgIGlmICghaGFuZGxlci5fX3JvdXRlcktleSkge1xuICAgICAgICBoYW5kbGVyLl9fcm91dGVyS2V5ID0gKCsrcm91dGVyS2V5SW5jcmVtZW50KS50b1N0cmluZygpO1xuICAgIH1cblxuICAgIGhhbmRsZXJzW2hhbmRsZXIuX19yb3V0ZXJLZXldID0gY3VycmVudEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgIGhpc3RvcnkucHVzaFN0YXRlKHtcbiAgICAgICAga2V5OiBoYW5kbGVyLl9fcm91dGVyS2V5LFxuICAgICAgICBlbnRlclN0YXRlOiBjbG9uZVN0YXRlKHN0YXRlKVxuICAgIH0sXG4gICAgICAgIFwicm91dGVyXCIsXG4gICAgICAgIHVybCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGYWxsYmFja0JhY2tIYW5kbGVyKGhhbmRsZXIpIHtcbiAgICBmYWxsYmFja0hhbmRsZXIgPSBoYW5kbGVyO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzdG9yZShzdG9yZSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IG51bGwpXG4gICAgICAgIHJldHVybjtcblxuICAgIE9iamVjdC5rZXlzKHN0YXRlKS5mb3JFYWNoKGsgPT4ge1xuICAgICAgICBsZXQgdiA9IHN0YXRlW2tdO1xuXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHYpKSB7XG4gICAgICAgICAgICBsZXQgdCA9IHN0b3JlW2tdO1xuICAgICAgICAgICAgaWYgKCF0LnZhbHVlT2YoKSlcbiAgICAgICAgICAgICAgICBzdG9yZVtrXSA9IHY7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgc3RvcmVba10uc3BsaWNlKDAsIHQudmFsdWVPZigpLmxlbmd0aCwgLi4udik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodiBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgICAgICAgICAgbGV0IHQgPSBzdG9yZVtrXVxuICAgICAgICAgICAgaWYgKCF0LnZhbHVlT2YoKSkge1xuICAgICAgICAgICAgICAgIHN0b3JlW2tdID0gdjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdG9yZShzdG9yZVtrXSwgdik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdG9yZVtrXSA9IHY7XG4gICAgICAgIH1cbiAgICB9KTtcbn0iLCJpbXBvcnQgeyBwb29sU3dpdGNoLCBkaXYsIGJ1dHRvbiwgdXBkYXRlVWlpIH0gZnJvbSBcIi4uLy4uLy4uL3VpaVwiO1xuaW1wb3J0IHsgcHVzaFN0YXRlIH0gZnJvbSBcIi4uLy4uLy4uL3JvdXRlclwiO1xuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSBcIi4uLy4uLy4uL3VpaVwiO1xuXG5jbGFzcyBQb3B1cCBleHRlbmRzIENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IoY29udGV4dCkge1xuICAgICAgICBzdXBlcihudWxsLCBjb250ZXh0KTtcbiAgICB9XG5cbiAgICBhd2FrZSgpIHtcbiAgICAgICAgcHVzaFN0YXRlKG51bGwsIG51bGwsIHtcbiAgICAgICAgICAgIG9uZXhpdDogKCkgPT4gdGhpcy5jb250ZXh0LmhpZGUoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnQoKSB7XG4gICAgICAgIHJldHVybiBkaXYoe1xuICAgICAgICAgICAgc3R5bGU6IFwicG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAzMyU7IHJpZ2h0OiAzMyU7IHRvcDogMjUlOyBib3R0b206IDUwJTsgYm9yZGVyOiBzb2xpZCAycHggZ3JlZW47IGNvbG9yIGdyZWVuOyBkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsgZmxleC1mbG93OiBjb2x1bW47XCJcbiAgICAgICAgfSxcbiAgICAgICAgICAgIGRpdih7IGlubmVyVGV4dDogXCJwb3B1cFwiLCBzdHlsZTogXCJ0ZXh0LWFsaWduOiBjZW50ZXJcIiB9KSxcbiAgICAgICAgICAgIGJ1dHRvbih7IGlubmVyVGV4dDogXCJjbG9zZVwiLCBvbmNsaWNrOiB0aGlzLmNvbnRleHQuaGlkZSB9KVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBvcHVwKHsgYWN0aXZlLCBoaWRlIH0pIHtcbiAgICByZXR1cm4gcG9vbFN3aXRjaCh7XG4gICAgICAgIGFjdGl2ZSxcbiAgICAgICAgY29tcG9uZW50OiAoKSA9PiBuZXcgUG9wdXAoeyBhY3RpdmUsIGhpZGUgfSlcbiAgICB9KVxufSIsImltcG9ydCB7IGRpdiwgbW91bnQsIHN3aXRjaENvbXBvbmVudCwgaW5wdXRUZXh0LCBidXR0b24sIGxpc3QsIHBvb2xMaXN0LCB1c2VTdG9yZSwgcG9vbFN3aXRjaCB9IGZyb20gXCIuLi8uLi91aWlcIjtcbmltcG9ydCB7IHB1c2hTdGF0ZSwgdXNlRmFsbGJhY2tCYWNrSGFuZGxlciwgcmVzdG9yZSB9IGZyb20gXCIuLi8uLi9yb3V0ZXJcIjtcbmltcG9ydCB7IHBvcHVwIH0gZnJvbSBcIi4vd2l0aFVpaS9wb3B1cFwiO1xuXG4vLyBFeHBlcmltZW50YWwgZGVmYXVsdCBoaXN0b3J5IHBvcHN0YXRlIGhhbmRsZXJcbnVzZUZhbGxiYWNrQmFja0hhbmRsZXIoKCkgPT4ge1xuICAgIHJvdXRlLnBhdGhuYW1lID0gbG9jYXRpb24ucGF0aG5hbWU7XG59KTtcblxuLy8gRGVmaW5pbmcgc3RvcmVzXG4vLyB1c2VTdG9yZSByZXR1cm5zIHByb3h5IG9mIHlvdXIgc291cmNlIG9iamVjdFxubGV0IHN0b3JlID0gdXNlU3RvcmUoe1xuICAgIG5hbWU6IFwicmVuYW1lIG1lXCIsXG4gICAgbGFuZ3M6IFtcImVuXCIsIFwicnVcIl1cbn0pO1xubGV0IHBvcHVwU3RvcmUgPSB1c2VTdG9yZSh7XG4gICAgcXVldWU6IFtdLFxuXG4gICAgcHVzaFBvcHVwOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnF1ZXVlLnB1c2goZGF0YSk7XG4gICAgfSxcbiAgICBjbG9zZVBvcHVwOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucXVldWUuc2hpZnQoKTtcbiAgICB9XG59KTtcblxubGV0IHJvdXRlID0gdXNlU3RvcmUoe1xuICAgIHBhdGhuYW1lOiBsb2NhdGlvbi5wYXRobmFtZSxcblxuICAgIGdvdG9Ib21lOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuZ290byhcIi9cIik7XG4gICAgfSxcbiAgICBnb3RvQ29udGVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmdvdG8oXCIvY29udGVudFwiKTtcbiAgICB9LFxuICAgIGdvdG86IGZ1bmN0aW9uIChwYXRobmFtZSkge1xuICAgICAgICB0aGlzLnBhdGhuYW1lID0gcGF0aG5hbWU7XG5cbiAgICAgICAgLy8gUHVzaGluZyBoaXN0b3J5IHN0YXRlIHdpdGggbmV3IHVybFxuICAgICAgICBwdXNoU3RhdGUodGhpcywgdGhpcy5wYXRobmFtZSwge1xuICAgICAgICAgICAgb25lbnRlcjogKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzdG9yZSh0aGlzLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG59KTtcblxuLy8gQXBwbGljYXRpb24gZW50cnkgcG9pbnRcbm1vdW50KGRvY3VtZW50LmJvZHksXG5cbiAgICAvLyBodG1sIGJvZHkgY29udGVudFxuICAgIHBvcHVwKHtcbiAgICAgICAgLy8gYXJyb3cgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYXV0b21hdGljYWxseSBvbiBjb21wb25lbnQgY3JlYXRpbmcgYW5kIGVhY2ggdGltZSB0aGVuIGluIHVzZSBzdG9yZSBwcm9wZXJ0aWVzIGNoYW5nZWRcbiAgICAgICAgYWN0aXZlOiAoKSA9PiBwb3B1cFN0b3JlLnF1ZXVlLmxlbmd0aCA+IDAsXG4gICAgICAgIGhpZGU6IHBvcHVwU3RvcmUuY2xvc2VQb3B1cFxuICAgIH0pLFxuICAgIGJ1dHRvbih7IGlubmVyVGV4dDogXCJib28hXCIsIG9uY2xpY2s6ICgpID0+IHBvcHVwU3RvcmUucHVzaFBvcHVwKHt9KSB9KSxcbiAgICBkaXYoe1xuICAgICAgICAvLyBjb21wb25lbnQgd2lsbCB1cGRhdGUgaXRzIGF0dHJpYnV0ZXMgd2hlbiBzdG9yZSBwcm9wZXJ0eSBjaGFuZ2VkXG4gICAgICAgIGlubmVyVGV4dDogc3RvcmUubmFtZVxuICAgIH0pLFxuICAgIGRpdih7fSxcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgLy8gZGVmaW5pbmcgY29tcG9uZW50IGxvY2FsIHN0YXRlXG4gICAgICAgICAgICBsZXQgaW5wdXRTdG9yZSA9IHVzZVN0b3JlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIGlucHV0VGV4dCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFN0b3JlLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZTogKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0U3RvcmUudmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJzYXZlXCIsXG4gICAgICAgICAgICAgICAgICAgIC8vIGh0bWwgZWxlbWVudCBldmVudHMgdHJpZ2dlciBjb21wb25lbnQgdXBkYXRlIGZvciB3aGljaCBzdG9yZSBwcm9wZXJ0aWVzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gb25seSBhdHRyaWJ1dGVzIG9yIG9ubHkgbGlzdCBlbGVtZW50cyB3aWxsIGJlIHVwZGF0ZWQgd2hpY2ggdXNlZCBjaGFuZ2VkIHByb3BlcnRpZXNcbiAgICAgICAgICAgICAgICAgICAgb25jbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUubmFtZSA9IGlucHV0U3RvcmUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN0b3JlLnZhbHVlID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICksXG4gICAgZGl2KHt9LFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAvLyBkZWZpbmluZyBjb21wb25lbnQgbG9jYWwgc3RhdGVcbiAgICAgICAgICAgIGxldCBpbnB1dFN0b3JlID0gdXNlU3RvcmUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgaW5wdXRUZXh0KHtcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibGFuZ1wiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5wdXRTdG9yZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U6IChlKSA9PiBpbnB1dFN0b3JlLnZhbHVlID0gZS50YXJnZXQudmFsdWVcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBpbm5lclRleHQ6IFwiQWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmxhbmdzLnB1c2goaW5wdXRTdG9yZS52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN0b3JlLnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdO1xuICAgICAgICB9KSxcbiAgICBkaXYoe30sXG4gICAgICAgIGRpdih7XG4gICAgICAgICAgICBzdHlsZTogXCJjb2xvcjogZ3JlZW5cIixcbiAgICAgICAgICAgIGlubmVyVGV4dDogc3RvcmUubGFuZ3MubGVuZ3RoXG4gICAgICAgIH0pLFxuICAgICAgICAvLyBwb29sLi4uIGluZGljYXRlcyB0aGF0IGNvbXBvbmVudCB3aWxsIHJldXNlIHJlbW92ZWQgY29tcG9uZW50cyB3aXRoIG5ldyBzdGF0ZVxuICAgICAgICBwb29sTGlzdCh7XG4gICAgICAgICAgICBkYXRhOiBzdG9yZS5sYW5ncyxcbiAgICAgICAgICAgIGNvbXBvbmVudDogKGRhdGEpID0+IFtkaXYoe1xuICAgICAgICAgICAgICAgIGlubmVyVGV4dDogZGF0YVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBidXR0b24oe1xuICAgICAgICAgICAgICAgIGlubmVyVGV4dDogXCJyZW1vdmVcIixcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiAoKSA9PiBzdG9yZS5sYW5ncy5zcGxpY2Uoc3RvcmUubGFuZ3MuaW5kZXhPZihkYXRhKSwgMSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBdXG4gICAgICAgIH0pXG4gICAgKSxcbiAgICBkaXYoe30sXG4gICAgICAgIC8vIHBhZ2Ugcm91dGVyXG4gICAgICAgIC8vIGNhY2hlcyBpbmFjdGl2ZSBwYWdlIGNvbXBvbmVudHMgd2hlbiB0aGV5IGFyZSBsb2FkZWQgYW5kIGRlYWN0aXZhdGVkXG4gICAgICAgIHBvb2xTd2l0Y2goXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gc3RvcmUgcHJvcGVydGllcyBjYW4ndCBiZSBjb21wYXJlZCBkaXJlY3RseSB3aXRoIHZhbHVlc1xuICAgICAgICAgICAgICAgIC8vIHlvdSBzaG91bGQgY2FsbCB2YWx1ZU9mIHRvIGdldCB2YWx1ZSBvZiBwcm9wZXJ0eSBwcm94eVxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gcm91dGUucGF0aG5hbWUudmFsdWVPZigpID09PSBcIi9cIixcbiAgICAgICAgICAgICAgICBjb21wb25lbnQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdih7IGlubmVyVGV4dDogXCJIb21lXCIgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYoeyBpbm5lclRleHQ6IFwiSGVsbG8gZXZlcnlib2R5ISBHbGFkIHRvIHNlZSB5b3UgYXQgbXkgaG9tZSEgUGxlYXNlIGdvIHRvIHNlZSBteSBjb250ZW50IVwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uKHsgaW5uZXJUZXh0OiBcInRvIGNvbnRlbnQhXCIsIG9uY2xpY2s6IHJvdXRlLmdvdG9Db250ZW50IH0pXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiByb3V0ZS5wYXRobmFtZS5zdGFydHNXaXRoKFwiL2NvbnRlbnRcIiksXG4gICAgICAgICAgICAgICAgY29tcG9uZW50OiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXYoeyBpbm5lclRleHQ6IFwiQ29udGVudFwiIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGl2KHsgaW5uZXJUZXh0OiBcIkhleSEgSGVyZSBpcyBteSBjb250ZW50ISBFbmpveSB0byBzZWUgdGhhdCFcIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpdih7IGlubmVyVGV4dDogXCJUaXJlZCBvZiBjb250ZW50PyBHbyBob21lIGFuZCBnZXQgcmVzdC5cIiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbih7IGlubmVyVGV4dDogXCJ0byBob21lXCIsIG9uY2xpY2s6IHJvdXRlLmdvdG9Ib21lIH0pXG4gICAgICAgICAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgfVxuICAgICAgICApXG4gICAgKVxuKTsiXSwic291cmNlUm9vdCI6IiJ9